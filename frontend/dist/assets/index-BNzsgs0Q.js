function qd(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const l in r)if(l!=="default"&&!(l in e)){const a=Object.getOwnPropertyDescriptor(r,l);a&&Object.defineProperty(e,l,a.get?a:{enumerable:!0,get:()=>r[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(l){if(l.ep)return;l.ep=!0;const a=n(l);fetch(l.href,a)}})();function Zd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var pc={exports:{}},el={},hc={exports:{}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wr=Symbol.for("react.element"),ef=Symbol.for("react.portal"),tf=Symbol.for("react.fragment"),nf=Symbol.for("react.strict_mode"),rf=Symbol.for("react.profiler"),sf=Symbol.for("react.provider"),lf=Symbol.for("react.context"),af=Symbol.for("react.forward_ref"),of=Symbol.for("react.suspense"),cf=Symbol.for("react.memo"),uf=Symbol.for("react.lazy"),Gi=Symbol.iterator;function df(e){return e===null||typeof e!="object"?null:(e=Gi&&e[Gi]||e["@@iterator"],typeof e=="function"?e:null)}var gc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xc=Object.assign,vc={};function qn(e,t,n){this.props=e,this.context=t,this.refs=vc,this.updater=n||gc}qn.prototype.isReactComponent={};qn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};qn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function yc(){}yc.prototype=qn.prototype;function Ga(e,t,n){this.props=e,this.context=t,this.refs=vc,this.updater=n||gc}var Ya=Ga.prototype=new yc;Ya.constructor=Ga;xc(Ya,qn.prototype);Ya.isPureReactComponent=!0;var Yi=Array.isArray,wc=Object.prototype.hasOwnProperty,Ja={current:null},jc={key:!0,ref:!0,__self:!0,__source:!0};function Nc(e,t,n){var r,l={},a=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)wc.call(t,r)&&!jc.hasOwnProperty(r)&&(l[r]=t[r]);var o=arguments.length-2;if(o===1)l.children=n;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];l.children=c}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)l[r]===void 0&&(l[r]=o[r]);return{$$typeof:Wr,type:e,key:a,ref:i,props:l,_owner:Ja.current}}function ff(e,t){return{$$typeof:Wr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Xa(e){return typeof e=="object"&&e!==null&&e.$$typeof===Wr}function mf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ji=/\/+/g;function Nl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?mf(""+e.key):t.toString(36)}function gs(e,t,n,r,l){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Wr:case ef:i=!0}}if(i)return i=e,l=l(i),e=r===""?"."+Nl(i,0):r,Yi(l)?(n="",e!=null&&(n=e.replace(Ji,"$&/")+"/"),gs(l,t,n,"",function(u){return u})):l!=null&&(Xa(l)&&(l=ff(l,n+(!l.key||i&&i.key===l.key?"":(""+l.key).replace(Ji,"$&/")+"/")+e)),t.push(l)),1;if(i=0,r=r===""?".":r+":",Yi(e))for(var o=0;o<e.length;o++){a=e[o];var c=r+Nl(a,o);i+=gs(a,t,n,c,l)}else if(c=df(e),typeof c=="function")for(e=c.call(e),o=0;!(a=e.next()).done;)a=a.value,c=r+Nl(a,o++),i+=gs(a,t,n,c,l);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Zr(e,t,n){if(e==null)return e;var r=[],l=0;return gs(e,r,"","",function(a){return t.call(n,a,l++)}),r}function pf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var De={current:null},xs={transition:null},hf={ReactCurrentDispatcher:De,ReactCurrentBatchConfig:xs,ReactCurrentOwner:Ja};function bc(){throw Error("act(...) is not supported in production builds of React.")}J.Children={map:Zr,forEach:function(e,t,n){Zr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Zr(e,function(){t++}),t},toArray:function(e){return Zr(e,function(t){return t})||[]},only:function(e){if(!Xa(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};J.Component=qn;J.Fragment=tf;J.Profiler=rf;J.PureComponent=Ga;J.StrictMode=nf;J.Suspense=of;J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hf;J.act=bc;J.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=xc({},e.props),l=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=Ja.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)wc.call(t,c)&&!jc.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:Wr,type:e.type,key:l,ref:a,props:r,_owner:i}};J.createContext=function(e){return e={$$typeof:lf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:sf,_context:e},e.Consumer=e};J.createElement=Nc;J.createFactory=function(e){var t=Nc.bind(null,e);return t.type=e,t};J.createRef=function(){return{current:null}};J.forwardRef=function(e){return{$$typeof:af,render:e}};J.isValidElement=Xa;J.lazy=function(e){return{$$typeof:uf,_payload:{_status:-1,_result:e},_init:pf}};J.memo=function(e,t){return{$$typeof:cf,type:e,compare:t===void 0?null:t}};J.startTransition=function(e){var t=xs.transition;xs.transition={};try{e()}finally{xs.transition=t}};J.unstable_act=bc;J.useCallback=function(e,t){return De.current.useCallback(e,t)};J.useContext=function(e){return De.current.useContext(e)};J.useDebugValue=function(){};J.useDeferredValue=function(e){return De.current.useDeferredValue(e)};J.useEffect=function(e,t){return De.current.useEffect(e,t)};J.useId=function(){return De.current.useId()};J.useImperativeHandle=function(e,t,n){return De.current.useImperativeHandle(e,t,n)};J.useInsertionEffect=function(e,t){return De.current.useInsertionEffect(e,t)};J.useLayoutEffect=function(e,t){return De.current.useLayoutEffect(e,t)};J.useMemo=function(e,t){return De.current.useMemo(e,t)};J.useReducer=function(e,t,n){return De.current.useReducer(e,t,n)};J.useRef=function(e){return De.current.useRef(e)};J.useState=function(e){return De.current.useState(e)};J.useSyncExternalStore=function(e,t,n){return De.current.useSyncExternalStore(e,t,n)};J.useTransition=function(){return De.current.useTransition()};J.version="18.3.1";hc.exports=J;var m=hc.exports;const kc=Zd(m),gf=qd({__proto__:null,default:kc},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xf=m,vf=Symbol.for("react.element"),yf=Symbol.for("react.fragment"),wf=Object.prototype.hasOwnProperty,jf=xf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Nf={key:!0,ref:!0,__self:!0,__source:!0};function Sc(e,t,n){var r,l={},a=null,i=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)wf.call(t,r)&&!Nf.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:vf,type:e,key:a,ref:i,props:l,_owner:jf.current}}el.Fragment=yf;el.jsx=Sc;el.jsxs=Sc;pc.exports=el;var s=pc.exports,Ec={exports:{}},Ye={},Cc={exports:{}},Pc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(k,F){var C=k.length;k.push(F);e:for(;0<C;){var z=C-1>>>1,R=k[z];if(0<l(R,F))k[z]=F,k[C]=R,C=z;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var F=k[0],C=k.pop();if(C!==F){k[0]=C;e:for(var z=0,R=k.length,V=R>>>1;z<V;){var U=2*(z+1)-1,G=k[U],$=U+1,W=k[$];if(0>l(G,C))$<R&&0>l(W,G)?(k[z]=W,k[$]=C,z=$):(k[z]=G,k[U]=C,z=U);else if($<R&&0>l(W,C))k[z]=W,k[$]=C,z=$;else break e}}return F}function l(k,F){var C=k.sortIndex-F.sortIndex;return C!==0?C:k.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var c=[],u=[],p=1,d=null,g=3,j=!1,v=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(k){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=k)r(u),F.sortIndex=F.expirationTime,t(c,F);else break;F=n(u)}}function y(k){if(w=!1,x(k),!v)if(n(c)!==null)v=!0,Z(S);else{var F=n(u);F!==null&&fe(y,F.startTime-k)}}function S(k,F){v=!1,w&&(w=!1,h(L),L=-1),j=!0;var C=g;try{for(x(F),d=n(c);d!==null&&(!(d.expirationTime>F)||k&&!O());){var z=d.callback;if(typeof z=="function"){d.callback=null,g=d.priorityLevel;var R=z(d.expirationTime<=F);F=e.unstable_now(),typeof R=="function"?d.callback=R:d===n(c)&&r(c),x(F)}else r(c);d=n(c)}if(d!==null)var V=!0;else{var U=n(u);U!==null&&fe(y,U.startTime-F),V=!1}return V}finally{d=null,g=C,j=!1}}var b=!1,_=null,L=-1,M=5,N=-1;function O(){return!(e.unstable_now()-N<M)}function H(){if(_!==null){var k=e.unstable_now();N=k;var F=!0;try{F=_(!0,k)}finally{F?D():(b=!1,_=null)}}else b=!1}var D;if(typeof f=="function")D=function(){f(H)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,K=B.port2;B.port1.onmessage=H,D=function(){K.postMessage(null)}}else D=function(){E(H,0)};function Z(k){_=k,b||(b=!0,D())}function fe(k,F){L=E(function(){k(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(k){k.callback=null},e.unstable_continueExecution=function(){v||j||(v=!0,Z(S))},e.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<k?Math.floor(1e3/k):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(k){switch(g){case 1:case 2:case 3:var F=3;break;default:F=g}var C=g;g=F;try{return k()}finally{g=C}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(k,F){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var C=g;g=k;try{return F()}finally{g=C}},e.unstable_scheduleCallback=function(k,F,C){var z=e.unstable_now();switch(typeof C=="object"&&C!==null?(C=C.delay,C=typeof C=="number"&&0<C?z+C:z):C=z,k){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=C+R,k={id:p++,callback:F,priorityLevel:k,startTime:C,expirationTime:R,sortIndex:-1},C>z?(k.sortIndex=C,t(u,k),n(c)===null&&k===n(u)&&(w?(h(L),L=-1):w=!0,fe(y,C-z))):(k.sortIndex=R,t(c,k),v||j||(v=!0,Z(S))),k},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(k){var F=g;return function(){var C=g;g=F;try{return k.apply(this,arguments)}finally{g=C}}}})(Pc);Cc.exports=Pc;var bf=Cc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kf=m,Ge=bf;function I(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _c=new Set,Sr={};function vn(e,t){Vn(e,t),Vn(e+"Capture",t)}function Vn(e,t){for(Sr[e]=t,e=0;e<t.length;e++)_c.add(t[e])}var Ct=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jl=Object.prototype.hasOwnProperty,Sf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xi={},qi={};function Ef(e){return Jl.call(qi,e)?!0:Jl.call(Xi,e)?!1:Sf.test(e)?qi[e]=!0:(Xi[e]=!0,!1)}function Cf(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Pf(e,t,n,r){if(t===null||typeof t>"u"||Cf(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Oe(e,t,n,r,l,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var _e={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){_e[e]=new Oe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];_e[t]=new Oe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){_e[e]=new Oe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){_e[e]=new Oe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){_e[e]=new Oe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){_e[e]=new Oe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){_e[e]=new Oe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){_e[e]=new Oe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){_e[e]=new Oe(e,5,!1,e.toLowerCase(),null,!1,!1)});var qa=/[\-:]([a-z])/g;function Za(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(qa,Za);_e[t]=new Oe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(qa,Za);_e[t]=new Oe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(qa,Za);_e[t]=new Oe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){_e[e]=new Oe(e,1,!1,e.toLowerCase(),null,!1,!1)});_e.xlinkHref=new Oe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){_e[e]=new Oe(e,1,!1,e.toLowerCase(),null,!0,!0)});function ei(e,t,n,r){var l=_e.hasOwnProperty(t)?_e[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Pf(t,n,l,r)&&(n=null),r||l===null?Ef(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Lt=kf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,es=Symbol.for("react.element"),kn=Symbol.for("react.portal"),Sn=Symbol.for("react.fragment"),ti=Symbol.for("react.strict_mode"),Xl=Symbol.for("react.profiler"),Mc=Symbol.for("react.provider"),Lc=Symbol.for("react.context"),ni=Symbol.for("react.forward_ref"),ql=Symbol.for("react.suspense"),Zl=Symbol.for("react.suspense_list"),ri=Symbol.for("react.memo"),Rt=Symbol.for("react.lazy"),zc=Symbol.for("react.offscreen"),Zi=Symbol.iterator;function sr(e){return e===null||typeof e!="object"?null:(e=Zi&&e[Zi]||e["@@iterator"],typeof e=="function"?e:null)}var de=Object.assign,bl;function fr(e){if(bl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);bl=t&&t[1]||""}return`
`+bl+e}var kl=!1;function Sl(e,t){if(!e||kl)return"";kl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var l=u.stack.split(`
`),a=r.stack.split(`
`),i=l.length-1,o=a.length-1;1<=i&&0<=o&&l[i]!==a[o];)o--;for(;1<=i&&0<=o;i--,o--)if(l[i]!==a[o]){if(i!==1||o!==1)do if(i--,o--,0>o||l[i]!==a[o]){var c=`
`+l[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=o);break}}}finally{kl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?fr(e):""}function _f(e){switch(e.tag){case 5:return fr(e.type);case 16:return fr("Lazy");case 13:return fr("Suspense");case 19:return fr("SuspenseList");case 0:case 2:case 15:return e=Sl(e.type,!1),e;case 11:return e=Sl(e.type.render,!1),e;case 1:return e=Sl(e.type,!0),e;default:return""}}function ea(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Sn:return"Fragment";case kn:return"Portal";case Xl:return"Profiler";case ti:return"StrictMode";case ql:return"Suspense";case Zl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Lc:return(e.displayName||"Context")+".Consumer";case Mc:return(e._context.displayName||"Context")+".Provider";case ni:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ri:return t=e.displayName||null,t!==null?t:ea(e.type)||"Memo";case Rt:t=e._payload,e=e._init;try{return ea(e(t))}catch{}}return null}function Mf(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ea(t);case 8:return t===ti?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Zt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Fc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Lf(e){var t=Fc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(i){r=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ts(e){e._valueTracker||(e._valueTracker=Lf(e))}function Tc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Fc(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ps(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ta(e,t){var n=t.checked;return de({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function eo(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Zt(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Rc(e,t){t=t.checked,t!=null&&ei(e,"checked",t,!1)}function na(e,t){Rc(e,t);var n=Zt(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ra(e,t.type,n):t.hasOwnProperty("defaultValue")&&ra(e,t.type,Zt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function to(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ra(e,t,n){(t!=="number"||Ps(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var mr=Array.isArray;function Dn(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Zt(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function sa(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(I(91));return de({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function no(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(I(92));if(mr(n)){if(1<n.length)throw Error(I(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Zt(n)}}function Ic(e,t){var n=Zt(t.value),r=Zt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ro(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Dc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function la(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Dc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ns,Oc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ns=ns||document.createElement("div"),ns.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ns.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Er(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var gr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zf=["Webkit","ms","Moz","O"];Object.keys(gr).forEach(function(e){zf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),gr[t]=gr[e]})});function Ac(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||gr.hasOwnProperty(e)&&gr[e]?(""+t).trim():t+"px"}function $c(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=Ac(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var Ff=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function aa(e,t){if(t){if(Ff[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(I(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(I(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(I(61))}if(t.style!=null&&typeof t.style!="object")throw Error(I(62))}}function ia(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oa=null;function si(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ca=null,On=null,An=null;function so(e){if(e=Gr(e)){if(typeof ca!="function")throw Error(I(280));var t=e.stateNode;t&&(t=ll(t),ca(e.stateNode,e.type,t))}}function Uc(e){On?An?An.push(e):An=[e]:On=e}function Bc(){if(On){var e=On,t=An;if(An=On=null,so(e),t)for(e=0;e<t.length;e++)so(t[e])}}function Vc(e,t){return e(t)}function Hc(){}var El=!1;function Wc(e,t,n){if(El)return e(t,n);El=!0;try{return Vc(e,t,n)}finally{El=!1,(On!==null||An!==null)&&(Hc(),Bc())}}function Cr(e,t){var n=e.stateNode;if(n===null)return null;var r=ll(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(I(231,t,typeof n));return n}var ua=!1;if(Ct)try{var lr={};Object.defineProperty(lr,"passive",{get:function(){ua=!0}}),window.addEventListener("test",lr,lr),window.removeEventListener("test",lr,lr)}catch{ua=!1}function Tf(e,t,n,r,l,a,i,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(p){this.onError(p)}}var xr=!1,_s=null,Ms=!1,da=null,Rf={onError:function(e){xr=!0,_s=e}};function If(e,t,n,r,l,a,i,o,c){xr=!1,_s=null,Tf.apply(Rf,arguments)}function Df(e,t,n,r,l,a,i,o,c){if(If.apply(this,arguments),xr){if(xr){var u=_s;xr=!1,_s=null}else throw Error(I(198));Ms||(Ms=!0,da=u)}}function yn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Qc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function lo(e){if(yn(e)!==e)throw Error(I(188))}function Of(e){var t=e.alternate;if(!t){if(t=yn(e),t===null)throw Error(I(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var a=l.alternate;if(a===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===a.child){for(a=l.child;a;){if(a===n)return lo(l),e;if(a===r)return lo(l),t;a=a.sibling}throw Error(I(188))}if(n.return!==r.return)n=l,r=a;else{for(var i=!1,o=l.child;o;){if(o===n){i=!0,n=l,r=a;break}if(o===r){i=!0,r=l,n=a;break}o=o.sibling}if(!i){for(o=a.child;o;){if(o===n){i=!0,n=a,r=l;break}if(o===r){i=!0,r=a,n=l;break}o=o.sibling}if(!i)throw Error(I(189))}}if(n.alternate!==r)throw Error(I(190))}if(n.tag!==3)throw Error(I(188));return n.stateNode.current===n?e:t}function Kc(e){return e=Of(e),e!==null?Gc(e):null}function Gc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Gc(e);if(t!==null)return t;e=e.sibling}return null}var Yc=Ge.unstable_scheduleCallback,ao=Ge.unstable_cancelCallback,Af=Ge.unstable_shouldYield,$f=Ge.unstable_requestPaint,xe=Ge.unstable_now,Uf=Ge.unstable_getCurrentPriorityLevel,li=Ge.unstable_ImmediatePriority,Jc=Ge.unstable_UserBlockingPriority,Ls=Ge.unstable_NormalPriority,Bf=Ge.unstable_LowPriority,Xc=Ge.unstable_IdlePriority,tl=null,vt=null;function Vf(e){if(vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(tl,e,void 0,(e.current.flags&128)===128)}catch{}}var ut=Math.clz32?Math.clz32:Qf,Hf=Math.log,Wf=Math.LN2;function Qf(e){return e>>>=0,e===0?32:31-(Hf(e)/Wf|0)|0}var rs=64,ss=4194304;function pr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function zs(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,a=e.pingedLanes,i=n&268435455;if(i!==0){var o=i&~l;o!==0?r=pr(o):(a&=i,a!==0&&(r=pr(a)))}else i=n&~l,i!==0?r=pr(i):a!==0&&(r=pr(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,a=t&-t,l>=a||l===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ut(t),l=1<<n,r|=e[n],t&=~l;return r}function Kf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gf(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-ut(a),o=1<<i,c=l[i];c===-1?(!(o&n)||o&r)&&(l[i]=Kf(o,t)):c<=t&&(e.expiredLanes|=o),a&=~o}}function fa(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function qc(){var e=rs;return rs<<=1,!(rs&4194240)&&(rs=64),e}function Cl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Qr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ut(t),e[t]=n}function Yf(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-ut(n),a=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~a}}function ai(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ut(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var ne=0;function Zc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var eu,ii,tu,nu,ru,ma=!1,ls=[],Vt=null,Ht=null,Wt=null,Pr=new Map,_r=new Map,Dt=[],Jf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function io(e,t){switch(e){case"focusin":case"focusout":Vt=null;break;case"dragenter":case"dragleave":Ht=null;break;case"mouseover":case"mouseout":Wt=null;break;case"pointerover":case"pointerout":Pr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_r.delete(t.pointerId)}}function ar(e,t,n,r,l,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[l]},t!==null&&(t=Gr(t),t!==null&&ii(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Xf(e,t,n,r,l){switch(t){case"focusin":return Vt=ar(Vt,e,t,n,r,l),!0;case"dragenter":return Ht=ar(Ht,e,t,n,r,l),!0;case"mouseover":return Wt=ar(Wt,e,t,n,r,l),!0;case"pointerover":var a=l.pointerId;return Pr.set(a,ar(Pr.get(a)||null,e,t,n,r,l)),!0;case"gotpointercapture":return a=l.pointerId,_r.set(a,ar(_r.get(a)||null,e,t,n,r,l)),!0}return!1}function su(e){var t=on(e.target);if(t!==null){var n=yn(t);if(n!==null){if(t=n.tag,t===13){if(t=Qc(n),t!==null){e.blockedOn=t,ru(e.priority,function(){tu(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=pa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);oa=r,n.target.dispatchEvent(r),oa=null}else return t=Gr(n),t!==null&&ii(t),e.blockedOn=n,!1;t.shift()}return!0}function oo(e,t,n){vs(e)&&n.delete(t)}function qf(){ma=!1,Vt!==null&&vs(Vt)&&(Vt=null),Ht!==null&&vs(Ht)&&(Ht=null),Wt!==null&&vs(Wt)&&(Wt=null),Pr.forEach(oo),_r.forEach(oo)}function ir(e,t){e.blockedOn===t&&(e.blockedOn=null,ma||(ma=!0,Ge.unstable_scheduleCallback(Ge.unstable_NormalPriority,qf)))}function Mr(e){function t(l){return ir(l,e)}if(0<ls.length){ir(ls[0],e);for(var n=1;n<ls.length;n++){var r=ls[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Vt!==null&&ir(Vt,e),Ht!==null&&ir(Ht,e),Wt!==null&&ir(Wt,e),Pr.forEach(t),_r.forEach(t),n=0;n<Dt.length;n++)r=Dt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&(n=Dt[0],n.blockedOn===null);)su(n),n.blockedOn===null&&Dt.shift()}var $n=Lt.ReactCurrentBatchConfig,Fs=!0;function Zf(e,t,n,r){var l=ne,a=$n.transition;$n.transition=null;try{ne=1,oi(e,t,n,r)}finally{ne=l,$n.transition=a}}function em(e,t,n,r){var l=ne,a=$n.transition;$n.transition=null;try{ne=4,oi(e,t,n,r)}finally{ne=l,$n.transition=a}}function oi(e,t,n,r){if(Fs){var l=pa(e,t,n,r);if(l===null)Dl(e,t,r,Ts,n),io(e,r);else if(Xf(l,e,t,n,r))r.stopPropagation();else if(io(e,r),t&4&&-1<Jf.indexOf(e)){for(;l!==null;){var a=Gr(l);if(a!==null&&eu(a),a=pa(e,t,n,r),a===null&&Dl(e,t,r,Ts,n),a===l)break;l=a}l!==null&&r.stopPropagation()}else Dl(e,t,r,null,n)}}var Ts=null;function pa(e,t,n,r){if(Ts=null,e=si(r),e=on(e),e!==null)if(t=yn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Qc(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ts=e,null}function lu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Uf()){case li:return 1;case Jc:return 4;case Ls:case Bf:return 16;case Xc:return 536870912;default:return 16}default:return 16}}var At=null,ci=null,ys=null;function au(){if(ys)return ys;var e,t=ci,n=t.length,r,l="value"in At?At.value:At.textContent,a=l.length;for(e=0;e<n&&t[e]===l[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===l[a-r];r++);return ys=l.slice(e,1<r?1-r:void 0)}function ws(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function as(){return!0}function co(){return!1}function Je(e){function t(n,r,l,a,i){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?as:co,this.isPropagationStopped=co,this}return de(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=as)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=as)},persist:function(){},isPersistent:as}),t}var Zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ui=Je(Zn),Kr=de({},Zn,{view:0,detail:0}),tm=Je(Kr),Pl,_l,or,nl=de({},Kr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:di,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==or&&(or&&e.type==="mousemove"?(Pl=e.screenX-or.screenX,_l=e.screenY-or.screenY):_l=Pl=0,or=e),Pl)},movementY:function(e){return"movementY"in e?e.movementY:_l}}),uo=Je(nl),nm=de({},nl,{dataTransfer:0}),rm=Je(nm),sm=de({},Kr,{relatedTarget:0}),Ml=Je(sm),lm=de({},Zn,{animationName:0,elapsedTime:0,pseudoElement:0}),am=Je(lm),im=de({},Zn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),om=Je(im),cm=de({},Zn,{data:0}),fo=Je(cm),um={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=fm[e])?!!t[e]:!1}function di(){return mm}var pm=de({},Kr,{key:function(e){if(e.key){var t=um[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ws(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?dm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:di,charCode:function(e){return e.type==="keypress"?ws(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ws(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hm=Je(pm),gm=de({},nl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mo=Je(gm),xm=de({},Kr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:di}),vm=Je(xm),ym=de({},Zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),wm=Je(ym),jm=de({},nl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nm=Je(jm),bm=[9,13,27,32],fi=Ct&&"CompositionEvent"in window,vr=null;Ct&&"documentMode"in document&&(vr=document.documentMode);var km=Ct&&"TextEvent"in window&&!vr,iu=Ct&&(!fi||vr&&8<vr&&11>=vr),po=" ",ho=!1;function ou(e,t){switch(e){case"keyup":return bm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var En=!1;function Sm(e,t){switch(e){case"compositionend":return cu(t);case"keypress":return t.which!==32?null:(ho=!0,po);case"textInput":return e=t.data,e===po&&ho?null:e;default:return null}}function Em(e,t){if(En)return e==="compositionend"||!fi&&ou(e,t)?(e=au(),ys=ci=At=null,En=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return iu&&t.locale!=="ko"?null:t.data;default:return null}}var Cm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function go(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Cm[e.type]:t==="textarea"}function uu(e,t,n,r){Uc(r),t=Rs(t,"onChange"),0<t.length&&(n=new ui("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var yr=null,Lr=null;function Pm(e){ju(e,0)}function rl(e){var t=_n(e);if(Tc(t))return e}function _m(e,t){if(e==="change")return t}var du=!1;if(Ct){var Ll;if(Ct){var zl="oninput"in document;if(!zl){var xo=document.createElement("div");xo.setAttribute("oninput","return;"),zl=typeof xo.oninput=="function"}Ll=zl}else Ll=!1;du=Ll&&(!document.documentMode||9<document.documentMode)}function vo(){yr&&(yr.detachEvent("onpropertychange",fu),Lr=yr=null)}function fu(e){if(e.propertyName==="value"&&rl(Lr)){var t=[];uu(t,Lr,e,si(e)),Wc(Pm,t)}}function Mm(e,t,n){e==="focusin"?(vo(),yr=t,Lr=n,yr.attachEvent("onpropertychange",fu)):e==="focusout"&&vo()}function Lm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return rl(Lr)}function zm(e,t){if(e==="click")return rl(t)}function Fm(e,t){if(e==="input"||e==="change")return rl(t)}function Tm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ft=typeof Object.is=="function"?Object.is:Tm;function zr(e,t){if(ft(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!Jl.call(t,l)||!ft(e[l],t[l]))return!1}return!0}function yo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wo(e,t){var n=yo(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=yo(n)}}function mu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?mu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function pu(){for(var e=window,t=Ps();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ps(e.document)}return t}function mi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Rm(e){var t=pu(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&mu(n.ownerDocument.documentElement,n)){if(r!==null&&mi(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,a=Math.min(r.start,l);r=r.end===void 0?a:Math.min(r.end,l),!e.extend&&a>r&&(l=r,r=a,a=l),l=wo(n,a);var i=wo(n,r);l&&i&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Im=Ct&&"documentMode"in document&&11>=document.documentMode,Cn=null,ha=null,wr=null,ga=!1;function jo(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ga||Cn==null||Cn!==Ps(r)||(r=Cn,"selectionStart"in r&&mi(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),wr&&zr(wr,r)||(wr=r,r=Rs(ha,"onSelect"),0<r.length&&(t=new ui("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Cn)))}function is(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Pn={animationend:is("Animation","AnimationEnd"),animationiteration:is("Animation","AnimationIteration"),animationstart:is("Animation","AnimationStart"),transitionend:is("Transition","TransitionEnd")},Fl={},hu={};Ct&&(hu=document.createElement("div").style,"AnimationEvent"in window||(delete Pn.animationend.animation,delete Pn.animationiteration.animation,delete Pn.animationstart.animation),"TransitionEvent"in window||delete Pn.transitionend.transition);function sl(e){if(Fl[e])return Fl[e];if(!Pn[e])return e;var t=Pn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in hu)return Fl[e]=t[n];return e}var gu=sl("animationend"),xu=sl("animationiteration"),vu=sl("animationstart"),yu=sl("transitionend"),wu=new Map,No="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tn(e,t){wu.set(e,t),vn(t,[e])}for(var Tl=0;Tl<No.length;Tl++){var Rl=No[Tl],Dm=Rl.toLowerCase(),Om=Rl[0].toUpperCase()+Rl.slice(1);tn(Dm,"on"+Om)}tn(gu,"onAnimationEnd");tn(xu,"onAnimationIteration");tn(vu,"onAnimationStart");tn("dblclick","onDoubleClick");tn("focusin","onFocus");tn("focusout","onBlur");tn(yu,"onTransitionEnd");Vn("onMouseEnter",["mouseout","mouseover"]);Vn("onMouseLeave",["mouseout","mouseover"]);Vn("onPointerEnter",["pointerout","pointerover"]);Vn("onPointerLeave",["pointerout","pointerover"]);vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vn("onBeforeInput",["compositionend","keypress","textInput","paste"]);vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Am=new Set("cancel close invalid load scroll toggle".split(" ").concat(hr));function bo(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Df(r,t,void 0,e),e.currentTarget=null}function ju(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var o=r[i],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==a&&l.isPropagationStopped())break e;bo(l,o,u),a=c}else for(i=0;i<r.length;i++){if(o=r[i],c=o.instance,u=o.currentTarget,o=o.listener,c!==a&&l.isPropagationStopped())break e;bo(l,o,u),a=c}}}if(Ms)throw e=da,Ms=!1,da=null,e}function se(e,t){var n=t[ja];n===void 0&&(n=t[ja]=new Set);var r=e+"__bubble";n.has(r)||(Nu(t,e,2,!1),n.add(r))}function Il(e,t,n){var r=0;t&&(r|=4),Nu(n,e,r,t)}var os="_reactListening"+Math.random().toString(36).slice(2);function Fr(e){if(!e[os]){e[os]=!0,_c.forEach(function(n){n!=="selectionchange"&&(Am.has(n)||Il(n,!1,e),Il(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[os]||(t[os]=!0,Il("selectionchange",!1,t))}}function Nu(e,t,n,r){switch(lu(t)){case 1:var l=Zf;break;case 4:l=em;break;default:l=oi}n=l.bind(null,t,n,e),l=void 0,!ua||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function Dl(e,t,n,r,l){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var o=r.stateNode.containerInfo;if(o===l||o.nodeType===8&&o.parentNode===l)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===l||c.nodeType===8&&c.parentNode===l))return;i=i.return}for(;o!==null;){if(i=on(o),i===null)return;if(c=i.tag,c===5||c===6){r=a=i;continue e}o=o.parentNode}}r=r.return}Wc(function(){var u=a,p=si(n),d=[];e:{var g=wu.get(e);if(g!==void 0){var j=ui,v=e;switch(e){case"keypress":if(ws(n)===0)break e;case"keydown":case"keyup":j=hm;break;case"focusin":v="focus",j=Ml;break;case"focusout":v="blur",j=Ml;break;case"beforeblur":case"afterblur":j=Ml;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=uo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=rm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=vm;break;case gu:case xu:case vu:j=am;break;case yu:j=wm;break;case"scroll":j=tm;break;case"wheel":j=Nm;break;case"copy":case"cut":case"paste":j=om;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=mo}var w=(t&4)!==0,E=!w&&e==="scroll",h=w?g!==null?g+"Capture":null:g;w=[];for(var f=u,x;f!==null;){x=f;var y=x.stateNode;if(x.tag===5&&y!==null&&(x=y,h!==null&&(y=Cr(f,h),y!=null&&w.push(Tr(f,y,x)))),E)break;f=f.return}0<w.length&&(g=new j(g,v,null,n,p),d.push({event:g,listeners:w}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",g&&n!==oa&&(v=n.relatedTarget||n.fromElement)&&(on(v)||v[Pt]))break e;if((j||g)&&(g=p.window===p?p:(g=p.ownerDocument)?g.defaultView||g.parentWindow:window,j?(v=n.relatedTarget||n.toElement,j=u,v=v?on(v):null,v!==null&&(E=yn(v),v!==E||v.tag!==5&&v.tag!==6)&&(v=null)):(j=null,v=u),j!==v)){if(w=uo,y="onMouseLeave",h="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(w=mo,y="onPointerLeave",h="onPointerEnter",f="pointer"),E=j==null?g:_n(j),x=v==null?g:_n(v),g=new w(y,f+"leave",j,n,p),g.target=E,g.relatedTarget=x,y=null,on(p)===u&&(w=new w(h,f+"enter",v,n,p),w.target=x,w.relatedTarget=E,y=w),E=y,j&&v)t:{for(w=j,h=v,f=0,x=w;x;x=bn(x))f++;for(x=0,y=h;y;y=bn(y))x++;for(;0<f-x;)w=bn(w),f--;for(;0<x-f;)h=bn(h),x--;for(;f--;){if(w===h||h!==null&&w===h.alternate)break t;w=bn(w),h=bn(h)}w=null}else w=null;j!==null&&ko(d,g,j,w,!1),v!==null&&E!==null&&ko(d,E,v,w,!0)}}e:{if(g=u?_n(u):window,j=g.nodeName&&g.nodeName.toLowerCase(),j==="select"||j==="input"&&g.type==="file")var S=_m;else if(go(g))if(du)S=Fm;else{S=Lm;var b=Mm}else(j=g.nodeName)&&j.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(S=zm);if(S&&(S=S(e,u))){uu(d,S,n,p);break e}b&&b(e,g,u),e==="focusout"&&(b=g._wrapperState)&&b.controlled&&g.type==="number"&&ra(g,"number",g.value)}switch(b=u?_n(u):window,e){case"focusin":(go(b)||b.contentEditable==="true")&&(Cn=b,ha=u,wr=null);break;case"focusout":wr=ha=Cn=null;break;case"mousedown":ga=!0;break;case"contextmenu":case"mouseup":case"dragend":ga=!1,jo(d,n,p);break;case"selectionchange":if(Im)break;case"keydown":case"keyup":jo(d,n,p)}var _;if(fi)e:{switch(e){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else En?ou(e,n)&&(L="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(iu&&n.locale!=="ko"&&(En||L!=="onCompositionStart"?L==="onCompositionEnd"&&En&&(_=au()):(At=p,ci="value"in At?At.value:At.textContent,En=!0)),b=Rs(u,L),0<b.length&&(L=new fo(L,e,null,n,p),d.push({event:L,listeners:b}),_?L.data=_:(_=cu(n),_!==null&&(L.data=_)))),(_=km?Sm(e,n):Em(e,n))&&(u=Rs(u,"onBeforeInput"),0<u.length&&(p=new fo("onBeforeInput","beforeinput",null,n,p),d.push({event:p,listeners:u}),p.data=_))}ju(d,t)})}function Tr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Rs(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,a=l.stateNode;l.tag===5&&a!==null&&(l=a,a=Cr(e,n),a!=null&&r.unshift(Tr(e,a,l)),a=Cr(e,t),a!=null&&r.push(Tr(e,a,l))),e=e.return}return r}function bn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ko(e,t,n,r,l){for(var a=t._reactName,i=[];n!==null&&n!==r;){var o=n,c=o.alternate,u=o.stateNode;if(c!==null&&c===r)break;o.tag===5&&u!==null&&(o=u,l?(c=Cr(n,a),c!=null&&i.unshift(Tr(n,c,o))):l||(c=Cr(n,a),c!=null&&i.push(Tr(n,c,o)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var $m=/\r\n?/g,Um=/\u0000|\uFFFD/g;function So(e){return(typeof e=="string"?e:""+e).replace($m,`
`).replace(Um,"")}function cs(e,t,n){if(t=So(t),So(e)!==t&&n)throw Error(I(425))}function Is(){}var xa=null,va=null;function ya(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var wa=typeof setTimeout=="function"?setTimeout:void 0,Bm=typeof clearTimeout=="function"?clearTimeout:void 0,Eo=typeof Promise=="function"?Promise:void 0,Vm=typeof queueMicrotask=="function"?queueMicrotask:typeof Eo<"u"?function(e){return Eo.resolve(null).then(e).catch(Hm)}:wa;function Hm(e){setTimeout(function(){throw e})}function Ol(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),Mr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);Mr(t)}function Qt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Co(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var er=Math.random().toString(36).slice(2),xt="__reactFiber$"+er,Rr="__reactProps$"+er,Pt="__reactContainer$"+er,ja="__reactEvents$"+er,Wm="__reactListeners$"+er,Qm="__reactHandles$"+er;function on(e){var t=e[xt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Pt]||n[xt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Co(e);e!==null;){if(n=e[xt])return n;e=Co(e)}return t}e=n,n=e.parentNode}return null}function Gr(e){return e=e[xt]||e[Pt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function _n(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(I(33))}function ll(e){return e[Rr]||null}var Na=[],Mn=-1;function nn(e){return{current:e}}function le(e){0>Mn||(e.current=Na[Mn],Na[Mn]=null,Mn--)}function re(e,t){Mn++,Na[Mn]=e.current,e.current=t}var en={},Te=nn(en),Ue=nn(!1),mn=en;function Hn(e,t){var n=e.type.contextTypes;if(!n)return en;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},a;for(a in n)l[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Be(e){return e=e.childContextTypes,e!=null}function Ds(){le(Ue),le(Te)}function Po(e,t,n){if(Te.current!==en)throw Error(I(168));re(Te,t),re(Ue,n)}function bu(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(I(108,Mf(e)||"Unknown",l));return de({},n,r)}function Os(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||en,mn=Te.current,re(Te,e),re(Ue,Ue.current),!0}function _o(e,t,n){var r=e.stateNode;if(!r)throw Error(I(169));n?(e=bu(e,t,mn),r.__reactInternalMemoizedMergedChildContext=e,le(Ue),le(Te),re(Te,e)):le(Ue),re(Ue,n)}var bt=null,al=!1,Al=!1;function ku(e){bt===null?bt=[e]:bt.push(e)}function Km(e){al=!0,ku(e)}function rn(){if(!Al&&bt!==null){Al=!0;var e=0,t=ne;try{var n=bt;for(ne=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}bt=null,al=!1}catch(l){throw bt!==null&&(bt=bt.slice(e+1)),Yc(li,rn),l}finally{ne=t,Al=!1}}return null}var Ln=[],zn=0,As=null,$s=0,Ze=[],et=0,pn=null,kt=1,St="";function ln(e,t){Ln[zn++]=$s,Ln[zn++]=As,As=e,$s=t}function Su(e,t,n){Ze[et++]=kt,Ze[et++]=St,Ze[et++]=pn,pn=e;var r=kt;e=St;var l=32-ut(r)-1;r&=~(1<<l),n+=1;var a=32-ut(t)+l;if(30<a){var i=l-l%5;a=(r&(1<<i)-1).toString(32),r>>=i,l-=i,kt=1<<32-ut(t)+l|n<<l|r,St=a+e}else kt=1<<a|n<<l|r,St=e}function pi(e){e.return!==null&&(ln(e,1),Su(e,1,0))}function hi(e){for(;e===As;)As=Ln[--zn],Ln[zn]=null,$s=Ln[--zn],Ln[zn]=null;for(;e===pn;)pn=Ze[--et],Ze[et]=null,St=Ze[--et],Ze[et]=null,kt=Ze[--et],Ze[et]=null}var Ke=null,We=null,ae=!1,ct=null;function Eu(e,t){var n=tt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Mo(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ke=e,We=Qt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ke=e,We=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=pn!==null?{id:kt,overflow:St}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=tt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ke=e,We=null,!0):!1;default:return!1}}function ba(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ka(e){if(ae){var t=We;if(t){var n=t;if(!Mo(e,t)){if(ba(e))throw Error(I(418));t=Qt(n.nextSibling);var r=Ke;t&&Mo(e,t)?Eu(r,n):(e.flags=e.flags&-4097|2,ae=!1,Ke=e)}}else{if(ba(e))throw Error(I(418));e.flags=e.flags&-4097|2,ae=!1,Ke=e}}}function Lo(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ke=e}function us(e){if(e!==Ke)return!1;if(!ae)return Lo(e),ae=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ya(e.type,e.memoizedProps)),t&&(t=We)){if(ba(e))throw Cu(),Error(I(418));for(;t;)Eu(e,t),t=Qt(t.nextSibling)}if(Lo(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){We=Qt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}We=null}}else We=Ke?Qt(e.stateNode.nextSibling):null;return!0}function Cu(){for(var e=We;e;)e=Qt(e.nextSibling)}function Wn(){We=Ke=null,ae=!1}function gi(e){ct===null?ct=[e]:ct.push(e)}var Gm=Lt.ReactCurrentBatchConfig;function cr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(I(309));var r=n.stateNode}if(!r)throw Error(I(147,e));var l=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var o=l.refs;i===null?delete o[a]:o[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(I(284));if(!n._owner)throw Error(I(290,e))}return e}function ds(e,t){throw e=Object.prototype.toString.call(t),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function zo(e){var t=e._init;return t(e._payload)}function Pu(e){function t(h,f){if(e){var x=h.deletions;x===null?(h.deletions=[f],h.flags|=16):x.push(f)}}function n(h,f){if(!e)return null;for(;f!==null;)t(h,f),f=f.sibling;return null}function r(h,f){for(h=new Map;f!==null;)f.key!==null?h.set(f.key,f):h.set(f.index,f),f=f.sibling;return h}function l(h,f){return h=Jt(h,f),h.index=0,h.sibling=null,h}function a(h,f,x){return h.index=x,e?(x=h.alternate,x!==null?(x=x.index,x<f?(h.flags|=2,f):x):(h.flags|=2,f)):(h.flags|=1048576,f)}function i(h){return e&&h.alternate===null&&(h.flags|=2),h}function o(h,f,x,y){return f===null||f.tag!==6?(f=Ql(x,h.mode,y),f.return=h,f):(f=l(f,x),f.return=h,f)}function c(h,f,x,y){var S=x.type;return S===Sn?p(h,f,x.props.children,y,x.key):f!==null&&(f.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Rt&&zo(S)===f.type)?(y=l(f,x.props),y.ref=cr(h,f,x),y.return=h,y):(y=Cs(x.type,x.key,x.props,null,h.mode,y),y.ref=cr(h,f,x),y.return=h,y)}function u(h,f,x,y){return f===null||f.tag!==4||f.stateNode.containerInfo!==x.containerInfo||f.stateNode.implementation!==x.implementation?(f=Kl(x,h.mode,y),f.return=h,f):(f=l(f,x.children||[]),f.return=h,f)}function p(h,f,x,y,S){return f===null||f.tag!==7?(f=fn(x,h.mode,y,S),f.return=h,f):(f=l(f,x),f.return=h,f)}function d(h,f,x){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Ql(""+f,h.mode,x),f.return=h,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case es:return x=Cs(f.type,f.key,f.props,null,h.mode,x),x.ref=cr(h,null,f),x.return=h,x;case kn:return f=Kl(f,h.mode,x),f.return=h,f;case Rt:var y=f._init;return d(h,y(f._payload),x)}if(mr(f)||sr(f))return f=fn(f,h.mode,x,null),f.return=h,f;ds(h,f)}return null}function g(h,f,x,y){var S=f!==null?f.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return S!==null?null:o(h,f,""+x,y);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case es:return x.key===S?c(h,f,x,y):null;case kn:return x.key===S?u(h,f,x,y):null;case Rt:return S=x._init,g(h,f,S(x._payload),y)}if(mr(x)||sr(x))return S!==null?null:p(h,f,x,y,null);ds(h,x)}return null}function j(h,f,x,y,S){if(typeof y=="string"&&y!==""||typeof y=="number")return h=h.get(x)||null,o(f,h,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case es:return h=h.get(y.key===null?x:y.key)||null,c(f,h,y,S);case kn:return h=h.get(y.key===null?x:y.key)||null,u(f,h,y,S);case Rt:var b=y._init;return j(h,f,x,b(y._payload),S)}if(mr(y)||sr(y))return h=h.get(x)||null,p(f,h,y,S,null);ds(f,y)}return null}function v(h,f,x,y){for(var S=null,b=null,_=f,L=f=0,M=null;_!==null&&L<x.length;L++){_.index>L?(M=_,_=null):M=_.sibling;var N=g(h,_,x[L],y);if(N===null){_===null&&(_=M);break}e&&_&&N.alternate===null&&t(h,_),f=a(N,f,L),b===null?S=N:b.sibling=N,b=N,_=M}if(L===x.length)return n(h,_),ae&&ln(h,L),S;if(_===null){for(;L<x.length;L++)_=d(h,x[L],y),_!==null&&(f=a(_,f,L),b===null?S=_:b.sibling=_,b=_);return ae&&ln(h,L),S}for(_=r(h,_);L<x.length;L++)M=j(_,h,L,x[L],y),M!==null&&(e&&M.alternate!==null&&_.delete(M.key===null?L:M.key),f=a(M,f,L),b===null?S=M:b.sibling=M,b=M);return e&&_.forEach(function(O){return t(h,O)}),ae&&ln(h,L),S}function w(h,f,x,y){var S=sr(x);if(typeof S!="function")throw Error(I(150));if(x=S.call(x),x==null)throw Error(I(151));for(var b=S=null,_=f,L=f=0,M=null,N=x.next();_!==null&&!N.done;L++,N=x.next()){_.index>L?(M=_,_=null):M=_.sibling;var O=g(h,_,N.value,y);if(O===null){_===null&&(_=M);break}e&&_&&O.alternate===null&&t(h,_),f=a(O,f,L),b===null?S=O:b.sibling=O,b=O,_=M}if(N.done)return n(h,_),ae&&ln(h,L),S;if(_===null){for(;!N.done;L++,N=x.next())N=d(h,N.value,y),N!==null&&(f=a(N,f,L),b===null?S=N:b.sibling=N,b=N);return ae&&ln(h,L),S}for(_=r(h,_);!N.done;L++,N=x.next())N=j(_,h,L,N.value,y),N!==null&&(e&&N.alternate!==null&&_.delete(N.key===null?L:N.key),f=a(N,f,L),b===null?S=N:b.sibling=N,b=N);return e&&_.forEach(function(H){return t(h,H)}),ae&&ln(h,L),S}function E(h,f,x,y){if(typeof x=="object"&&x!==null&&x.type===Sn&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case es:e:{for(var S=x.key,b=f;b!==null;){if(b.key===S){if(S=x.type,S===Sn){if(b.tag===7){n(h,b.sibling),f=l(b,x.props.children),f.return=h,h=f;break e}}else if(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Rt&&zo(S)===b.type){n(h,b.sibling),f=l(b,x.props),f.ref=cr(h,b,x),f.return=h,h=f;break e}n(h,b);break}else t(h,b);b=b.sibling}x.type===Sn?(f=fn(x.props.children,h.mode,y,x.key),f.return=h,h=f):(y=Cs(x.type,x.key,x.props,null,h.mode,y),y.ref=cr(h,f,x),y.return=h,h=y)}return i(h);case kn:e:{for(b=x.key;f!==null;){if(f.key===b)if(f.tag===4&&f.stateNode.containerInfo===x.containerInfo&&f.stateNode.implementation===x.implementation){n(h,f.sibling),f=l(f,x.children||[]),f.return=h,h=f;break e}else{n(h,f);break}else t(h,f);f=f.sibling}f=Kl(x,h.mode,y),f.return=h,h=f}return i(h);case Rt:return b=x._init,E(h,f,b(x._payload),y)}if(mr(x))return v(h,f,x,y);if(sr(x))return w(h,f,x,y);ds(h,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,f!==null&&f.tag===6?(n(h,f.sibling),f=l(f,x),f.return=h,h=f):(n(h,f),f=Ql(x,h.mode,y),f.return=h,h=f),i(h)):n(h,f)}return E}var Qn=Pu(!0),_u=Pu(!1),Us=nn(null),Bs=null,Fn=null,xi=null;function vi(){xi=Fn=Bs=null}function yi(e){var t=Us.current;le(Us),e._currentValue=t}function Sa(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Un(e,t){Bs=e,xi=Fn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&($e=!0),e.firstContext=null)}function rt(e){var t=e._currentValue;if(xi!==e)if(e={context:e,memoizedValue:t,next:null},Fn===null){if(Bs===null)throw Error(I(308));Fn=e,Bs.dependencies={lanes:0,firstContext:e}}else Fn=Fn.next=e;return t}var cn=null;function wi(e){cn===null?cn=[e]:cn.push(e)}function Mu(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,wi(t)):(n.next=l.next,l.next=n),t.interleaved=n,_t(e,r)}function _t(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var It=!1;function ji(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Et(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Kt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,q&2){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,_t(e,n)}return l=r.interleaved,l===null?(t.next=t,wi(r)):(t.next=l.next,l.next=t),r.interleaved=t,_t(e,n)}function js(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ai(e,n)}}function Fo(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?l=a=i:a=a.next=i,n=n.next}while(n!==null);a===null?l=a=t:a=a.next=t}else l=a=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Vs(e,t,n,r){var l=e.updateQueue;It=!1;var a=l.firstBaseUpdate,i=l.lastBaseUpdate,o=l.shared.pending;if(o!==null){l.shared.pending=null;var c=o,u=c.next;c.next=null,i===null?a=u:i.next=u,i=c;var p=e.alternate;p!==null&&(p=p.updateQueue,o=p.lastBaseUpdate,o!==i&&(o===null?p.firstBaseUpdate=u:o.next=u,p.lastBaseUpdate=c))}if(a!==null){var d=l.baseState;i=0,p=u=c=null,o=a;do{var g=o.lane,j=o.eventTime;if((r&g)===g){p!==null&&(p=p.next={eventTime:j,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=e,w=o;switch(g=t,j=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){d=v.call(j,d,g);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,g=typeof v=="function"?v.call(j,d,g):v,g==null)break e;d=de({},d,g);break e;case 2:It=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,g=l.effects,g===null?l.effects=[o]:g.push(o))}else j={eventTime:j,lane:g,tag:o.tag,payload:o.payload,callback:o.callback,next:null},p===null?(u=p=j,c=d):p=p.next=j,i|=g;if(o=o.next,o===null){if(o=l.shared.pending,o===null)break;g=o,o=g.next,g.next=null,l.lastBaseUpdate=g,l.shared.pending=null}}while(!0);if(p===null&&(c=d),l.baseState=c,l.firstBaseUpdate=u,l.lastBaseUpdate=p,t=l.shared.interleaved,t!==null){l=t;do i|=l.lane,l=l.next;while(l!==t)}else a===null&&(l.shared.lanes=0);gn|=i,e.lanes=i,e.memoizedState=d}}function To(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(I(191,l));l.call(r)}}}var Yr={},yt=nn(Yr),Ir=nn(Yr),Dr=nn(Yr);function un(e){if(e===Yr)throw Error(I(174));return e}function Ni(e,t){switch(re(Dr,t),re(Ir,e),re(yt,Yr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:la(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=la(t,e)}le(yt),re(yt,t)}function Kn(){le(yt),le(Ir),le(Dr)}function zu(e){un(Dr.current);var t=un(yt.current),n=la(t,e.type);t!==n&&(re(Ir,e),re(yt,n))}function bi(e){Ir.current===e&&(le(yt),le(Ir))}var oe=nn(0);function Hs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var $l=[];function ki(){for(var e=0;e<$l.length;e++)$l[e]._workInProgressVersionPrimary=null;$l.length=0}var Ns=Lt.ReactCurrentDispatcher,Ul=Lt.ReactCurrentBatchConfig,hn=0,ce=null,ye=null,be=null,Ws=!1,jr=!1,Or=0,Ym=0;function Le(){throw Error(I(321))}function Si(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ft(e[n],t[n]))return!1;return!0}function Ei(e,t,n,r,l,a){if(hn=a,ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ns.current=e===null||e.memoizedState===null?Zm:ep,e=n(r,l),jr){a=0;do{if(jr=!1,Or=0,25<=a)throw Error(I(301));a+=1,be=ye=null,t.updateQueue=null,Ns.current=tp,e=n(r,l)}while(jr)}if(Ns.current=Qs,t=ye!==null&&ye.next!==null,hn=0,be=ye=ce=null,Ws=!1,t)throw Error(I(300));return e}function Ci(){var e=Or!==0;return Or=0,e}function gt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?ce.memoizedState=be=e:be=be.next=e,be}function st(){if(ye===null){var e=ce.alternate;e=e!==null?e.memoizedState:null}else e=ye.next;var t=be===null?ce.memoizedState:be.next;if(t!==null)be=t,ye=e;else{if(e===null)throw Error(I(310));ye=e,e={memoizedState:ye.memoizedState,baseState:ye.baseState,baseQueue:ye.baseQueue,queue:ye.queue,next:null},be===null?ce.memoizedState=be=e:be=be.next=e}return be}function Ar(e,t){return typeof t=="function"?t(e):t}function Bl(e){var t=st(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var r=ye,l=r.baseQueue,a=n.pending;if(a!==null){if(l!==null){var i=l.next;l.next=a.next,a.next=i}r.baseQueue=l=a,n.pending=null}if(l!==null){a=l.next,r=r.baseState;var o=i=null,c=null,u=a;do{var p=u.lane;if((hn&p)===p)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:p,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=d,i=r):c=c.next=d,ce.lanes|=p,gn|=p}u=u.next}while(u!==null&&u!==a);c===null?i=r:c.next=o,ft(r,t.memoizedState)||($e=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do a=l.lane,ce.lanes|=a,gn|=a,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Vl(e){var t=st(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,a=t.memoizedState;if(l!==null){n.pending=null;var i=l=l.next;do a=e(a,i.action),i=i.next;while(i!==l);ft(a,t.memoizedState)||($e=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Fu(){}function Tu(e,t){var n=ce,r=st(),l=t(),a=!ft(r.memoizedState,l);if(a&&(r.memoizedState=l,$e=!0),r=r.queue,Pi(Du.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||be!==null&&be.memoizedState.tag&1){if(n.flags|=2048,$r(9,Iu.bind(null,n,r,l,t),void 0,null),ke===null)throw Error(I(349));hn&30||Ru(n,t,l)}return l}function Ru(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ce.updateQueue,t===null?(t={lastEffect:null,stores:null},ce.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Iu(e,t,n,r){t.value=n,t.getSnapshot=r,Ou(t)&&Au(e)}function Du(e,t,n){return n(function(){Ou(t)&&Au(e)})}function Ou(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ft(e,n)}catch{return!0}}function Au(e){var t=_t(e,1);t!==null&&dt(t,e,1,-1)}function Ro(e){var t=gt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ar,lastRenderedState:e},t.queue=e,e=e.dispatch=qm.bind(null,ce,e),[t.memoizedState,e]}function $r(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ce.updateQueue,t===null?(t={lastEffect:null,stores:null},ce.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function $u(){return st().memoizedState}function bs(e,t,n,r){var l=gt();ce.flags|=e,l.memoizedState=$r(1|t,n,void 0,r===void 0?null:r)}function il(e,t,n,r){var l=st();r=r===void 0?null:r;var a=void 0;if(ye!==null){var i=ye.memoizedState;if(a=i.destroy,r!==null&&Si(r,i.deps)){l.memoizedState=$r(t,n,a,r);return}}ce.flags|=e,l.memoizedState=$r(1|t,n,a,r)}function Io(e,t){return bs(8390656,8,e,t)}function Pi(e,t){return il(2048,8,e,t)}function Uu(e,t){return il(4,2,e,t)}function Bu(e,t){return il(4,4,e,t)}function Vu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Hu(e,t,n){return n=n!=null?n.concat([e]):null,il(4,4,Vu.bind(null,t,e),n)}function _i(){}function Wu(e,t){var n=st();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Si(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Qu(e,t){var n=st();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Si(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ku(e,t,n){return hn&21?(ft(n,t)||(n=qc(),ce.lanes|=n,gn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,$e=!0),e.memoizedState=n)}function Jm(e,t){var n=ne;ne=n!==0&&4>n?n:4,e(!0);var r=Ul.transition;Ul.transition={};try{e(!1),t()}finally{ne=n,Ul.transition=r}}function Gu(){return st().memoizedState}function Xm(e,t,n){var r=Yt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Yu(e))Ju(t,n);else if(n=Mu(e,t,n,r),n!==null){var l=Ie();dt(n,e,r,l),Xu(n,t,r)}}function qm(e,t,n){var r=Yt(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yu(e))Ju(t,l);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,o=a(i,n);if(l.hasEagerState=!0,l.eagerState=o,ft(o,i)){var c=t.interleaved;c===null?(l.next=l,wi(t)):(l.next=c.next,c.next=l),t.interleaved=l;return}}catch{}finally{}n=Mu(e,t,l,r),n!==null&&(l=Ie(),dt(n,e,r,l),Xu(n,t,r))}}function Yu(e){var t=e.alternate;return e===ce||t!==null&&t===ce}function Ju(e,t){jr=Ws=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xu(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ai(e,n)}}var Qs={readContext:rt,useCallback:Le,useContext:Le,useEffect:Le,useImperativeHandle:Le,useInsertionEffect:Le,useLayoutEffect:Le,useMemo:Le,useReducer:Le,useRef:Le,useState:Le,useDebugValue:Le,useDeferredValue:Le,useTransition:Le,useMutableSource:Le,useSyncExternalStore:Le,useId:Le,unstable_isNewReconciler:!1},Zm={readContext:rt,useCallback:function(e,t){return gt().memoizedState=[e,t===void 0?null:t],e},useContext:rt,useEffect:Io,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,bs(4194308,4,Vu.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bs(4194308,4,e,t)},useInsertionEffect:function(e,t){return bs(4,2,e,t)},useMemo:function(e,t){var n=gt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=gt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Xm.bind(null,ce,e),[r.memoizedState,e]},useRef:function(e){var t=gt();return e={current:e},t.memoizedState=e},useState:Ro,useDebugValue:_i,useDeferredValue:function(e){return gt().memoizedState=e},useTransition:function(){var e=Ro(!1),t=e[0];return e=Jm.bind(null,e[1]),gt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ce,l=gt();if(ae){if(n===void 0)throw Error(I(407));n=n()}else{if(n=t(),ke===null)throw Error(I(349));hn&30||Ru(r,t,n)}l.memoizedState=n;var a={value:n,getSnapshot:t};return l.queue=a,Io(Du.bind(null,r,a,e),[e]),r.flags|=2048,$r(9,Iu.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=gt(),t=ke.identifierPrefix;if(ae){var n=St,r=kt;n=(r&~(1<<32-ut(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Or++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Ym++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ep={readContext:rt,useCallback:Wu,useContext:rt,useEffect:Pi,useImperativeHandle:Hu,useInsertionEffect:Uu,useLayoutEffect:Bu,useMemo:Qu,useReducer:Bl,useRef:$u,useState:function(){return Bl(Ar)},useDebugValue:_i,useDeferredValue:function(e){var t=st();return Ku(t,ye.memoizedState,e)},useTransition:function(){var e=Bl(Ar)[0],t=st().memoizedState;return[e,t]},useMutableSource:Fu,useSyncExternalStore:Tu,useId:Gu,unstable_isNewReconciler:!1},tp={readContext:rt,useCallback:Wu,useContext:rt,useEffect:Pi,useImperativeHandle:Hu,useInsertionEffect:Uu,useLayoutEffect:Bu,useMemo:Qu,useReducer:Vl,useRef:$u,useState:function(){return Vl(Ar)},useDebugValue:_i,useDeferredValue:function(e){var t=st();return ye===null?t.memoizedState=e:Ku(t,ye.memoizedState,e)},useTransition:function(){var e=Vl(Ar)[0],t=st().memoizedState;return[e,t]},useMutableSource:Fu,useSyncExternalStore:Tu,useId:Gu,unstable_isNewReconciler:!1};function it(e,t){if(e&&e.defaultProps){t=de({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ea(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:de({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ol={isMounted:function(e){return(e=e._reactInternals)?yn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ie(),l=Yt(e),a=Et(r,l);a.payload=t,n!=null&&(a.callback=n),t=Kt(e,a,l),t!==null&&(dt(t,e,l,r),js(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ie(),l=Yt(e),a=Et(r,l);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Kt(e,a,l),t!==null&&(dt(t,e,l,r),js(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ie(),r=Yt(e),l=Et(n,r);l.tag=2,t!=null&&(l.callback=t),t=Kt(e,l,r),t!==null&&(dt(t,e,r,n),js(t,e,r))}};function Do(e,t,n,r,l,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,i):t.prototype&&t.prototype.isPureReactComponent?!zr(n,r)||!zr(l,a):!0}function qu(e,t,n){var r=!1,l=en,a=t.contextType;return typeof a=="object"&&a!==null?a=rt(a):(l=Be(t)?mn:Te.current,r=t.contextTypes,a=(r=r!=null)?Hn(e,l):en),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ol,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=a),t}function Oo(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ol.enqueueReplaceState(t,t.state,null)}function Ca(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},ji(e);var a=t.contextType;typeof a=="object"&&a!==null?l.context=rt(a):(a=Be(t)?mn:Te.current,l.context=Hn(e,a)),l.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Ea(e,t,a,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&ol.enqueueReplaceState(l,l.state,null),Vs(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Gn(e,t){try{var n="",r=t;do n+=_f(r),r=r.return;while(r);var l=n}catch(a){l=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:l,digest:null}}function Hl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Pa(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var np=typeof WeakMap=="function"?WeakMap:Map;function Zu(e,t,n){n=Et(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gs||(Gs=!0,Oa=r),Pa(e,t)},n}function ed(e,t,n){n=Et(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){Pa(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Pa(e,t),typeof r!="function"&&(Gt===null?Gt=new Set([this]):Gt.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Ao(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new np;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=gp.bind(null,e,t,n),t.then(e,e))}function $o(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Uo(e,t,n,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Et(-1,1),t.tag=2,Kt(n,t,1))),n.lanes|=1),e)}var rp=Lt.ReactCurrentOwner,$e=!1;function Re(e,t,n,r){t.child=e===null?_u(t,null,n,r):Qn(t,e.child,n,r)}function Bo(e,t,n,r,l){n=n.render;var a=t.ref;return Un(t,l),r=Ei(e,t,n,r,a,l),n=Ci(),e!==null&&!$e?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Mt(e,t,l)):(ae&&n&&pi(t),t.flags|=1,Re(e,t,r,l),t.child)}function Vo(e,t,n,r,l){if(e===null){var a=n.type;return typeof a=="function"&&!Di(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,td(e,t,a,r,l)):(e=Cs(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&l)){var i=a.memoizedProps;if(n=n.compare,n=n!==null?n:zr,n(i,r)&&e.ref===t.ref)return Mt(e,t,l)}return t.flags|=1,e=Jt(a,r),e.ref=t.ref,e.return=t,t.child=e}function td(e,t,n,r,l){if(e!==null){var a=e.memoizedProps;if(zr(a,r)&&e.ref===t.ref)if($e=!1,t.pendingProps=r=a,(e.lanes&l)!==0)e.flags&131072&&($e=!0);else return t.lanes=e.lanes,Mt(e,t,l)}return _a(e,t,n,r,l)}function nd(e,t,n){var r=t.pendingProps,l=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},re(Rn,He),He|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,re(Rn,He),He|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,re(Rn,He),He|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,re(Rn,He),He|=r;return Re(e,t,l,n),t.child}function rd(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _a(e,t,n,r,l){var a=Be(n)?mn:Te.current;return a=Hn(t,a),Un(t,l),n=Ei(e,t,n,r,a,l),r=Ci(),e!==null&&!$e?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Mt(e,t,l)):(ae&&r&&pi(t),t.flags|=1,Re(e,t,n,l),t.child)}function Ho(e,t,n,r,l){if(Be(n)){var a=!0;Os(t)}else a=!1;if(Un(t,l),t.stateNode===null)ks(e,t),qu(t,n,r),Ca(t,n,r,l),r=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var c=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=rt(u):(u=Be(n)?mn:Te.current,u=Hn(t,u));var p=n.getDerivedStateFromProps,d=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function";d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==r||c!==u)&&Oo(t,i,r,u),It=!1;var g=t.memoizedState;i.state=g,Vs(t,r,i,l),c=t.memoizedState,o!==r||g!==c||Ue.current||It?(typeof p=="function"&&(Ea(t,n,p,r),c=t.memoizedState),(o=It||Do(t,n,o,r,g,c,u))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=u,r=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Lu(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:it(t.type,o),i.props=u,d=t.pendingProps,g=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=rt(c):(c=Be(n)?mn:Te.current,c=Hn(t,c));var j=n.getDerivedStateFromProps;(p=typeof j=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==d||g!==c)&&Oo(t,i,r,c),It=!1,g=t.memoizedState,i.state=g,Vs(t,r,i,l);var v=t.memoizedState;o!==d||g!==v||Ue.current||It?(typeof j=="function"&&(Ea(t,n,j,r),v=t.memoizedState),(u=It||Do(t,n,u,r,g,v,c)||!1)?(p||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,v,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,v,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),i.props=r,i.state=v,i.context=c,r=u):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return Ma(e,t,n,r,a,l)}function Ma(e,t,n,r,l,a){rd(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return l&&_o(t,n,!1),Mt(e,t,a);r=t.stateNode,rp.current=t;var o=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Qn(t,e.child,null,a),t.child=Qn(t,null,o,a)):Re(e,t,o,a),t.memoizedState=r.state,l&&_o(t,n,!0),t.child}function sd(e){var t=e.stateNode;t.pendingContext?Po(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Po(e,t.context,!1),Ni(e,t.containerInfo)}function Wo(e,t,n,r,l){return Wn(),gi(l),t.flags|=256,Re(e,t,n,r),t.child}var La={dehydrated:null,treeContext:null,retryLane:0};function za(e){return{baseLanes:e,cachePool:null,transitions:null}}function ld(e,t,n){var r=t.pendingProps,l=oe.current,a=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(l&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),re(oe,l&1),e===null)return ka(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,a?(r=t.mode,a=t.child,i={mode:"hidden",children:i},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=dl(i,r,0,null),e=fn(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=za(n),t.memoizedState=La,e):Mi(t,i));if(l=e.memoizedState,l!==null&&(o=l.dehydrated,o!==null))return sp(e,t,i,r,o,l,n);if(a){a=r.fallback,i=t.mode,l=e.child,o=l.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Jt(l,c),r.subtreeFlags=l.subtreeFlags&14680064),o!==null?a=Jt(o,a):(a=fn(a,i,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,i=e.child.memoizedState,i=i===null?za(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~n,t.memoizedState=La,r}return a=e.child,e=a.sibling,r=Jt(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Mi(e,t){return t=dl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function fs(e,t,n,r){return r!==null&&gi(r),Qn(t,e.child,null,n),e=Mi(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function sp(e,t,n,r,l,a,i){if(n)return t.flags&256?(t.flags&=-257,r=Hl(Error(I(422))),fs(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,l=t.mode,r=dl({mode:"visible",children:r.children},l,0,null),a=fn(a,l,i,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Qn(t,e.child,null,i),t.child.memoizedState=za(i),t.memoizedState=La,a);if(!(t.mode&1))return fs(e,t,i,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(I(419)),r=Hl(a,r,void 0),fs(e,t,i,r)}if(o=(i&e.childLanes)!==0,$e||o){if(r=ke,r!==null){switch(i&-i){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|i)?0:l,l!==0&&l!==a.retryLane&&(a.retryLane=l,_t(e,l),dt(r,e,l,-1))}return Ii(),r=Hl(Error(I(421))),fs(e,t,i,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=xp.bind(null,e),l._reactRetry=t,null):(e=a.treeContext,We=Qt(l.nextSibling),Ke=t,ae=!0,ct=null,e!==null&&(Ze[et++]=kt,Ze[et++]=St,Ze[et++]=pn,kt=e.id,St=e.overflow,pn=t),t=Mi(t,r.children),t.flags|=4096,t)}function Qo(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Sa(e.return,t,n)}function Wl(e,t,n,r,l){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=l)}function ad(e,t,n){var r=t.pendingProps,l=r.revealOrder,a=r.tail;if(Re(e,t,r.children,n),r=oe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qo(e,n,t);else if(e.tag===19)Qo(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(re(oe,r),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Hs(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Wl(t,!1,l,n,a);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Hs(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Wl(t,!0,n,null,a);break;case"together":Wl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ks(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Mt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),gn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,n=Jt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Jt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function lp(e,t,n){switch(t.tag){case 3:sd(t),Wn();break;case 5:zu(t);break;case 1:Be(t.type)&&Os(t);break;case 4:Ni(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;re(Us,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(re(oe,oe.current&1),t.flags|=128,null):n&t.child.childLanes?ld(e,t,n):(re(oe,oe.current&1),e=Mt(e,t,n),e!==null?e.sibling:null);re(oe,oe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return ad(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),re(oe,oe.current),r)break;return null;case 22:case 23:return t.lanes=0,nd(e,t,n)}return Mt(e,t,n)}var id,Fa,od,cd;id=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Fa=function(){};od=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,un(yt.current);var a=null;switch(n){case"input":l=ta(e,l),r=ta(e,r),a=[];break;case"select":l=de({},l,{value:void 0}),r=de({},r,{value:void 0}),a=[];break;case"textarea":l=sa(e,l),r=sa(e,r),a=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Is)}aa(n,r);var i;n=null;for(u in l)if(!r.hasOwnProperty(u)&&l.hasOwnProperty(u)&&l[u]!=null)if(u==="style"){var o=l[u];for(i in o)o.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Sr.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(o=l!=null?l[u]:void 0,r.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(i in o)!o.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&o[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Sr.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&se("scroll",e),a||o===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};cd=function(e,t,n,r){n!==r&&(t.flags|=4)};function ur(e,t){if(!ae)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ap(e,t,n){var r=t.pendingProps;switch(hi(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(t),null;case 1:return Be(t.type)&&Ds(),ze(t),null;case 3:return r=t.stateNode,Kn(),le(Ue),le(Te),ki(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(us(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ct!==null&&(Ua(ct),ct=null))),Fa(e,t),ze(t),null;case 5:bi(t);var l=un(Dr.current);if(n=t.type,e!==null&&t.stateNode!=null)od(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(I(166));return ze(t),null}if(e=un(yt.current),us(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[xt]=t,r[Rr]=a,e=(t.mode&1)!==0,n){case"dialog":se("cancel",r),se("close",r);break;case"iframe":case"object":case"embed":se("load",r);break;case"video":case"audio":for(l=0;l<hr.length;l++)se(hr[l],r);break;case"source":se("error",r);break;case"img":case"image":case"link":se("error",r),se("load",r);break;case"details":se("toggle",r);break;case"input":eo(r,a),se("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},se("invalid",r);break;case"textarea":no(r,a),se("invalid",r)}aa(n,a),l=null;for(var i in a)if(a.hasOwnProperty(i)){var o=a[i];i==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&cs(r.textContent,o,e),l=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&cs(r.textContent,o,e),l=["children",""+o]):Sr.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&se("scroll",r)}switch(n){case"input":ts(r),to(r,a,!0);break;case"textarea":ts(r),ro(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Is)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Dc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[xt]=t,e[Rr]=r,id(e,t,!1,!1),t.stateNode=e;e:{switch(i=ia(n,r),n){case"dialog":se("cancel",e),se("close",e),l=r;break;case"iframe":case"object":case"embed":se("load",e),l=r;break;case"video":case"audio":for(l=0;l<hr.length;l++)se(hr[l],e);l=r;break;case"source":se("error",e),l=r;break;case"img":case"image":case"link":se("error",e),se("load",e),l=r;break;case"details":se("toggle",e),l=r;break;case"input":eo(e,r),l=ta(e,r),se("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=de({},r,{value:void 0}),se("invalid",e);break;case"textarea":no(e,r),l=sa(e,r),se("invalid",e);break;default:l=r}aa(n,l),o=l;for(a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="style"?$c(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Oc(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Er(e,c):typeof c=="number"&&Er(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Sr.hasOwnProperty(a)?c!=null&&a==="onScroll"&&se("scroll",e):c!=null&&ei(e,a,c,i))}switch(n){case"input":ts(e),to(e,r,!1);break;case"textarea":ts(e),ro(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Zt(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Dn(e,!!r.multiple,a,!1):r.defaultValue!=null&&Dn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Is)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ze(t),null;case 6:if(e&&t.stateNode!=null)cd(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(I(166));if(n=un(Dr.current),un(yt.current),us(t)){if(r=t.stateNode,n=t.memoizedProps,r[xt]=t,(a=r.nodeValue!==n)&&(e=Ke,e!==null))switch(e.tag){case 3:cs(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&cs(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[xt]=t,t.stateNode=r}return ze(t),null;case 13:if(le(oe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ae&&We!==null&&t.mode&1&&!(t.flags&128))Cu(),Wn(),t.flags|=98560,a=!1;else if(a=us(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(I(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(I(317));a[xt]=t}else Wn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ze(t),a=!1}else ct!==null&&(Ua(ct),ct=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||oe.current&1?we===0&&(we=3):Ii())),t.updateQueue!==null&&(t.flags|=4),ze(t),null);case 4:return Kn(),Fa(e,t),e===null&&Fr(t.stateNode.containerInfo),ze(t),null;case 10:return yi(t.type._context),ze(t),null;case 17:return Be(t.type)&&Ds(),ze(t),null;case 19:if(le(oe),a=t.memoizedState,a===null)return ze(t),null;if(r=(t.flags&128)!==0,i=a.rendering,i===null)if(r)ur(a,!1);else{if(we!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Hs(e),i!==null){for(t.flags|=128,ur(a,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return re(oe,oe.current&1|2),t.child}e=e.sibling}a.tail!==null&&xe()>Yn&&(t.flags|=128,r=!0,ur(a,!1),t.lanes=4194304)}else{if(!r)if(e=Hs(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ur(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!ae)return ze(t),null}else 2*xe()-a.renderingStartTime>Yn&&n!==1073741824&&(t.flags|=128,r=!0,ur(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(n=a.last,n!==null?n.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=xe(),t.sibling=null,n=oe.current,re(oe,r?n&1|2:n&1),t):(ze(t),null);case 22:case 23:return Ri(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?He&1073741824&&(ze(t),t.subtreeFlags&6&&(t.flags|=8192)):ze(t),null;case 24:return null;case 25:return null}throw Error(I(156,t.tag))}function ip(e,t){switch(hi(t),t.tag){case 1:return Be(t.type)&&Ds(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Kn(),le(Ue),le(Te),ki(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return bi(t),null;case 13:if(le(oe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(I(340));Wn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return le(oe),null;case 4:return Kn(),null;case 10:return yi(t.type._context),null;case 22:case 23:return Ri(),null;case 24:return null;default:return null}}var ms=!1,Fe=!1,op=typeof WeakSet=="function"?WeakSet:Set,A=null;function Tn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){pe(e,t,r)}else n.current=null}function Ta(e,t,n){try{n()}catch(r){pe(e,t,r)}}var Ko=!1;function cp(e,t){if(xa=Fs,e=pu(),mi(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var i=0,o=-1,c=-1,u=0,p=0,d=e,g=null;t:for(;;){for(var j;d!==n||l!==0&&d.nodeType!==3||(o=i+l),d!==a||r!==0&&d.nodeType!==3||(c=i+r),d.nodeType===3&&(i+=d.nodeValue.length),(j=d.firstChild)!==null;)g=d,d=j;for(;;){if(d===e)break t;if(g===n&&++u===l&&(o=i),g===a&&++p===r&&(c=i),(j=d.nextSibling)!==null)break;d=g,g=d.parentNode}d=j}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(va={focusedElem:e,selectionRange:n},Fs=!1,A=t;A!==null;)if(t=A,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,A=e;else for(;A!==null;){t=A;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,E=v.memoizedState,h=t.stateNode,f=h.getSnapshotBeforeUpdate(t.elementType===t.type?w:it(t.type,w),E);h.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(y){pe(t,t.return,y)}if(e=t.sibling,e!==null){e.return=t.return,A=e;break}A=t.return}return v=Ko,Ko=!1,v}function Nr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var a=l.destroy;l.destroy=void 0,a!==void 0&&Ta(t,n,a)}l=l.next}while(l!==r)}}function cl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ra(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function ud(e){var t=e.alternate;t!==null&&(e.alternate=null,ud(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[xt],delete t[Rr],delete t[ja],delete t[Wm],delete t[Qm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function dd(e){return e.tag===5||e.tag===3||e.tag===4}function Go(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||dd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ia(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Is));else if(r!==4&&(e=e.child,e!==null))for(Ia(e,t,n),e=e.sibling;e!==null;)Ia(e,t,n),e=e.sibling}function Da(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Da(e,t,n),e=e.sibling;e!==null;)Da(e,t,n),e=e.sibling}var Ee=null,ot=!1;function Tt(e,t,n){for(n=n.child;n!==null;)fd(e,t,n),n=n.sibling}function fd(e,t,n){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(tl,n)}catch{}switch(n.tag){case 5:Fe||Tn(n,t);case 6:var r=Ee,l=ot;Ee=null,Tt(e,t,n),Ee=r,ot=l,Ee!==null&&(ot?(e=Ee,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ee.removeChild(n.stateNode));break;case 18:Ee!==null&&(ot?(e=Ee,n=n.stateNode,e.nodeType===8?Ol(e.parentNode,n):e.nodeType===1&&Ol(e,n),Mr(e)):Ol(Ee,n.stateNode));break;case 4:r=Ee,l=ot,Ee=n.stateNode.containerInfo,ot=!0,Tt(e,t,n),Ee=r,ot=l;break;case 0:case 11:case 14:case 15:if(!Fe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var a=l,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&Ta(n,t,i),l=l.next}while(l!==r)}Tt(e,t,n);break;case 1:if(!Fe&&(Tn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){pe(n,t,o)}Tt(e,t,n);break;case 21:Tt(e,t,n);break;case 22:n.mode&1?(Fe=(r=Fe)||n.memoizedState!==null,Tt(e,t,n),Fe=r):Tt(e,t,n);break;default:Tt(e,t,n)}}function Yo(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new op),t.forEach(function(r){var l=vp.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function at(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var a=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:Ee=o.stateNode,ot=!1;break e;case 3:Ee=o.stateNode.containerInfo,ot=!0;break e;case 4:Ee=o.stateNode.containerInfo,ot=!0;break e}o=o.return}if(Ee===null)throw Error(I(160));fd(a,i,l),Ee=null,ot=!1;var c=l.alternate;c!==null&&(c.return=null),l.return=null}catch(u){pe(l,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)md(t,e),t=t.sibling}function md(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(at(t,e),ht(e),r&4){try{Nr(3,e,e.return),cl(3,e)}catch(w){pe(e,e.return,w)}try{Nr(5,e,e.return)}catch(w){pe(e,e.return,w)}}break;case 1:at(t,e),ht(e),r&512&&n!==null&&Tn(n,n.return);break;case 5:if(at(t,e),ht(e),r&512&&n!==null&&Tn(n,n.return),e.flags&32){var l=e.stateNode;try{Er(l,"")}catch(w){pe(e,e.return,w)}}if(r&4&&(l=e.stateNode,l!=null)){var a=e.memoizedProps,i=n!==null?n.memoizedProps:a,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&Rc(l,a),ia(o,i);var u=ia(o,a);for(i=0;i<c.length;i+=2){var p=c[i],d=c[i+1];p==="style"?$c(l,d):p==="dangerouslySetInnerHTML"?Oc(l,d):p==="children"?Er(l,d):ei(l,p,d,u)}switch(o){case"input":na(l,a);break;case"textarea":Ic(l,a);break;case"select":var g=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!a.multiple;var j=a.value;j!=null?Dn(l,!!a.multiple,j,!1):g!==!!a.multiple&&(a.defaultValue!=null?Dn(l,!!a.multiple,a.defaultValue,!0):Dn(l,!!a.multiple,a.multiple?[]:"",!1))}l[Rr]=a}catch(w){pe(e,e.return,w)}}break;case 6:if(at(t,e),ht(e),r&4){if(e.stateNode===null)throw Error(I(162));l=e.stateNode,a=e.memoizedProps;try{l.nodeValue=a}catch(w){pe(e,e.return,w)}}break;case 3:if(at(t,e),ht(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Mr(t.containerInfo)}catch(w){pe(e,e.return,w)}break;case 4:at(t,e),ht(e);break;case 13:at(t,e),ht(e),l=e.child,l.flags&8192&&(a=l.memoizedState!==null,l.stateNode.isHidden=a,!a||l.alternate!==null&&l.alternate.memoizedState!==null||(Fi=xe())),r&4&&Yo(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(Fe=(u=Fe)||p,at(t,e),Fe=u):at(t,e),ht(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!p&&e.mode&1)for(A=e,p=e.child;p!==null;){for(d=A=p;A!==null;){switch(g=A,j=g.child,g.tag){case 0:case 11:case 14:case 15:Nr(4,g,g.return);break;case 1:Tn(g,g.return);var v=g.stateNode;if(typeof v.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(w){pe(r,n,w)}}break;case 5:Tn(g,g.return);break;case 22:if(g.memoizedState!==null){Xo(d);continue}}j!==null?(j.return=g,A=j):Xo(d)}p=p.sibling}e:for(p=null,d=e;;){if(d.tag===5){if(p===null){p=d;try{l=d.stateNode,u?(a=l.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=d.stateNode,c=d.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Ac("display",i))}catch(w){pe(e,e.return,w)}}}else if(d.tag===6){if(p===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(w){pe(e,e.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;p===d&&(p=null),d=d.return}p===d&&(p=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:at(t,e),ht(e),r&4&&Yo(e);break;case 21:break;default:at(t,e),ht(e)}}function ht(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(dd(n)){var r=n;break e}n=n.return}throw Error(I(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(Er(l,""),r.flags&=-33);var a=Go(e);Da(e,a,l);break;case 3:case 4:var i=r.stateNode.containerInfo,o=Go(e);Ia(e,o,i);break;default:throw Error(I(161))}}catch(c){pe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function up(e,t,n){A=e,pd(e)}function pd(e,t,n){for(var r=(e.mode&1)!==0;A!==null;){var l=A,a=l.child;if(l.tag===22&&r){var i=l.memoizedState!==null||ms;if(!i){var o=l.alternate,c=o!==null&&o.memoizedState!==null||Fe;o=ms;var u=Fe;if(ms=i,(Fe=c)&&!u)for(A=l;A!==null;)i=A,c=i.child,i.tag===22&&i.memoizedState!==null?qo(l):c!==null?(c.return=i,A=c):qo(l);for(;a!==null;)A=a,pd(a),a=a.sibling;A=l,ms=o,Fe=u}Jo(e)}else l.subtreeFlags&8772&&a!==null?(a.return=l,A=a):Jo(e)}}function Jo(e){for(;A!==null;){var t=A;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Fe||cl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Fe)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:it(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&To(t,a,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}To(t,i,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var p=u.memoizedState;if(p!==null){var d=p.dehydrated;d!==null&&Mr(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}Fe||t.flags&512&&Ra(t)}catch(g){pe(t,t.return,g)}}if(t===e){A=null;break}if(n=t.sibling,n!==null){n.return=t.return,A=n;break}A=t.return}}function Xo(e){for(;A!==null;){var t=A;if(t===e){A=null;break}var n=t.sibling;if(n!==null){n.return=t.return,A=n;break}A=t.return}}function qo(e){for(;A!==null;){var t=A;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{cl(4,t)}catch(c){pe(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(c){pe(t,l,c)}}var a=t.return;try{Ra(t)}catch(c){pe(t,a,c)}break;case 5:var i=t.return;try{Ra(t)}catch(c){pe(t,i,c)}}}catch(c){pe(t,t.return,c)}if(t===e){A=null;break}var o=t.sibling;if(o!==null){o.return=t.return,A=o;break}A=t.return}}var dp=Math.ceil,Ks=Lt.ReactCurrentDispatcher,Li=Lt.ReactCurrentOwner,nt=Lt.ReactCurrentBatchConfig,q=0,ke=null,ve=null,Pe=0,He=0,Rn=nn(0),we=0,Ur=null,gn=0,ul=0,zi=0,br=null,Ae=null,Fi=0,Yn=1/0,Nt=null,Gs=!1,Oa=null,Gt=null,ps=!1,$t=null,Ys=0,kr=0,Aa=null,Ss=-1,Es=0;function Ie(){return q&6?xe():Ss!==-1?Ss:Ss=xe()}function Yt(e){return e.mode&1?q&2&&Pe!==0?Pe&-Pe:Gm.transition!==null?(Es===0&&(Es=qc()),Es):(e=ne,e!==0||(e=window.event,e=e===void 0?16:lu(e.type)),e):1}function dt(e,t,n,r){if(50<kr)throw kr=0,Aa=null,Error(I(185));Qr(e,n,r),(!(q&2)||e!==ke)&&(e===ke&&(!(q&2)&&(ul|=n),we===4&&Ot(e,Pe)),Ve(e,r),n===1&&q===0&&!(t.mode&1)&&(Yn=xe()+500,al&&rn()))}function Ve(e,t){var n=e.callbackNode;Gf(e,t);var r=zs(e,e===ke?Pe:0);if(r===0)n!==null&&ao(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ao(n),t===1)e.tag===0?Km(Zo.bind(null,e)):ku(Zo.bind(null,e)),Vm(function(){!(q&6)&&rn()}),n=null;else{switch(Zc(r)){case 1:n=li;break;case 4:n=Jc;break;case 16:n=Ls;break;case 536870912:n=Xc;break;default:n=Ls}n=Nd(n,hd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function hd(e,t){if(Ss=-1,Es=0,q&6)throw Error(I(327));var n=e.callbackNode;if(Bn()&&e.callbackNode!==n)return null;var r=zs(e,e===ke?Pe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Js(e,r);else{t=r;var l=q;q|=2;var a=xd();(ke!==e||Pe!==t)&&(Nt=null,Yn=xe()+500,dn(e,t));do try{pp();break}catch(o){gd(e,o)}while(!0);vi(),Ks.current=a,q=l,ve!==null?t=0:(ke=null,Pe=0,t=we)}if(t!==0){if(t===2&&(l=fa(e),l!==0&&(r=l,t=$a(e,l))),t===1)throw n=Ur,dn(e,0),Ot(e,r),Ve(e,xe()),n;if(t===6)Ot(e,r);else{if(l=e.current.alternate,!(r&30)&&!fp(l)&&(t=Js(e,r),t===2&&(a=fa(e),a!==0&&(r=a,t=$a(e,a))),t===1))throw n=Ur,dn(e,0),Ot(e,r),Ve(e,xe()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(I(345));case 2:an(e,Ae,Nt);break;case 3:if(Ot(e,r),(r&130023424)===r&&(t=Fi+500-xe(),10<t)){if(zs(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){Ie(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=wa(an.bind(null,e,Ae,Nt),t);break}an(e,Ae,Nt);break;case 4:if(Ot(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var i=31-ut(r);a=1<<i,i=t[i],i>l&&(l=i),r&=~a}if(r=l,r=xe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*dp(r/1960))-r,10<r){e.timeoutHandle=wa(an.bind(null,e,Ae,Nt),r);break}an(e,Ae,Nt);break;case 5:an(e,Ae,Nt);break;default:throw Error(I(329))}}}return Ve(e,xe()),e.callbackNode===n?hd.bind(null,e):null}function $a(e,t){var n=br;return e.current.memoizedState.isDehydrated&&(dn(e,t).flags|=256),e=Js(e,t),e!==2&&(t=Ae,Ae=n,t!==null&&Ua(t)),e}function Ua(e){Ae===null?Ae=e:Ae.push.apply(Ae,e)}function fp(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],a=l.getSnapshot;l=l.value;try{if(!ft(a(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ot(e,t){for(t&=~zi,t&=~ul,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ut(t),r=1<<n;e[n]=-1,t&=~r}}function Zo(e){if(q&6)throw Error(I(327));Bn();var t=zs(e,0);if(!(t&1))return Ve(e,xe()),null;var n=Js(e,t);if(e.tag!==0&&n===2){var r=fa(e);r!==0&&(t=r,n=$a(e,r))}if(n===1)throw n=Ur,dn(e,0),Ot(e,t),Ve(e,xe()),n;if(n===6)throw Error(I(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,an(e,Ae,Nt),Ve(e,xe()),null}function Ti(e,t){var n=q;q|=1;try{return e(t)}finally{q=n,q===0&&(Yn=xe()+500,al&&rn())}}function xn(e){$t!==null&&$t.tag===0&&!(q&6)&&Bn();var t=q;q|=1;var n=nt.transition,r=ne;try{if(nt.transition=null,ne=1,e)return e()}finally{ne=r,nt.transition=n,q=t,!(q&6)&&rn()}}function Ri(){He=Rn.current,le(Rn)}function dn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Bm(n)),ve!==null)for(n=ve.return;n!==null;){var r=n;switch(hi(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ds();break;case 3:Kn(),le(Ue),le(Te),ki();break;case 5:bi(r);break;case 4:Kn();break;case 13:le(oe);break;case 19:le(oe);break;case 10:yi(r.type._context);break;case 22:case 23:Ri()}n=n.return}if(ke=e,ve=e=Jt(e.current,null),Pe=He=t,we=0,Ur=null,zi=ul=gn=0,Ae=br=null,cn!==null){for(t=0;t<cn.length;t++)if(n=cn[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,a=n.pending;if(a!==null){var i=a.next;a.next=l,r.next=i}n.pending=r}cn=null}return e}function gd(e,t){do{var n=ve;try{if(vi(),Ns.current=Qs,Ws){for(var r=ce.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}Ws=!1}if(hn=0,be=ye=ce=null,jr=!1,Or=0,Li.current=null,n===null||n.return===null){we=1,Ur=t,ve=null;break}e:{var a=e,i=n.return,o=n,c=t;if(t=Pe,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,p=o,d=p.tag;if(!(p.mode&1)&&(d===0||d===11||d===15)){var g=p.alternate;g?(p.updateQueue=g.updateQueue,p.memoizedState=g.memoizedState,p.lanes=g.lanes):(p.updateQueue=null,p.memoizedState=null)}var j=$o(i);if(j!==null){j.flags&=-257,Uo(j,i,o,a,t),j.mode&1&&Ao(a,u,t),t=j,c=u;var v=t.updateQueue;if(v===null){var w=new Set;w.add(c),t.updateQueue=w}else v.add(c);break e}else{if(!(t&1)){Ao(a,u,t),Ii();break e}c=Error(I(426))}}else if(ae&&o.mode&1){var E=$o(i);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Uo(E,i,o,a,t),gi(Gn(c,o));break e}}a=c=Gn(c,o),we!==4&&(we=2),br===null?br=[a]:br.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var h=Zu(a,c,t);Fo(a,h);break e;case 1:o=c;var f=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof f.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Gt===null||!Gt.has(x)))){a.flags|=65536,t&=-t,a.lanes|=t;var y=ed(a,o,t);Fo(a,y);break e}}a=a.return}while(a!==null)}yd(n)}catch(S){t=S,ve===n&&n!==null&&(ve=n=n.return);continue}break}while(!0)}function xd(){var e=Ks.current;return Ks.current=Qs,e===null?Qs:e}function Ii(){(we===0||we===3||we===2)&&(we=4),ke===null||!(gn&268435455)&&!(ul&268435455)||Ot(ke,Pe)}function Js(e,t){var n=q;q|=2;var r=xd();(ke!==e||Pe!==t)&&(Nt=null,dn(e,t));do try{mp();break}catch(l){gd(e,l)}while(!0);if(vi(),q=n,Ks.current=r,ve!==null)throw Error(I(261));return ke=null,Pe=0,we}function mp(){for(;ve!==null;)vd(ve)}function pp(){for(;ve!==null&&!Af();)vd(ve)}function vd(e){var t=jd(e.alternate,e,He);e.memoizedProps=e.pendingProps,t===null?yd(e):ve=t,Li.current=null}function yd(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=ip(n,t),n!==null){n.flags&=32767,ve=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{we=6,ve=null;return}}else if(n=ap(n,t,He),n!==null){ve=n;return}if(t=t.sibling,t!==null){ve=t;return}ve=t=e}while(t!==null);we===0&&(we=5)}function an(e,t,n){var r=ne,l=nt.transition;try{nt.transition=null,ne=1,hp(e,t,n,r)}finally{nt.transition=l,ne=r}return null}function hp(e,t,n,r){do Bn();while($t!==null);if(q&6)throw Error(I(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(I(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(Yf(e,a),e===ke&&(ve=ke=null,Pe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ps||(ps=!0,Nd(Ls,function(){return Bn(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=nt.transition,nt.transition=null;var i=ne;ne=1;var o=q;q|=4,Li.current=null,cp(e,n),md(n,e),Rm(va),Fs=!!xa,va=xa=null,e.current=n,up(n),$f(),q=o,ne=i,nt.transition=a}else e.current=n;if(ps&&(ps=!1,$t=e,Ys=l),a=e.pendingLanes,a===0&&(Gt=null),Vf(n.stateNode),Ve(e,xe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(Gs)throw Gs=!1,e=Oa,Oa=null,e;return Ys&1&&e.tag!==0&&Bn(),a=e.pendingLanes,a&1?e===Aa?kr++:(kr=0,Aa=e):kr=0,rn(),null}function Bn(){if($t!==null){var e=Zc(Ys),t=nt.transition,n=ne;try{if(nt.transition=null,ne=16>e?16:e,$t===null)var r=!1;else{if(e=$t,$t=null,Ys=0,q&6)throw Error(I(331));var l=q;for(q|=4,A=e.current;A!==null;){var a=A,i=a.child;if(A.flags&16){var o=a.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(A=u;A!==null;){var p=A;switch(p.tag){case 0:case 11:case 15:Nr(8,p,a)}var d=p.child;if(d!==null)d.return=p,A=d;else for(;A!==null;){p=A;var g=p.sibling,j=p.return;if(ud(p),p===u){A=null;break}if(g!==null){g.return=j,A=g;break}A=j}}}var v=a.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var E=w.sibling;w.sibling=null,w=E}while(w!==null)}}A=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,A=i;else e:for(;A!==null;){if(a=A,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Nr(9,a,a.return)}var h=a.sibling;if(h!==null){h.return=a.return,A=h;break e}A=a.return}}var f=e.current;for(A=f;A!==null;){i=A;var x=i.child;if(i.subtreeFlags&2064&&x!==null)x.return=i,A=x;else e:for(i=f;A!==null;){if(o=A,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:cl(9,o)}}catch(S){pe(o,o.return,S)}if(o===i){A=null;break e}var y=o.sibling;if(y!==null){y.return=o.return,A=y;break e}A=o.return}}if(q=l,rn(),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(tl,e)}catch{}r=!0}return r}finally{ne=n,nt.transition=t}}return!1}function ec(e,t,n){t=Gn(n,t),t=Zu(e,t,1),e=Kt(e,t,1),t=Ie(),e!==null&&(Qr(e,1,t),Ve(e,t))}function pe(e,t,n){if(e.tag===3)ec(e,e,n);else for(;t!==null;){if(t.tag===3){ec(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Gt===null||!Gt.has(r))){e=Gn(n,e),e=ed(t,e,1),t=Kt(t,e,1),e=Ie(),t!==null&&(Qr(t,1,e),Ve(t,e));break}}t=t.return}}function gp(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ie(),e.pingedLanes|=e.suspendedLanes&n,ke===e&&(Pe&n)===n&&(we===4||we===3&&(Pe&130023424)===Pe&&500>xe()-Fi?dn(e,0):zi|=n),Ve(e,t)}function wd(e,t){t===0&&(e.mode&1?(t=ss,ss<<=1,!(ss&130023424)&&(ss=4194304)):t=1);var n=Ie();e=_t(e,t),e!==null&&(Qr(e,t,n),Ve(e,n))}function xp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),wd(e,n)}function vp(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(I(314))}r!==null&&r.delete(t),wd(e,n)}var jd;jd=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ue.current)$e=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return $e=!1,lp(e,t,n);$e=!!(e.flags&131072)}else $e=!1,ae&&t.flags&1048576&&Su(t,$s,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ks(e,t),e=t.pendingProps;var l=Hn(t,Te.current);Un(t,n),l=Ei(null,t,r,e,l,n);var a=Ci();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Be(r)?(a=!0,Os(t)):a=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,ji(t),l.updater=ol,t.stateNode=l,l._reactInternals=t,Ca(t,r,e,n),t=Ma(null,t,r,!0,a,n)):(t.tag=0,ae&&a&&pi(t),Re(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ks(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=wp(r),e=it(r,e),l){case 0:t=_a(null,t,r,e,n);break e;case 1:t=Ho(null,t,r,e,n);break e;case 11:t=Bo(null,t,r,e,n);break e;case 14:t=Vo(null,t,r,it(r.type,e),n);break e}throw Error(I(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:it(r,l),_a(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:it(r,l),Ho(e,t,r,l,n);case 3:e:{if(sd(t),e===null)throw Error(I(387));r=t.pendingProps,a=t.memoizedState,l=a.element,Lu(e,t),Vs(t,r,null,n);var i=t.memoizedState;if(r=i.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){l=Gn(Error(I(423)),t),t=Wo(e,t,r,n,l);break e}else if(r!==l){l=Gn(Error(I(424)),t),t=Wo(e,t,r,n,l);break e}else for(We=Qt(t.stateNode.containerInfo.firstChild),Ke=t,ae=!0,ct=null,n=_u(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Wn(),r===l){t=Mt(e,t,n);break e}Re(e,t,r,n)}t=t.child}return t;case 5:return zu(t),e===null&&ka(t),r=t.type,l=t.pendingProps,a=e!==null?e.memoizedProps:null,i=l.children,ya(r,l)?i=null:a!==null&&ya(r,a)&&(t.flags|=32),rd(e,t),Re(e,t,i,n),t.child;case 6:return e===null&&ka(t),null;case 13:return ld(e,t,n);case 4:return Ni(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Qn(t,null,r,n):Re(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:it(r,l),Bo(e,t,r,l,n);case 7:return Re(e,t,t.pendingProps,n),t.child;case 8:return Re(e,t,t.pendingProps.children,n),t.child;case 12:return Re(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,a=t.memoizedProps,i=l.value,re(Us,r._currentValue),r._currentValue=i,a!==null)if(ft(a.value,i)){if(a.children===l.children&&!Ue.current){t=Mt(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){i=a.child;for(var c=o.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=Et(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var p=u.pending;p===null?c.next=c:(c.next=p.next,p.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),Sa(a.return,n,t),o.lanes|=n;break}c=c.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(I(341));i.lanes|=n,o=i.alternate,o!==null&&(o.lanes|=n),Sa(i,n,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}Re(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,Un(t,n),l=rt(l),r=r(l),t.flags|=1,Re(e,t,r,n),t.child;case 14:return r=t.type,l=it(r,t.pendingProps),l=it(r.type,l),Vo(e,t,r,l,n);case 15:return td(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:it(r,l),ks(e,t),t.tag=1,Be(r)?(e=!0,Os(t)):e=!1,Un(t,n),qu(t,r,l),Ca(t,r,l,n),Ma(null,t,r,!0,e,n);case 19:return ad(e,t,n);case 22:return nd(e,t,n)}throw Error(I(156,t.tag))};function Nd(e,t){return Yc(e,t)}function yp(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tt(e,t,n,r){return new yp(e,t,n,r)}function Di(e){return e=e.prototype,!(!e||!e.isReactComponent)}function wp(e){if(typeof e=="function")return Di(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ni)return 11;if(e===ri)return 14}return 2}function Jt(e,t){var n=e.alternate;return n===null?(n=tt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Cs(e,t,n,r,l,a){var i=2;if(r=e,typeof e=="function")Di(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Sn:return fn(n.children,l,a,t);case ti:i=8,l|=8;break;case Xl:return e=tt(12,n,t,l|2),e.elementType=Xl,e.lanes=a,e;case ql:return e=tt(13,n,t,l),e.elementType=ql,e.lanes=a,e;case Zl:return e=tt(19,n,t,l),e.elementType=Zl,e.lanes=a,e;case zc:return dl(n,l,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Mc:i=10;break e;case Lc:i=9;break e;case ni:i=11;break e;case ri:i=14;break e;case Rt:i=16,r=null;break e}throw Error(I(130,e==null?e:typeof e,""))}return t=tt(i,n,t,l),t.elementType=e,t.type=r,t.lanes=a,t}function fn(e,t,n,r){return e=tt(7,e,r,t),e.lanes=n,e}function dl(e,t,n,r){return e=tt(22,e,r,t),e.elementType=zc,e.lanes=n,e.stateNode={isHidden:!1},e}function Ql(e,t,n){return e=tt(6,e,null,t),e.lanes=n,e}function Kl(e,t,n){return t=tt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jp(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cl(0),this.expirationTimes=Cl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cl(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Oi(e,t,n,r,l,a,i,o,c){return e=new jp(e,t,n,o,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=tt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ji(a),e}function Np(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:kn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function bd(e){if(!e)return en;e=e._reactInternals;e:{if(yn(e)!==e||e.tag!==1)throw Error(I(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Be(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(I(171))}if(e.tag===1){var n=e.type;if(Be(n))return bu(e,n,t)}return t}function kd(e,t,n,r,l,a,i,o,c){return e=Oi(n,r,!0,e,l,a,i,o,c),e.context=bd(null),n=e.current,r=Ie(),l=Yt(n),a=Et(r,l),a.callback=t??null,Kt(n,a,l),e.current.lanes=l,Qr(e,l,r),Ve(e,r),e}function fl(e,t,n,r){var l=t.current,a=Ie(),i=Yt(l);return n=bd(n),t.context===null?t.context=n:t.pendingContext=n,t=Et(a,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Kt(l,t,i),e!==null&&(dt(e,l,i,a),js(e,l,i)),i}function Xs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function tc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ai(e,t){tc(e,t),(e=e.alternate)&&tc(e,t)}function bp(){return null}var Sd=typeof reportError=="function"?reportError:function(e){console.error(e)};function $i(e){this._internalRoot=e}ml.prototype.render=$i.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(I(409));fl(e,t,null,null)};ml.prototype.unmount=$i.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;xn(function(){fl(null,e,null,null)}),t[Pt]=null}};function ml(e){this._internalRoot=e}ml.prototype.unstable_scheduleHydration=function(e){if(e){var t=nu();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&t!==0&&t<Dt[n].priority;n++);Dt.splice(n,0,e),n===0&&su(e)}};function Ui(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function pl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function nc(){}function kp(e,t,n,r,l){if(l){if(typeof r=="function"){var a=r;r=function(){var u=Xs(i);a.call(u)}}var i=kd(t,r,e,0,null,!1,!1,"",nc);return e._reactRootContainer=i,e[Pt]=i.current,Fr(e.nodeType===8?e.parentNode:e),xn(),i}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var o=r;r=function(){var u=Xs(c);o.call(u)}}var c=Oi(e,0,!1,null,null,!1,!1,"",nc);return e._reactRootContainer=c,e[Pt]=c.current,Fr(e.nodeType===8?e.parentNode:e),xn(function(){fl(t,c,n,r)}),c}function hl(e,t,n,r,l){var a=n._reactRootContainer;if(a){var i=a;if(typeof l=="function"){var o=l;l=function(){var c=Xs(i);o.call(c)}}fl(t,i,e,l)}else i=kp(n,t,e,l,r);return Xs(i)}eu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=pr(t.pendingLanes);n!==0&&(ai(t,n|1),Ve(t,xe()),!(q&6)&&(Yn=xe()+500,rn()))}break;case 13:xn(function(){var r=_t(e,1);if(r!==null){var l=Ie();dt(r,e,1,l)}}),Ai(e,1)}};ii=function(e){if(e.tag===13){var t=_t(e,134217728);if(t!==null){var n=Ie();dt(t,e,134217728,n)}Ai(e,134217728)}};tu=function(e){if(e.tag===13){var t=Yt(e),n=_t(e,t);if(n!==null){var r=Ie();dt(n,e,t,r)}Ai(e,t)}};nu=function(){return ne};ru=function(e,t){var n=ne;try{return ne=e,t()}finally{ne=n}};ca=function(e,t,n){switch(t){case"input":if(na(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=ll(r);if(!l)throw Error(I(90));Tc(r),na(r,l)}}}break;case"textarea":Ic(e,n);break;case"select":t=n.value,t!=null&&Dn(e,!!n.multiple,t,!1)}};Vc=Ti;Hc=xn;var Sp={usingClientEntryPoint:!1,Events:[Gr,_n,ll,Uc,Bc,Ti]},dr={findFiberByHostInstance:on,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ep={bundleType:dr.bundleType,version:dr.version,rendererPackageName:dr.rendererPackageName,rendererConfig:dr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Lt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Kc(e),e===null?null:e.stateNode},findFiberByHostInstance:dr.findFiberByHostInstance||bp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hs.isDisabled&&hs.supportsFiber)try{tl=hs.inject(Ep),vt=hs}catch{}}Ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sp;Ye.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ui(t))throw Error(I(200));return Np(e,t,null,n)};Ye.createRoot=function(e,t){if(!Ui(e))throw Error(I(299));var n=!1,r="",l=Sd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Oi(e,1,!1,null,null,n,!1,r,l),e[Pt]=t.current,Fr(e.nodeType===8?e.parentNode:e),new $i(t)};Ye.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=Kc(t),e=e===null?null:e.stateNode,e};Ye.flushSync=function(e){return xn(e)};Ye.hydrate=function(e,t,n){if(!pl(t))throw Error(I(200));return hl(null,e,t,!0,n)};Ye.hydrateRoot=function(e,t,n){if(!Ui(e))throw Error(I(405));var r=n!=null&&n.hydratedSources||null,l=!1,a="",i=Sd;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=kd(t,null,e,1,n??null,l,!1,a,i),e[Pt]=t.current,Fr(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new ml(t)};Ye.render=function(e,t,n){if(!pl(t))throw Error(I(200));return hl(null,e,t,!1,n)};Ye.unmountComponentAtNode=function(e){if(!pl(e))throw Error(I(40));return e._reactRootContainer?(xn(function(){hl(null,null,e,!1,function(){e._reactRootContainer=null,e[Pt]=null})}),!0):!1};Ye.unstable_batchedUpdates=Ti;Ye.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!pl(n))throw Error(I(200));if(e==null||e._reactInternals===void 0)throw Error(I(38));return hl(e,t,n,!1,r)};Ye.version="18.3.1-next-f1338f8080-20240426";function Ed(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ed)}catch(e){console.error(e)}}Ed(),Ec.exports=Ye;var Bi=Ec.exports,Cd,rc=Bi;Cd=rc.createRoot,rc.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Br(){return Br=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Br.apply(this,arguments)}var Ut;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ut||(Ut={}));const sc="popstate";function Cp(e){e===void 0&&(e={});function t(r,l){let{pathname:a,search:i,hash:o}=r.location;return Ba("",{pathname:a,search:i,hash:o},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(r,l){return typeof l=="string"?l:qs(l)}return _p(t,n,null,e)}function ue(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Pd(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Pp(){return Math.random().toString(36).substr(2,8)}function lc(e,t){return{usr:e.state,key:e.key,idx:t}}function Ba(e,t,n,r){return n===void 0&&(n=null),Br({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?tr(t):t,{state:n,key:t&&t.key||r||Pp()})}function qs(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function tr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function _p(e,t,n,r){r===void 0&&(r={});let{window:l=document.defaultView,v5Compat:a=!1}=r,i=l.history,o=Ut.Pop,c=null,u=p();u==null&&(u=0,i.replaceState(Br({},i.state,{idx:u}),""));function p(){return(i.state||{idx:null}).idx}function d(){o=Ut.Pop;let E=p(),h=E==null?null:E-u;u=E,c&&c({action:o,location:w.location,delta:h})}function g(E,h){o=Ut.Push;let f=Ba(w.location,E,h);u=p()+1;let x=lc(f,u),y=w.createHref(f);try{i.pushState(x,"",y)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;l.location.assign(y)}a&&c&&c({action:o,location:w.location,delta:1})}function j(E,h){o=Ut.Replace;let f=Ba(w.location,E,h);u=p();let x=lc(f,u),y=w.createHref(f);i.replaceState(x,"",y),a&&c&&c({action:o,location:w.location,delta:0})}function v(E){let h=l.location.origin!=="null"?l.location.origin:l.location.href,f=typeof E=="string"?E:qs(E);return f=f.replace(/ $/,"%20"),ue(h,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,h)}let w={get action(){return o},get location(){return e(l,i)},listen(E){if(c)throw new Error("A history only accepts one active listener");return l.addEventListener(sc,d),c=E,()=>{l.removeEventListener(sc,d),c=null}},createHref(E){return t(l,E)},createURL:v,encodeLocation(E){let h=v(E);return{pathname:h.pathname,search:h.search,hash:h.hash}},push:g,replace:j,go(E){return i.go(E)}};return w}var ac;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ac||(ac={}));function Mp(e,t,n){return n===void 0&&(n="/"),Lp(e,t,n)}function Lp(e,t,n,r){let l=typeof t=="string"?tr(t):t,a=Jn(l.pathname||"/",n);if(a==null)return null;let i=_d(e);zp(i);let o=null;for(let c=0;o==null&&c<i.length;++c){let u=Vp(a);o=Up(i[c],u)}return o}function _d(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let l=(a,i,o)=>{let c={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};c.relativePath.startsWith("/")&&(ue(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Xt([r,c.relativePath]),p=n.concat(c);a.children&&a.children.length>0&&(ue(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),_d(a.children,t,p,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:Ap(u,a.index),routesMeta:p})};return e.forEach((a,i)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))l(a,i);else for(let c of Md(a.path))l(a,i,c)}),t}function Md(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,l=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return l?[a,""]:[a];let i=Md(r.join("/")),o=[];return o.push(...i.map(c=>c===""?a:[a,c].join("/"))),l&&o.push(...i),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function zp(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:$p(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Fp=/^:[\w-]+$/,Tp=3,Rp=2,Ip=1,Dp=10,Op=-2,ic=e=>e==="*";function Ap(e,t){let n=e.split("/"),r=n.length;return n.some(ic)&&(r+=Op),t&&(r+=Rp),n.filter(l=>!ic(l)).reduce((l,a)=>l+(Fp.test(a)?Tp:a===""?Ip:Dp),r)}function $p(e,t){return e.length===t.length&&e.slice(0,-1).every((r,l)=>r===t[l])?e[e.length-1]-t[t.length-1]:0}function Up(e,t,n){let{routesMeta:r}=e,l={},a="/",i=[];for(let o=0;o<r.length;++o){let c=r[o],u=o===r.length-1,p=a==="/"?t:t.slice(a.length)||"/",d=Va({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},p),g=c.route;if(!d)return null;Object.assign(l,d.params),i.push({params:l,pathname:Xt([a,d.pathname]),pathnameBase:Kp(Xt([a,d.pathnameBase])),route:g}),d.pathnameBase!=="/"&&(a=Xt([a,d.pathnameBase]))}return i}function Va(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Bp(e.path,e.caseSensitive,e.end),l=t.match(n);if(!l)return null;let a=l[0],i=a.replace(/(.)\/+$/,"$1"),o=l.slice(1);return{params:r.reduce((u,p,d)=>{let{paramName:g,isOptional:j}=p;if(g==="*"){let w=o[d]||"";i=a.slice(0,a.length-w.length).replace(/(.)\/+$/,"$1")}const v=o[d];return j&&!v?u[g]=void 0:u[g]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:i,pattern:e}}function Bp(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Pd(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,c)=>(r.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),r]}function Vp(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Pd(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Jn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Hp(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:l=""}=typeof e=="string"?tr(e):e;return{pathname:n?n.startsWith("/")?n:Wp(n,t):t,search:Gp(r),hash:Yp(l)}}function Wp(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function Gl(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Qp(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Vi(e,t){let n=Qp(e);return t?n.map((r,l)=>l===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Hi(e,t,n,r){r===void 0&&(r=!1);let l;typeof e=="string"?l=tr(e):(l=Br({},e),ue(!l.pathname||!l.pathname.includes("?"),Gl("?","pathname","search",l)),ue(!l.pathname||!l.pathname.includes("#"),Gl("#","pathname","hash",l)),ue(!l.search||!l.search.includes("#"),Gl("#","search","hash",l)));let a=e===""||l.pathname==="",i=a?"/":l.pathname,o;if(i==null)o=n;else{let d=t.length-1;if(!r&&i.startsWith("..")){let g=i.split("/");for(;g[0]==="..";)g.shift(),d-=1;l.pathname=g.join("/")}o=d>=0?t[d]:"/"}let c=Hp(l,o),u=i&&i!=="/"&&i.endsWith("/"),p=(a||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||p)&&(c.pathname+="/"),c}const Xt=e=>e.join("/").replace(/\/\/+/g,"/"),Kp=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Gp=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Yp=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Jp(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Ld=["post","put","patch","delete"];new Set(Ld);const Xp=["get",...Ld];new Set(Xp);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vr(){return Vr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vr.apply(this,arguments)}const gl=m.createContext(null),zd=m.createContext(null),zt=m.createContext(null),xl=m.createContext(null),wt=m.createContext({outlet:null,matches:[],isDataRoute:!1}),Fd=m.createContext(null);function qp(e,t){let{relative:n}=t===void 0?{}:t;nr()||ue(!1);let{basename:r,navigator:l}=m.useContext(zt),{hash:a,pathname:i,search:o}=vl(e,{relative:n}),c=i;return r!=="/"&&(c=i==="/"?r:Xt([r,i])),l.createHref({pathname:c,search:o,hash:a})}function nr(){return m.useContext(xl)!=null}function jt(){return nr()||ue(!1),m.useContext(xl).location}function Td(e){m.useContext(zt).static||m.useLayoutEffect(e)}function Me(){let{isDataRoute:e}=m.useContext(wt);return e?mh():Zp()}function Zp(){nr()||ue(!1);let e=m.useContext(gl),{basename:t,future:n,navigator:r}=m.useContext(zt),{matches:l}=m.useContext(wt),{pathname:a}=jt(),i=JSON.stringify(Vi(l,n.v7_relativeSplatPath)),o=m.useRef(!1);return Td(()=>{o.current=!0}),m.useCallback(function(u,p){if(p===void 0&&(p={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let d=Hi(u,JSON.parse(i),a,p.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Xt([t,d.pathname])),(p.replace?r.replace:r.push)(d,p.state,p)},[t,r,i,a,e])}const eh=m.createContext(null);function th(e){let t=m.useContext(wt).outlet;return t&&m.createElement(eh.Provider,{value:e},t)}function Wi(){let{matches:e}=m.useContext(wt),t=e[e.length-1];return t?t.params:{}}function vl(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=m.useContext(zt),{matches:l}=m.useContext(wt),{pathname:a}=jt(),i=JSON.stringify(Vi(l,r.v7_relativeSplatPath));return m.useMemo(()=>Hi(e,JSON.parse(i),a,n==="path"),[e,i,a,n])}function nh(e,t){return rh(e,t)}function rh(e,t,n,r){nr()||ue(!1);let{navigator:l}=m.useContext(zt),{matches:a}=m.useContext(wt),i=a[a.length-1],o=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=jt(),p;if(t){var d;let E=typeof t=="string"?tr(t):t;c==="/"||(d=E.pathname)!=null&&d.startsWith(c)||ue(!1),p=E}else p=u;let g=p.pathname||"/",j=g;if(c!=="/"){let E=c.replace(/^\//,"").split("/");j="/"+g.replace(/^\//,"").split("/").slice(E.length).join("/")}let v=Mp(e,{pathname:j}),w=oh(v&&v.map(E=>Object.assign({},E,{params:Object.assign({},o,E.params),pathname:Xt([c,l.encodeLocation?l.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?c:Xt([c,l.encodeLocation?l.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),a,n,r);return t&&w?m.createElement(xl.Provider,{value:{location:Vr({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Ut.Pop}},w):w}function sh(){let e=fh(),t=Jp(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),n?m.createElement("pre",{style:l},n):null,null)}const lh=m.createElement(sh,null);class ah extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?m.createElement(wt.Provider,{value:this.props.routeContext},m.createElement(Fd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ih(e){let{routeContext:t,match:n,children:r}=e,l=m.useContext(gl);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(wt.Provider,{value:t},r)}function oh(e,t,n,r){var l;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,o=(l=n)==null?void 0:l.errors;if(o!=null){let p=i.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);p>=0||ue(!1),i=i.slice(0,Math.min(i.length,p+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<i.length;p++){let d=i[p];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=p),d.route.id){let{loaderData:g,errors:j}=n,v=d.route.loader&&g[d.route.id]===void 0&&(!j||j[d.route.id]===void 0);if(d.route.lazy||v){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((p,d,g)=>{let j,v=!1,w=null,E=null;n&&(j=o&&d.route.id?o[d.route.id]:void 0,w=d.route.errorElement||lh,c&&(u<0&&g===0?(ph("route-fallback"),v=!0,E=null):u===g&&(v=!0,E=d.route.hydrateFallbackElement||null)));let h=t.concat(i.slice(0,g+1)),f=()=>{let x;return j?x=w:v?x=E:d.route.Component?x=m.createElement(d.route.Component,null):d.route.element?x=d.route.element:x=p,m.createElement(ih,{match:d,routeContext:{outlet:p,matches:h,isDataRoute:n!=null},children:x})};return n&&(d.route.ErrorBoundary||d.route.errorElement||g===0)?m.createElement(ah,{location:n.location,revalidation:n.revalidation,component:w,error:j,children:f(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):f()},null)}var Rd=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Rd||{}),Id=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Id||{});function ch(e){let t=m.useContext(gl);return t||ue(!1),t}function uh(e){let t=m.useContext(zd);return t||ue(!1),t}function dh(e){let t=m.useContext(wt);return t||ue(!1),t}function Dd(e){let t=dh(),n=t.matches[t.matches.length-1];return n.route.id||ue(!1),n.route.id}function fh(){var e;let t=m.useContext(Fd),n=uh(),r=Dd();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function mh(){let{router:e}=ch(Rd.UseNavigateStable),t=Dd(Id.UseNavigateStable),n=m.useRef(!1);return Td(()=>{n.current=!0}),m.useCallback(function(l,a){a===void 0&&(a={}),n.current&&(typeof l=="number"?e.navigate(l):e.navigate(l,Vr({fromRouteId:t},a)))},[e,t])}const oc={};function ph(e,t,n){oc[e]||(oc[e]=!0)}function hh(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function gh(e){let{to:t,replace:n,state:r,relative:l}=e;nr()||ue(!1);let{future:a,static:i}=m.useContext(zt),{matches:o}=m.useContext(wt),{pathname:c}=jt(),u=Me(),p=Hi(t,Vi(o,a.v7_relativeSplatPath),c,l==="path"),d=JSON.stringify(p);return m.useEffect(()=>u(JSON.parse(d),{replace:n,state:r,relative:l}),[u,d,l,n,r]),null}function xh(e){return th(e.context)}function me(e){ue(!1)}function vh(e){let{basename:t="/",children:n=null,location:r,navigationType:l=Ut.Pop,navigator:a,static:i=!1,future:o}=e;nr()&&ue(!1);let c=t.replace(/^\/*/,"/"),u=m.useMemo(()=>({basename:c,navigator:a,static:i,future:Vr({v7_relativeSplatPath:!1},o)}),[c,o,a,i]);typeof r=="string"&&(r=tr(r));let{pathname:p="/",search:d="",hash:g="",state:j=null,key:v="default"}=r,w=m.useMemo(()=>{let E=Jn(p,c);return E==null?null:{location:{pathname:E,search:d,hash:g,state:j,key:v},navigationType:l}},[c,p,d,g,j,v,l]);return w==null?null:m.createElement(zt.Provider,{value:u},m.createElement(xl.Provider,{children:n,value:w}))}function yh(e){let{children:t,location:n}=e;return nh(Ha(t),n)}new Promise(()=>{});function Ha(e,t){t===void 0&&(t=[]);let n=[];return m.Children.forEach(e,(r,l)=>{if(!m.isValidElement(r))return;let a=[...t,l];if(r.type===m.Fragment){n.push.apply(n,Ha(r.props.children,a));return}r.type!==me&&ue(!1),!r.props.index||!r.props.children||ue(!1);let i={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=Ha(r.props.children,a)),n.push(i)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zs(){return Zs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zs.apply(this,arguments)}function Od(e,t){if(e==null)return{};var n={},r=Object.keys(e),l,a;for(a=0;a<r.length;a++)l=r[a],!(t.indexOf(l)>=0)&&(n[l]=e[l]);return n}function wh(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function jh(e,t){return e.button===0&&(!t||t==="_self")&&!wh(e)}function Wa(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(l=>[n,l]):[[n,r]])},[]))}function Nh(e,t){let n=Wa(e);return t&&t.forEach((r,l)=>{n.has(l)||t.getAll(l).forEach(a=>{n.append(l,a)})}),n}const bh=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],kh=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Sh="6";try{window.__reactRouterVersion=Sh}catch{}const Eh=m.createContext({isTransitioning:!1}),Ch="startTransition",cc=gf[Ch];function Ph(e){let{basename:t,children:n,future:r,window:l}=e,a=m.useRef();a.current==null&&(a.current=Cp({window:l,v5Compat:!0}));let i=a.current,[o,c]=m.useState({action:i.action,location:i.location}),{v7_startTransition:u}=r||{},p=m.useCallback(d=>{u&&cc?cc(()=>c(d)):c(d)},[c,u]);return m.useLayoutEffect(()=>i.listen(p),[i,p]),m.useEffect(()=>hh(r),[r]),m.createElement(vh,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:i,future:r})}const _h=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Mh=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qe=m.forwardRef(function(t,n){let{onClick:r,relative:l,reloadDocument:a,replace:i,state:o,target:c,to:u,preventScrollReset:p,viewTransition:d}=t,g=Od(t,bh),{basename:j}=m.useContext(zt),v,w=!1;if(typeof u=="string"&&Mh.test(u)&&(v=u,_h))try{let x=new URL(window.location.href),y=u.startsWith("//")?new URL(x.protocol+u):new URL(u),S=Jn(y.pathname,j);y.origin===x.origin&&S!=null?u=S+y.search+y.hash:w=!0}catch{}let E=qp(u,{relative:l}),h=zh(u,{replace:i,state:o,target:c,preventScrollReset:p,relative:l,viewTransition:d});function f(x){r&&r(x),x.defaultPrevented||h(x)}return m.createElement("a",Zs({},g,{href:v||E,onClick:w||a?r:f,ref:n,target:c}))}),Bt=m.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:l=!1,className:a="",end:i=!1,style:o,to:c,viewTransition:u,children:p}=t,d=Od(t,kh),g=vl(c,{relative:d.relative}),j=jt(),v=m.useContext(zd),{navigator:w,basename:E}=m.useContext(zt),h=v!=null&&Fh(g)&&u===!0,f=w.encodeLocation?w.encodeLocation(g).pathname:g.pathname,x=j.pathname,y=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;l||(x=x.toLowerCase(),y=y?y.toLowerCase():null,f=f.toLowerCase()),y&&E&&(y=Jn(y,E)||y);const S=f!=="/"&&f.endsWith("/")?f.length-1:f.length;let b=x===f||!i&&x.startsWith(f)&&x.charAt(S)==="/",_=y!=null&&(y===f||!i&&y.startsWith(f)&&y.charAt(f.length)==="/"),L={isActive:b,isPending:_,isTransitioning:h},M=b?r:void 0,N;typeof a=="function"?N=a(L):N=[a,b?"active":null,_?"pending":null,h?"transitioning":null].filter(Boolean).join(" ");let O=typeof o=="function"?o(L):o;return m.createElement(Qe,Zs({},d,{"aria-current":M,className:N,ref:n,style:O,to:c,viewTransition:u}),typeof p=="function"?p(L):p)});var Qa;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Qa||(Qa={}));var uc;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(uc||(uc={}));function Lh(e){let t=m.useContext(gl);return t||ue(!1),t}function zh(e,t){let{target:n,replace:r,state:l,preventScrollReset:a,relative:i,viewTransition:o}=t===void 0?{}:t,c=Me(),u=jt(),p=vl(e,{relative:i});return m.useCallback(d=>{if(jh(d,n)){d.preventDefault();let g=r!==void 0?r:qs(u)===qs(p);c(e,{replace:g,state:l,preventScrollReset:a,relative:i,viewTransition:o})}},[u,c,p,r,l,n,e,a,i,o])}function Ad(e){let t=m.useRef(Wa(e)),n=m.useRef(!1),r=jt(),l=m.useMemo(()=>Nh(r.search,n.current?null:t.current),[r.search]),a=Me(),i=m.useCallback((o,c)=>{const u=Wa(typeof o=="function"?o(l):o);n.current=!0,a("?"+u,c)},[a,l]);return[l,i]}function Fh(e,t){t===void 0&&(t={});let n=m.useContext(Eh);n==null&&ue(!1);let{basename:r}=Lh(Qa.useViewTransitionState),l=vl(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=Jn(n.currentLocation.pathname,r)||n.currentLocation.pathname,i=Jn(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Va(l.pathname,i)!=null||Va(l.pathname,a)!=null}const $d="";function Th(e){return`${$d}${e}`}async function te(e,{method:t="GET",headers:n={},body:r,token:l}={}){try{const a=typeof FormData<"u"&&r instanceof FormData,i={...n||{}};!a&&!i["Content-Type"]&&r&&(i["Content-Type"]="application/json");const o=typeof localStorage<"u"?localStorage.getItem("figumarket_token"):"",c=l||o;c&&(i.Authorization=`Bearer ${c}`);const u=await fetch(Th(e),{method:t,headers:i,body:a?r:r?JSON.stringify(r):void 0}),g=(u.headers.get("content-type")||"").includes("application/json")?await u.json():await u.text();return u.ok?{ok:!0,data:g}:{ok:!1,status:u.status,error:g}}catch(a){return{ok:!1,status:0,error:(a==null?void 0:a.message)||"Network error"}}}const Rh=async({email:e,password:t})=>{const n=await te("/api/login",{method:"POST",body:{email:e,password:t}});return n.ok?n.data:{error:n.error,status:n.status}},dc=async()=>{const e=await te("/api/me",{method:"GET"});return e.ok?e.data:{error:e.error,status:e.status}},Ud=m.createContext(null),Yl="figumarket_token";function Ih({children:e}){const[t,n]=m.useState(()=>localStorage.getItem(Yl)||""),[r,l]=m.useState(null);m.useEffect(()=>{t?localStorage.setItem(Yl,t):localStorage.removeItem(Yl)},[t]),m.useEffect(()=>{let u=!1;return(async()=>{if(!t){l(null);return}const d=await dc();u||(d!=null&&d.id?l(d):(l(null),n("")))})(),()=>{u=!0}},[t]);const a=async u=>{const p=await Rh(u);return p!=null&&p.token?(n(p.token),l(p.usuario||null),{ok:!0}):{ok:!1,error:(p==null?void 0:p.error)||"Login fallido"}},i=()=>{n(""),l(null)},o=async()=>{if(!t){l(null);return}const u=await dc();u!=null&&u.id&&l(u)},c=m.useMemo(()=>({token:t,usuario:r,isAuthenticated:!!t,login:a,logout:i,refrescarUsuario:o}),[t,r]);return s.jsx(Ud.Provider,{value:c,children:e})}function Xe(){const e=m.useContext(Ud);if(!e)throw new Error("useAuth debe usarse dentro de ProveedorAuth");return e}const Qi=e=>{const t=e&&Object.keys(e).length?"?"+new URLSearchParams(Object.entries(e).filter(([n,r])=>r!=null&&r!=="")):"";return te(`/api/mensajes${t}`)},Dh=e=>te("/api/mensajes",{method:"POST",body:e}),Oh=e=>te("/api/mensajes/marcar-leidos",{method:"POST",body:e}),Ah=e=>te("/api/mensajes/borrar-conversacion",{method:"POST",body:e}),$h=e=>te(`/api/conversaciones-archivadas?owner_id=${e}`),Uh=e=>te("/api/conversaciones-archivadas",{method:"POST",body:e}),Bh=e=>te("/api/conversaciones-archivadas",{method:"DELETE",body:e}),Jr=(e={})=>{const t=[];for(const[r,l]of Object.entries(e||{}))if(l!=null)if(Array.isArray(l))for(const a of l)t.push(`${encodeURIComponent(r)}[]=${encodeURIComponent(a)}`);else t.push(`${encodeURIComponent(r)}=${encodeURIComponent(l)}`);const n=t.length?`?${t.join("&")}`:"";return te(`/api/figuras${n}`)},Hr=e=>te(`/api/figuras/${e}`),Vh=e=>te("/api/figuras",{method:"POST",body:e}),Bd=e=>te(`/api/figuras/${e}`,{method:"DELETE"}),In=(e,t)=>te(`/api/figuras/${e}`,{method:"PUT",body:t}),Hh=()=>te("/api/figuras/metadata"),yl=e=>te(`/api/usuarios/${e}`),Wh=e=>te("/api/usuarios",{method:"POST",body:e}),Qh=(e,t)=>te(`/api/usuarios/${e}`,{method:"PUT",body:t}),Kh=async(e,t)=>{const n=new FormData;return n.append("file",t),te(`/api/usuarios/${e}/foto`,{method:"POST",body:n})};function Ce(e){if(!e||/^(https?:\/\/|data:)/i.test(e))return e;const t=e.startsWith("/")?e:`/${e}`;return`${$d}${t}`}function Vd({onClose:e,iniciarConUsuario:t,iniciarConFigura:n,prefillTexto:r}){var fe;const{usuario:l}=Xe();if(!(l!=null&&l.id))return null;const[a,i]=m.useState([]),[o,c]=m.useState({}),[u,p]=m.useState(null),[d,g]=m.useState(""),[j,v]=m.useState(!1),[w,E]=m.useState(!0),[h,f]=m.useState(!0),[x,y]=m.useState({}),[S,b]=m.useState(new Set),[_,L]=m.useState(null),[M,N]=m.useState(!1),[O,H]=m.useState(!1),[D,B]=m.useState(!1);m.useEffect(()=>{typeof window<"u"&&window.innerWidth<768&&B(!0)},[]),m.useEffect(()=>{let k=!0;const F=l!=null&&l.id?{participante_id:l.id,order:"asc",limit:300}:void 0,C=l==null?void 0:l.id;if(C){const z=localStorage.getItem(`mensajes_${C}`);if(z)try{const R=JSON.parse(z);k&&Array.isArray(R)&&(i(R),E(!1))}catch{}}return Qi(F).then(async z=>{if(k){if(z.ok){const R=z.data||[];if(i(R),C)try{localStorage.setItem(`mensajes_${C}`,JSON.stringify(R))}catch{}const V=new Set(R.map(Y=>Y.emisor_id===(l==null?void 0:l.id)?Y.receptor_id:Y.emisor_id));t&&V.add(Number(t));const U=Array.from(V),G=await Promise.all(U.map(Y=>yl(Y))),$={};G.forEach((Y,ge)=>{Y.ok&&($[U[ge]]=Y.data)}),c($);const W=new Set(R.map(Y=>Y.figura_id).filter(Boolean));n&&W.add(Number(n));const he=Array.from(W);if(he.length>0){const Y=await Promise.all(he.map(je=>Hr(je))),ge={};Y.forEach((je,Ne)=>{je.ok&&(ge[he[Ne]]=je.data)}),y(ge)}const lt=t&&n?`${Number(t)}|${Number(n)}`:null;lt&&p(lt)}k&&f(!1),k&&E(!1)}}),()=>{k=!1}},[l==null?void 0:l.id,t,n]),m.useEffect(()=>{const k=n?Number(n):null;if(k&&!x[k]){let F=!0;return Hr(k).then(C=>{F&&C.ok&&y(z=>({...z,[k]:C.data}))}),()=>{F=!1}}},[n,x]),m.useEffect(()=>{const k=l==null?void 0:l.id;k&&$h(k).then(F=>{if(F.ok){const C=(F.data||[]).map(z=>`${z.otro_usuario_id}|${z.figura_id??"general"}`);b(new Set(C)),localStorage.setItem(`mensajes_archivadas_${k}`,JSON.stringify(C))}else{const C=localStorage.getItem(`mensajes_archivadas_${k}`);try{const z=C?JSON.parse(C):[];b(new Set(Array.isArray(z)?z:[]))}catch{b(new Set)}}})},[l==null?void 0:l.id]),m.useEffect(()=>{const k=l==null?void 0:l.id;if(!k)return;const F=Array.from(S);localStorage.setItem(`mensajes_archivadas_${k}`,JSON.stringify(F))},[S,l==null?void 0:l.id]),m.useEffect(()=>{const k=F=>{F.key==="Escape"&&(e==null||e())};return document.addEventListener("keydown",k),()=>document.removeEventListener("keydown",k)},[e]);const K=m.useMemo(()=>{const k={};if(a.forEach(F=>{const C=F.emisor_id===(l==null?void 0:l.id)?F.receptor_id:F.emisor_id,z=F.figura_id?Number(F.figura_id):null;if(!z)return;const R=`${C}|${z}`;k[R]||(k[R]={usuarioId:C,figuraId:z,mensajes:[]}),k[R].mensajes.push(F)}),u&&!k[u]){const[F,C]=String(u).split("|"),z=Number(F),R=C?Number(C):null;R&&(k[u]={usuarioId:z,figuraId:R,mensajes:[]})}return Object.values(k).forEach(F=>F.mensajes.sort((C,z)=>new Date(C.fecha_envio)-new Date(z.fecha_envio))),k},[a,l==null?void 0:l.id,u]);m.useEffect(()=>{let k=!0;return(async()=>{if(!(l!=null&&l.id)||!u)return;const[C,z]=String(u).split("|");if(!z)return;const R={receptor_id:l.id,emisor_id:Number(C),figura_id:Number(z)},V=await Oh(R);k&&V.ok&&i(U=>{const G=U.map(W=>{const he=W.emisor_id===l.id?W.receptor_id:W.emisor_id,lt=W.figura_id||"general";return`${he}|${lt}`===u&&W.receptor_id===l.id?{...W,leido:!0}:W}),$=l==null?void 0:l.id;if($)try{localStorage.setItem(`mensajes_${$}`,JSON.stringify(G))}catch{}return G})})(),()=>{k=!1}},[l==null?void 0:l.id,u]),m.useEffect(()=>{r&&!d&&g(r)},[r,d]);const Z=async()=>{if(!d.trim()||!u)return;v(!0);const[k,F]=String(u).split("|"),C={emisor_id:l.id,receptor_id:Number(k),contenido:d.trim()};F&&F!=="general"&&(C.figura_id=Number(F));const z=await Dh(C);v(!1),z.ok&&(i(R=>{const V=[...R,z.data],U=l==null?void 0:l.id;if(U)try{localStorage.setItem(`mensajes_${U}`,JSON.stringify(V))}catch{}return V}),g(""),r&&H(!0))};return s.jsxs("div",{className:"fixed inset-0 z-[100]",children:[s.jsx("div",{className:"absolute inset-0 bg-black/80",onClick:e}),s.jsx("div",{className:"absolute inset-0 flex items-start justify-center p-4 sm:p-6",onClick:e,children:s.jsxs("div",{className:"mt-2 w-full max-w-6xl bg-white rounded-xl shadow-2xl flex flex-col h-[92vh] overflow-hidden",onClick:k=>k.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between border-b p-4",children:[s.jsx("h2",{className:"text-lg font-semibold",children:"Mensajes"}),s.jsx("button",{onClick:e,className:"rounded-md border px-3 py-1",children:"Cerrar"})]}),s.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-3 min-h-0",children:[s.jsxs("div",{className:`border-r p-2 overflow-y-auto min-h-0 ${D?"":"hidden md:block"}`,children:[s.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[s.jsx("h3",{className:"text-sm font-semibold",children:"Conversaciones"}),s.jsxs("button",{type:"button",className:"text-xs rounded px-2 py-1 border hover:bg-gray-100",onClick:()=>N(k=>!k),title:"Mostrar/Ocultar archivadas",children:["Archivadas (",S.size,") ",M?"":""]})]}),w||h?s.jsx("div",{"aria-busy":"true","aria-live":"polite",children:Array.from({length:6}).map((k,F)=>s.jsx("div",{className:"p-2 rounded animate-pulse",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-8 w-8 rounded-full bg-gray-200"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"h-4 w-2/3 bg-gray-200 rounded"}),s.jsx("div",{className:"mt-1 h-3 w-1/2 bg-gray-200 rounded"})]})]})},F))}):Object.keys(K).length===0?s.jsx("p",{className:"text-gray-600",children:"No tienes conversaciones."}):Object.entries(K).filter(([k])=>!S.has(k)).map(([k,F])=>{const{usuarioId:C,figuraId:z}=F,R=o[C],V=x[z],U=()=>L({key:k,usuarioId:C,figuraId:z}),G=(F.mensajes||[]).filter(W=>W.receptor_id===l.id&&!W.leido).length,$=G>0;return s.jsx("div",{onClick:()=>{p(k),typeof window<"u"&&window.innerWidth<768&&B(!1)},className:`w-full text-left p-2 rounded hover:bg-gray-100 cursor-pointer ${k===u?"bg-gray-100":""} ${$?"ring-2 ring-red-300":""}`,children:s.jsxs("div",{className:"flex items-center gap-2 justify-between",children:[s.jsx("img",{src:Ce(R==null?void 0:R.foto_perfil)||"https://via.placeholder.com/32?text=",alt:"",className:"h-8 w-8 rounded-full object-cover border",onError:W=>{W.currentTarget.src="https://via.placeholder.com/32?text="}}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:`font-medium ${$?"text-brand":""}`,children:(V==null?void 0:V.nombre)||"Cargando"}),s.jsx("p",{className:"text-xs text-gray-500",children:(R==null?void 0:R.nombre)||`Usuario ${C}`})]}),$&&s.jsx("span",{title:`${G} sin leer`,className:"shrink-0 inline-flex items-center justify-center rounded-full bg-red-500 text-white text-[10px] h-5 min-w-[20px] px-1",children:G}),s.jsx("button",{type:"button",className:"shrink-0 rounded p-1 text-gray-500 hover:text-red-600",title:"Borrar conversacin",onClick:W=>{W.stopPropagation(),U()},children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"h-4 w-4",children:[s.jsx("path",{d:"M3 6h18"}),s.jsx("path",{d:"M8 6V4h8v2"}),s.jsx("path",{d:"M19 6l-1 14a2 2 0 01-2 2H8a2 2 0 01-2-2L5 6"}),s.jsx("path",{d:"M10 11v6M14 11v6"})]})})]})},k)}),S.size>0&&s.jsxs("div",{className:"mt-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h4",{className:"text-xs font-semibold text-gray-600",children:["Archivadas (",S.size,")"]}),s.jsx("button",{type:"button",className:"text-xs rounded px-2 py-1 border hover:bg-gray-100",onClick:()=>N(k=>!k),children:M?"Ocultar":"Mostrar"})]}),M&&s.jsx("div",{className:"mt-2",children:Object.entries(K).filter(([k])=>S.has(k)).map(([k,F])=>{const{usuarioId:C,figuraId:z}=F,R=o[C],V=x[z],U=(F.mensajes||[]).filter($=>$.receptor_id===l.id&&!$.leido).length,G=U>0;return s.jsx("div",{onClick:()=>{p(k),typeof window<"u"&&window.innerWidth<768&&B(!1)},className:`w-full text-left p-2 rounded hover:bg-gray-100 cursor-pointer ${k===u?"bg-gray-100":""} ${G?"ring-2 ring-red-300":""}`,children:s.jsxs("div",{className:"flex items-center gap-2 justify-between",children:[s.jsx("img",{src:Ce(R==null?void 0:R.foto_perfil)||"https://via.placeholder.com/32?text=",alt:"",className:"h-8 w-8 rounded-full object-cover border",onError:$=>{$.currentTarget.src="https://via.placeholder.com/32?text="}}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:`font-medium ${G?"text-brand":""}`,children:(V==null?void 0:V.nombre)||"Cargando"}),s.jsx("p",{className:"text-xs text-gray-500",children:(R==null?void 0:R.nombre)||`Usuario ${C}`})]}),G&&s.jsx("span",{title:`${U} sin leer`,className:"shrink-0 inline-flex items-center justify-center rounded-full bg-red-500 text-white text-[10px] h-5 min-w-[20px] px-1",children:U}),s.jsx("button",{type:"button",className:"shrink-0 rounded p-1 text-gray-500 hover:text-brand",title:"Desarchivar",onClick:async $=>{$.stopPropagation();const[W,he]=k.split("|"),lt={owner_id:l.id,otro_usuario_id:Number(W),figura_id:he!=="general"?Number(he):void 0};b(Y=>{const ge=new Set(Y);return ge.delete(k),ge});try{const Y=await Bh(lt);(!Y||Y.ok===!1)&&console.warn("Desarchivar servidor fall:",Y==null?void 0:Y.status,Y==null?void 0:Y.error)}catch(Y){console.warn("Error de red desarchivando:",Y)}},children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"h-4 w-4",children:[s.jsx("path",{d:"M20 6H4l2-2h12l2 2z"}),s.jsx("path",{d:"M4 6l2 14h12l2-14"}),s.jsx("path",{d:"M12 10v6M9 13l3-3 3 3"})]})})]})},k)})})]})]}),s.jsxs("div",{className:`md:col-span-2 ${D?"hidden md:flex":"flex"} flex-col min-h-0`,children:[s.jsxs("div",{className:"md:hidden p-2 border-b flex items-center justify-between",children:[s.jsxs("button",{type:"button",onClick:()=>B(!0),className:"inline-flex items-center gap-2 rounded-md border px-3 py-1",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"h-4 w-4",children:s.jsx("path",{d:"M15 19l-7-7 7-7"})}),s.jsx("span",{children:"Conversaciones"})]}),s.jsx("span",{className:"text-xs text-gray-600",children:"Chat"})]}),s.jsxs("div",{className:"flex-1 p-4 overflow-y-auto min-h-0",children:[s.jsx("div",{className:"hidden md:flex sticky top-1/2 -translate-y-1/2 justify-center pointer-events-none z-0",children:s.jsx("img",{src:"/fondo.png",alt:"",className:"opacity-30 w-60 h-60 object-contain"})}),s.jsx("div",{className:`relative z-10 ${_?"pointer-events-none":""}`,children:w||h?s.jsx("div",{"aria-busy":"true","aria-live":"polite",children:Array.from({length:8}).map((k,F)=>s.jsx("div",{className:"mb-2 flex",children:s.jsxs("div",{className:"max-w-[70%] rounded-2xl px-3 py-2",children:[s.jsx("div",{className:"h-4 w-40 bg-gray-200 rounded animate-pulse"}),s.jsx("div",{className:"mt-1 h-3 w-24 bg-gray-200 rounded animate-pulse"})]})},F))}):u?(((fe=K[u])==null?void 0:fe.mensajes)||[]).map(k=>s.jsx("div",{className:`mb-2 flex ${k.emisor_id===l.id?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-[70%] rounded-2xl px-4 py-2 shadow-sm ${k.emisor_id===l.id?"bg-brand text-white":"bg-[#FECE00] text-black"}`,children:[s.jsx("p",{children:k.contenido}),s.jsxs("div",{className:"mt-1 flex items-center gap-1 justify-end text-[10px] opacity-70",children:[s.jsx("span",{children:new Date(k.fecha_envio).toLocaleString()}),k.emisor_id===l.id&&s.jsx("span",{title:k.leido?"Ledo":"Enviado",className:"inline-flex items-center",children:k.leido?s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"h-3 w-3",children:[s.jsx("path",{d:"M3 12l4 4 8-8"}),s.jsx("path",{d:"M9 12l4 4 8-8"})]}):s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"h-3 w-3",children:s.jsx("path",{d:"M3 12l4 4 8-8"})})})]})]})},k.id)):s.jsx("p",{className:"text-gray-600",children:"Selecciona una conversacin."})})]}),!O&&s.jsxs("div",{className:"border-t p-3 flex gap-2",children:[s.jsx("input",{value:d,onChange:k=>{const F=k.target.value||"",C=F.length?F[0].toUpperCase()+F.slice(1):F;g(C)},onKeyDown:k=>{k.key==="Enter"&&(k.preventDefault(),Z())},className:"flex-1 rounded border px-3 py-2",placeholder:"Escribe un mensaje"}),s.jsx("button",{onClick:Z,disabled:j,className:"rounded-md border px-3 py-2 hover:bg-brand hover:text-white disabled:opacity-50",children:"Enviar"})]})]})]}),_&&s.jsx("div",{className:"absolute inset-0 z-50 bg-black/40 flex items-center justify-center",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-4 w-full max-w-sm",role:"dialog","aria-modal":"true",children:[s.jsx("h3",{className:"text-base font-semibold",children:"Gestionar conversacin"}),s.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Qu quieres hacer con esta conversacin?"}),s.jsxs("div",{className:"mt-4 flex flex-col gap-2",children:[s.jsx("button",{className:"rounded-md border px-3 py-2 hover:bg-red-600 hover:text-white",onClick:async()=>{const{usuarioId:k,figuraId:F,key:C}=_,z={emisor_id:l.id,receptor_id:k,figura_id:Number(F)};(await Ah(z)).ok&&(i(V=>{const U=V.filter($=>{const W=$.emisor_id===l.id?$.receptor_id:$.emisor_id,he=$.figura_id||"general";return!(W===k&&String(he)===String(F))}),G=l==null?void 0:l.id;if(G)try{localStorage.setItem(`mensajes_${G}`,JSON.stringify(U))}catch{}return U}),C===u&&p(null)),L(null)},children:"Borrar conversacin definitivamente"}),s.jsx("button",{className:"rounded-md border px-3 py-2 hover:bg-gray-100",onClick:async()=>{const{key:k,usuarioId:F,figuraId:C}=_,z={owner_id:l.id,otro_usuario_id:Number(F),figura_id:Number(C)};b(R=>new Set([...Array.from(R),k])),k===u&&p(null),L(null);try{const R=await Uh(z);R.ok||console.warn("Archivado servidor fall:",R.status,R.error)}catch(R){console.warn("Error de red archivando:",R)}},children:"Archivar solo"}),s.jsx("button",{className:"rounded-md border px-3 py-2",onClick:()=>L(null),children:"Cancelar"})]})]})})]})})]})}async function Gh(){return te("/api/seguimientos")}async function Yh(e){return te("/api/seguimientos",{method:"POST",body:{figura_id:e}})}async function Jh(e){return te("/api/seguimientos",{method:"DELETE",body:{figura_id:e}})}async function Ka(e){return te(`/api/seguimientos/count?figura_id=${e}`)}async function wl(e=[]){const t=Array.isArray(e)&&e.length?e.join(","):"";return te(`/api/seguimientos/counts?ids=${t}`)}const Hd=m.createContext(null);function Xh({children:e}){const{usuario:t,isAuthenticated:n}=Xe(),[r,l]=m.useState([]);m.useEffect(()=>{if(!n){l([]);return}(async()=>{try{const c=t!=null&&t.id?`favoritos_${t.id}`:null,u=(()=>{try{return c?JSON.parse(localStorage.getItem(c)||"[]"):[]}catch{return[]}})(),p=await Gh(),d=p!=null&&p.ok&&Array.isArray(p.data)?p.data.map(v=>({id:Number(v.figura_id)})):[],g=new Map;[...u,...d].forEach(v=>{v&&typeof v.id=="number"&&g.set(v.id,{id:v.id})});const j=Array.from(g.values());if(l(j),c)try{localStorage.setItem(c,JSON.stringify(j))}catch{}}catch{l(c=>{const u=t!=null&&t.id?`favoritos_${t.id}`:null;if(u)try{localStorage.setItem(u,JSON.stringify(c))}catch{}return c})}})()},[n,t==null?void 0:t.id]),m.useEffect(()=>{if(!n){l([]);return}},[n]);const a=c=>r.some(u=>u.id===c),i=async c=>{if(!(c!=null&&c.id)||!n)return;const u=a(c.id);try{if(u){const p=await Jh(c.id);if(p!=null&&p.ok)return l(d=>{const g=d.filter(v=>v.id!==c.id),j=t!=null&&t.id?`favoritos_${t.id}`:null;if(j)try{localStorage.setItem(j,JSON.stringify(g))}catch{}return g}),"removed"}else{const p=await Yh(c.id);if(p!=null&&p.ok)return l(d=>{const g=new Map;[{id:c.id},...d].forEach(w=>{w&&typeof w.id=="number"&&g.set(w.id,{id:w.id})});const j=Array.from(g.values()),v=t!=null&&t.id?`favoritos_${t.id}`:null;if(v)try{localStorage.setItem(v,JSON.stringify(j))}catch{}return j}),"added"}}catch{}return"error"},o=m.useMemo(()=>({favoritos:r,isFavorito:a,toggle:i}),[r]);return s.jsx(Hd.Provider,{value:o,children:e})}function Xr(){const e=m.useContext(Hd);if(!e)throw new Error("useFavoritos debe usarse dentro de ProveedorFavoritos");return e}function qh(){const{isAuthenticated:e,usuario:t,logout:n}=Xe(),r=Me(),[l,a]=m.useState(!1),{favoritos:i}=Xr(),o=(i||[]).length,[c,u]=m.useState(""),[p,d]=m.useState([]),[g,j]=m.useState([]),[v,w]=m.useState(!1),[E,h]=m.useState(!1),f=m.useRef(null),x=m.useRef(null),[y,S]=m.useState(0),[b,_]=m.useState(!1);m.useEffect(()=>{let N=!0;return v&&Jr().then(O=>{N&&O.ok&&d(O.data||[])}),()=>{N=!1}},[v]),m.useEffect(()=>{const N=c.trim().toLowerCase();if(!N){j([]);return}const O=D=>{const B=D==null?void 0:D.disponible;if(typeof B=="boolean")return B;if(typeof B=="number")return B!==0;const K=String(B??"").trim().toLowerCase();return K?!["false","0","no","off"].includes(K):!0},H=(p||[]).filter(D=>{const B=((D==null?void 0:D.nombre)||"").toLowerCase(),K=((D==null?void 0:D.descripcion)||"").toLowerCase();return(B.includes(N)||K.includes(N))&&O(D)}).slice(0,10);j(H)},[c,p]),m.useEffect(()=>{const N=O=>{const H=f.current&&f.current.contains(O.target),D=x.current&&x.current.contains(O.target);!H&&!D&&(w(!1),h(!1))};return document.addEventListener("click",N),()=>document.removeEventListener("click",N)},[]);const L=async()=>{if(!(e&&!!(t!=null&&t.id))){S(0);return}const O=await Qi();if(O.ok){const H=(O.data||[]).filter(D=>D.receptor_id===t.id&&!D.leido);S(H.length)}else S(0)};m.useEffect(()=>{let N=!0;return(async()=>{N&&await L()})(),()=>{N=!1}},[e,t==null?void 0:t.id]),m.useEffect(()=>{const N=()=>a(!0);return window.addEventListener("figumarket:openMessages",N),()=>window.removeEventListener("figumarket:openMessages",N)},[]);const M=N=>{w(!1),u(""),j([]),r(`/producto/${N}`)};return s.jsxs("header",{className:"sticky top-0 z-50 bg-white/90 backdrop-blur shadow-sm",children:[s.jsxs("div",{className:"px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"relative h-[72px] w-full flex items-center justify-between",children:[s.jsx(Qe,{to:"/",className:"flex items-center h-full",children:s.jsx("img",{src:"/logo.png",alt:"FiguMarket logo",className:"h-full w-[9rem] sm:w-[11rem] object-contain"})}),s.jsxs("nav",{className:"hidden md:flex flex-1 justify-center items-center gap-3 text-sm min-w-0",children:[s.jsxs(Bt,{to:"/catalogo","aria-label":"Catlogo",className:({isActive:N})=>`inline-flex items-center gap-2 h-10 rounded-md px-3 border shadow-sm transition ${N?"border-brand text-brand font-semibold":""} hover:border-brand hover:text-brand hover:shadow-md`,children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"h-5 w-5",children:[s.jsx("path",{d:"M3 3h8v8H3z"}),s.jsx("path",{d:"M13 3h8v8h-8z"}),s.jsx("path",{d:"M3 13h8v8H3z"}),s.jsx("path",{d:"M13 13h8v8h-8z"})]}),s.jsx("span",{className:"hidden xl:inline",children:"Catlogo"})]}),s.jsxs(Bt,{to:"/noticias","aria-label":"Noticias",className:({isActive:N})=>`inline-flex items-center gap-2 h-10 rounded-md px-3 border shadow-sm transition ${N?"border-brand text-brand font-semibold":""} hover:border-brand hover:text-brand hover:shadow-md`,children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"h-5 w-5",children:[s.jsx("path",{d:"M6 2h8l4 4v14a2 2 0 01-2 2H6a2 2 0 01-2-2V4a2 2 0 012-2z"}),s.jsx("path",{d:"M14 2v4h4"})]}),s.jsx("span",{className:"hidden xl:inline",children:"Noticias"})]}),s.jsxs(Bt,{to:"/vender",onClick:N=>{e||(N.preventDefault(),r("/login"))},className:({isActive:N})=>"inline-flex items-center gap-2 h-10 rounded-md px-4 text-sm font-semibold bg-[#FECE00] text-black shadow-md hover:shadow-lg whitespace-nowrap","aria-label":"Publicar Figura",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",className:"h-5 w-5","aria-hidden":"true",children:[s.jsx("circle",{cx:"12",cy:"12",r:"9",fill:"white"}),s.jsx("path",{d:"M12 8v8M8 12h8",stroke:"#000000",strokeWidth:"2",strokeLinecap:"round"})]}),s.jsx("span",{children:"Publicar Figura"})]}),e&&!!(t!=null&&t.id)&&s.jsxs(Bt,{to:"/seguimiento","aria-label":"Seguimiento",className:({isActive:N})=>`inline-flex items-center gap-2 h-10 rounded-md px-3 border shadow-sm transition ${N?"border-brand text-brand font-semibold":""} hover:border-brand hover:text-brand hover:shadow-md whitespace-nowrap`,children:[s.jsx("span",{className:"inline-flex items-center justify-center rounded-full bg-brand text-white text-xs h-5 min-w-[20px] px-1",children:o}),s.jsx("span",{className:"hidden xl:inline",children:"Seguimiento"}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"h-5 w-5",children:s.jsx("path",{d:"M6 2a2 2 0 00-2 2v18l8-4 8 4V4a2 2 0 00-2-2H6z"})})]}),e&&!!(t!=null&&t.id)&&s.jsxs("button",{onClick:()=>a(!0),className:"relative inline-flex items-center gap-2 h-10 rounded-md px-3 border shadow-sm transition hover:border-brand hover:text-brand hover:shadow-md whitespace-nowrap","aria-label":"Mensajes",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"h-5 w-5",children:s.jsx("path",{d:"M20 4H4a2 2 0 00-2 2v12a2 2 0 002 2h16a2 2 0 002-2V6a2 2 0 00-2-2zm-1.4 3l-6.6 4.15L5.4 7H18.6zM4 18V8.08l8 5.02 8-5.02V18H4z"})}),s.jsx("span",{className:"hidden xl:inline",children:"Mensajes"}),y>0&&s.jsx("span",{title:`${y} mensaje(s) sin leer`,className:"absolute -top-1 -right-1 min-w-[18px] h-5 px-1 rounded-full bg-red-500 ring-2 ring-white text-white text-[10px] font-semibold flex items-center justify-center",children:y})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{type:"button",ref:x,onClick:()=>h(N=>!N),"aria-label":"Abrir buscador",className:"inline-flex md:hidden items-center justify-center h-10 w-10 rounded-md border shadow-sm hover:bg-gray-100 hover:shadow-md",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"h-5 w-5",children:s.jsx("path",{d:"M10 2a8 8 0 105.293 14.293l4.707 4.707 1.414-1.414-4.707-4.707A8 8 0 0010 2zm0 2a6 6 0 110 12 6 6 0 010-12z"})})}),s.jsx("button",{type:"button",className:"inline-flex md:hidden items-center justify-center h-10 w-10 rounded-full border shadow-sm overflow-hidden","aria-label":"Ir a mi perfil",onClick:()=>{r(e?"/perfil":"/login")},children:e?s.jsx("img",{src:Ce(t==null?void 0:t.foto_perfil)||"/default-avatar.svg",alt:"",className:"h-full w-full object-cover",onError:N=>{N.currentTarget.src="/default-avatar.svg"}}):s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"h-6 w-6",children:s.jsx("path",{d:"M12 12a5 5 0 100-10 5 5 0 000 10zm0 2c-5.33 0-8 2.67-8 6v2h16v-2c0-3.33-2.67-6-8-6z"})})}),s.jsx("div",{className:"hidden md:flex items-center gap-3",children:e?s.jsxs(s.Fragment,{children:[s.jsxs(Qe,{to:"/perfil",className:"flex items-center gap-2 hover:text-brand",children:[s.jsx("img",{src:Ce(t==null?void 0:t.foto_perfil)||"/default-avatar.svg",alt:"Foto de perfil",className:"h-9 w-9 rounded-full object-cover border",onError:N=>{N.currentTarget.src="/default-avatar.svg"}}),s.jsx("span",{className:"hidden xl:inline",children:(t==null?void 0:t.nombre)||"Perfil"})]}),s.jsxs("button",{"aria-label":"Cerrar sesin",onClick:()=>{n(),r("/")},className:"inline-flex items-center gap-2 h-10 rounded-md px-3 border text-gray-700 shadow-sm hover:shadow-md hover:bg-red-600 hover:text-white hover:border-red-600",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"h-5 w-5",children:s.jsx("path",{d:"M16 17v2H4V5h12v2h2V5a2 2 0 00-2-2H4a2 2 0 00-2 2v14a2 2 0 002 2h12a2 2 0 002-2v-2h-2zm-1-6l-4-4v3H20v2H11v3l4-4z"})}),s.jsx("span",{className:"hidden xl:inline",children:"Cerrar sesin"})]})]}):s.jsxs(Qe,{to:"/login",className:"inline-flex items-center gap-2 h-10 rounded-md px-3 border shadow-sm hover:shadow-md hover:bg-brand hover:text-white","aria-label":"Ir a Login",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"h-5 w-5",children:s.jsx("path",{d:"M12 12a5 5 0 100-10 5 5 0 000 10zm0 2c-5.33 0-8 2.67-8 6v2h16v-2c0-3.33-2.67-6-8-6z"})}),s.jsx("span",{className:"hidden xl:inline",children:"Login"})]})})]})]}),s.jsx("div",{className:"hidden md:flex items-center justify-center pb-3",children:s.jsxs("div",{ref:f,className:"relative w-full max-w-[32rem]",children:[s.jsx("input",{type:"text",value:c,onChange:N=>{u(N.target.value),w(!0)},onFocus:()=>w(!0),onKeyDown:N=>{N.key==="Enter"&&c.trim()&&(w(!1),r(`/buscar?q=${encodeURIComponent(c.trim())}`))},placeholder:"Buscar figuras...","aria-label":"Buscar",className:"w-full h-11 rounded-full border-2 border-brand/50 bg-white px-4 pr-12 shadow-md focus:outline-none focus:ring-2 focus:ring-brand focus:border-brand hover:border-brand transition"}),s.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-brand/70 pointer-events-none",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"h-5 w-5",children:s.jsx("path",{d:"M10 2a8 8 0 105.293 14.293l4.707 4.707 1.414-1.414-4.707-4.707A8 8 0 0010 2zm0 2a6 6 0 110 12 6 6 0 010-12z"})})}),v&&g.length>0&&s.jsx("div",{className:"absolute left-0 right-0 top-full mt-2 rounded-lg border bg-white shadow-xl max-h-[60vh] overflow-auto z-50",children:s.jsx("ul",{children:g.map(N=>{var O,H;return s.jsx("li",{children:s.jsxs("button",{className:"w-full text-left flex items-center gap-3 px-3 py-2 hover:bg-gray-100",onClick:()=>M(N.id),children:[s.jsx("img",{src:Ce((H=(O=N.imagenes)==null?void 0:O[0])==null?void 0:H.url)||"https://via.placeholder.com/40?text=",alt:"",className:"h-10 w-10 rounded border object-cover",onError:D=>{D.currentTarget.src="https://via.placeholder.com/40?text="}}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-medium truncate",children:N.nombre}),s.jsx("p",{className:"text-xs text-gray-500 truncate",children:N.descripcion})]}),s.jsx("span",{className:"text-sm font-semibold text-brand",children:new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR"}).format(Number(N.precio||0))})]})},N.id)})})})]})})]}),E&&s.jsx("div",{className:"md:hidden border-t bg-white",children:s.jsx("div",{className:"px-4 py-3",children:s.jsxs("div",{ref:f,className:"relative mx-auto w-full",children:[s.jsx("input",{type:"text",value:c,onChange:N=>{u(N.target.value),w(!0)},onFocus:()=>w(!0),onKeyDown:N=>{N.key==="Enter"&&c.trim()&&(w(!1),h(!1),r(`/buscar?q=${encodeURIComponent(c.trim())}`))},placeholder:"Buscar figuras...","aria-label":"Buscar",className:"w-full h-11 rounded-full border-2 border-brand/50 bg-white px-4 py-2 shadow-md focus:outline-none focus:ring-2 focus:ring-brand focus:border-brand hover:border-brand transition"}),v&&g.length>0&&s.jsx("div",{className:"absolute left-0 right-0 mt-2 rounded-lg border bg-white shadow-xl max-h-[60vh] overflow-auto z-50",children:s.jsx("ul",{children:g.map(N=>{var O,H;return s.jsx("li",{children:s.jsxs("button",{className:"w-full text-left flex items-center gap-3 px-3 py-2 hover:bg-gray-100",onClick:()=>M(N.id),children:[s.jsx("img",{src:Ce((H=(O=N.imagenes)==null?void 0:O[0])==null?void 0:H.url)||"https://via.placeholder.com/40?text=",alt:"",className:"h-10 w-10 rounded border object-cover",onError:D=>{D.currentTarget.src="https://via.placeholder.com/40?text="}}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium truncate",children:N.nombre}),s.jsx("p",{className:"text-xs text-gray-500 truncate",children:N.descripcion})]}),s.jsx("span",{className:"text-sm font-semibold text-brand",children:new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR"}).format(Number(N.precio||0))})]})},N.id)})})})]})})}),e&&!!(t!=null&&t.id)&&l&&Bi.createPortal(s.jsx(Vd,{onClose:()=>{a(!1),L()}}),document.body)]})}function Zh(){const e=new Date().getFullYear();return s.jsxs("footer",{className:"bg-[#FECE00] text-black mt-8 relative",children:[s.jsx("img",{src:"/Figumarket.png",alt:"Figumarket",className:"hidden xl:block pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 xl:w-64 h-auto"}),s.jsxs("div",{className:"container-base pt-6 pb-24 sm:py-10 xl:pl-60",style:{paddingBottom:"calc(env(safe-area-inset-bottom) + 96px)"},children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8 items-start",children:[s.jsxs("div",{className:"flex flex-col items-center text-center sm:items-start sm:text-left",children:[s.jsx("div",{className:"inline-flex items-center gap-3",children:s.jsx("span",{className:"text-2xl lg:text-3xl font-black",children:"FiguMarket"})}),s.jsx("p",{className:"mt-2 sm:mt-3 text-sm max-w-sm",children:"Somos un portal de figuras de segunda mano para que cualquier persona pueda encontrar y vender sus figuras fcilmente. Conecta con coleccionistas y dale una segunda vida a tus piezas."})]}),s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("h3",{className:"text-sm font-semibold text-black tracking-wide text-center",children:"Contacto"}),s.jsxs("ul",{className:"mt-2 sm:mt-3 space-y-2 text-sm",children:[s.jsx("li",{children:s.jsx("a",{href:"mailto:contacto@figumarket.com",className:"inline-flex items-center gap-2 rounded-md px-3 py-2 bg-black text-white hover:bg-black/90 sm:bg-transparent sm:text-black sm:hover:bg-transparent",children:"contacto@figumarket.com"})}),s.jsx("li",{children:s.jsx("a",{href:"tel:+34612345678",className:"inline-flex items-center gap-2 rounded-md px-3 py-2 bg-black text-white hover:bg-black/90 sm:bg-transparent sm:text-black sm:hover:bg-transparent",children:"+34 612 345 678"})}),s.jsx("li",{children:s.jsx("span",{className:"text-black",children:"Madrid, Espaa"})}),s.jsx("li",{children:s.jsx("span",{className:"text-black",children:"LunVie: 9:0018:00 CET"})})]})]}),s.jsxs("div",{className:"flex flex-col items-center text-center sm:items-start sm:text-left",children:[s.jsx("h3",{className:"text-sm font-semibold tracking-wide text-center sm:text-left",children:"Sguenos"}),s.jsxs("div",{className:"mt-2 sm:mt-3 flex items-center justify-center sm:justify-start gap-3",children:[s.jsxs("a",{"aria-label":"Twitter/X",href:"https://twitter.com/figumarket",target:"_blank",rel:"noreferrer",className:"inline-flex items-center justify-center h-9 w-9 rounded-full bg-black text-white hover:bg-black/90 ring-1 ring-black/10 sm:bg-transparent sm:text-black sm:hover:bg-transparent",children:[s.jsx("img",{src:"https://cdn.simpleicons.org/x/ffffff",alt:"",className:"h-5 w-5 sm:hidden"}),s.jsx("img",{src:"https://cdn.simpleicons.org/x/000000",alt:"",className:"h-5 w-5 hidden sm:block"})]}),s.jsxs("a",{"aria-label":"Instagram",href:"https://instagram.com/figumarket",target:"_blank",rel:"noreferrer",className:"inline-flex items-center justify-center h-9 w-9 rounded-full bg-black text-white hover:bg-black/90 ring-1 ring-black/10 sm:bg-transparent sm:text-black sm:hover:bg-transparent",children:[s.jsx("img",{src:"https://cdn.simpleicons.org/instagram/ffffff",alt:"",className:"h-5 w-5 sm:hidden"}),s.jsx("img",{src:"https://cdn.simpleicons.org/instagram/000000",alt:"",className:"h-5 w-5 hidden sm:block"})]}),s.jsxs("a",{"aria-label":"WhatsApp",href:"https://wa.me/34612345678",target:"_blank",rel:"noreferrer",className:"inline-flex items-center justify-center h-9 w-9 rounded-full bg-black text-white hover:bg-black/90 ring-1 ring-black/10 sm:bg-transparent sm:text-black sm:hover:bg-transparent",children:[s.jsx("img",{src:"https://cdn.simpleicons.org/whatsapp/ffffff",alt:"",className:"h-5 w-5 sm:hidden"}),s.jsx("img",{src:"https://cdn.simpleicons.org/whatsapp/000000",alt:"",className:"h-5 w-5 hidden sm:block"})]})]}),s.jsx("p",{className:"mt-2 sm:mt-3 text-xs text-black text-center sm:text-left",children:"Comparte tus hallazgos y etiqueta a @figumarket."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold tracking-wide",children:"Informacin legal"}),s.jsxs("ul",{className:"mt-2 sm:mt-3 grid grid-cols-2 gap-2 sm:block sm:space-y-2 text-sm",children:[s.jsx("li",{children:s.jsx("a",{href:"/aviso-legal",className:"inline-flex items-center gap-2 rounded-md px-3 py-2 bg-black text-white hover:bg-black/90 w-full sm:bg-transparent sm:text-black sm:hover:bg-transparent",children:"Aviso legal y Trminos"})}),s.jsx("li",{children:s.jsx("a",{href:"/privacidad",className:"inline-flex items-center gap-2 rounded-md px-3 py-2 bg-black text-white hover:bg-black/90 w-full sm:bg-transparent sm:text-black sm:hover:bg-transparent",children:"Poltica de privacidad"})}),s.jsx("li",{children:s.jsx("a",{href:"/cookies",className:"inline-flex items-center gap-2 rounded-md px-3 py-2 bg-black text-white hover:bg-black/90 w-full sm:bg-transparent sm:text-black sm:hover:bg-transparent",children:"Cookies"})}),s.jsx("li",{children:s.jsx("a",{href:"/quienes-somos",className:"inline-flex items-center gap-2 rounded-md px-3 py-2 bg-black text-white hover:bg-black/90 w-full sm:bg-transparent sm:text-black sm:hover:bg-transparent",children:"Quines somos"})})]})]})]}),s.jsx("div",{className:"mt-6 sm:mt-8 border-t border-black/20 pt-4 sm:pt-5 flex items-center justify-center text-center gap-4 text-xs text-black",children:s.jsxs("p",{children:[" ",e," FiguMarket  Todos los derechos reservados"]})})]})]})}function eg(){const e=jt(),t=Me(),{isAuthenticated:n,usuario:r}=Xe(),{favoritos:l}=Xr();(l||[]).length;const[a,i]=m.useState(0);return m.useEffect(()=>{window.scrollTo(0,0)},[e.pathname]),m.useEffect(()=>{(async()=>{if(!(n&&!!(r!=null&&r.id))){i(0);return}const u=await Qi();if(u!=null&&u.ok){const p=(u.data||[]).filter(d=>d.receptor_id===r.id&&!d.leido);i(p.length)}else i(0)})()},[n,r==null?void 0:r.id]),s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(qh,{}),s.jsx("main",{className:"flex-1 container-base py-6 pb-20 md:pb-6",children:s.jsx(xh,{})}),s.jsx("div",{className:"md:hidden fixed bottom-0 inset-x-0 z-[70] bg-white border-t shadow h-16",children:s.jsxs("nav",{className:"grid grid-cols-5 text-xs",children:[s.jsx(Bt,{to:"/catalogo",className:({isActive:o})=>`flex items-center justify-center gap-1 py-3 ${o?"text-brand":"text-gray-700"}`,"aria-label":"Catlogo",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"h-8 w-8",children:[s.jsx("path",{d:"M3 3h8v8H3z"}),s.jsx("path",{d:"M13 3h8v8h-8z"}),s.jsx("path",{d:"M3 13h8v8H3z"}),s.jsx("path",{d:"M13 13h8v8h-8z"})]})}),s.jsx(Bt,{to:"/noticias",className:({isActive:o})=>`flex items-center justify-center gap-1 py-3 ${o?"text-brand":"text-gray-700"}`,"aria-label":"Noticias",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"h-8 w-8",children:[s.jsx("path",{d:"M6 2h8l4 4v14a2 2 0 01-2 2H6a2 2 0 01-2-2V4a2 2 0 012-2z"}),s.jsx("path",{d:"M14 2v4h4"})]})}),s.jsx(Bt,{to:"/vender",onClick:o=>{n||(o.preventDefault(),t("/login"))},className:({isActive:o})=>`flex items-center justify-center gap-1 py-3 ${o?"text-brand":"text-gray-700"}`,"aria-label":"Publicar",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",className:"h-8 w-8",children:[s.jsx("circle",{cx:"12",cy:"12",r:"9",fill:"#FECE00"}),s.jsx("path",{d:"M12 8v8M8 12h8",stroke:"#000",strokeWidth:"2",strokeLinecap:"round"})]})}),s.jsx(Bt,{to:"/seguimiento",onClick:o=>{(!n||!(r!=null&&r.id))&&(o.preventDefault(),t("/login"))},className:({isActive:o})=>`relative flex items-center justify-center py-3 ${o?"text-brand":"text-gray-700"}`,"aria-label":"Seguimiento",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"h-8 w-8",children:s.jsx("path",{d:"M6 2a2 2 0 00-2 2v18l8-4 8 4V4a2 2 0 00-2-2H6z"})})}),s.jsxs("button",{type:"button",onClick:()=>{!n||!(r!=null&&r.id)?t("/login"):window.dispatchEvent(new Event("figumarket:openMessages"))},className:"relative flex items-center justify-center py-3 text-gray-700","aria-label":"Mensajes",children:[a>0&&s.jsx("span",{className:"absolute -top-1 -right-1 min-w-[18px] h-5 px-1 rounded-full bg-red-500 ring-2 ring-white text-white text-[10px] font-semibold flex items-center justify-center",children:a}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"h-8 w-8",children:s.jsx("path",{d:"M20 4H4a2 2 0 00-2 2v12a2 2 0 002 2h16a2 2 0 002-2V6a2 2 0 00-2-2zm-1.4 3l-6.6 4.15L5.4 7H18.6zM4 18V8.08l8 5.02 8-5.02V18H4z"})})]})]})}),s.jsx(Zh,{})]})}async function Ki(){try{return await te("/api/noticias")}catch(e){return{ok:!1,data:[],error:(e==null?void 0:e.message)||"Error de red"}}}async function Wd(e){try{return await te("/api/noticias",{method:"POST",body:e})}catch(t){return{ok:!1,error:(t==null?void 0:t.message)||"Error de red"}}}async function tg(e,t){try{return await te(`/api/noticias/${e}`,{method:"PUT",body:t})}catch(n){return{ok:!1,error:(n==null?void 0:n.message)||"Error de red"}}}async function Qd(e){try{return await te(`/api/noticias/${e}`,{method:"DELETE"})}catch(t){return{ok:!1,error:(t==null?void 0:t.message)||"Error de red"}}}function qt({children:e,className:t="",variant:n="primary",...r}){const l="inline-flex items-center justify-center rounded-md px-4 py-2 text-sm font-medium transition-colors",a={primary:"bg-brand text-white hover:bg-brand-dark",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300",outline:"border border-gray-300 bg-white text-gray-900 hover:bg-gray-50",danger:"bg-red-600 text-white hover:bg-red-700"};return s.jsx("button",{className:`${l} ${a[n]} ${t}`,...r,children:e})}function Xn(e){try{return new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR"}).format(e||0)}catch{return`${e}`}}function Kd({src:e,onClose:t}){return m.useEffect(()=>{const n=r=>{r.key==="Escape"&&(t==null||t())};return window.addEventListener("keydown",n),()=>window.removeEventListener("keydown",n)},[t]),e?s.jsxs("div",{className:"fixed inset-0 z-50",onClick:n=>n.stopPropagation(),onMouseDown:n=>n.stopPropagation(),children:[s.jsx("div",{className:"absolute inset-0 bg-black/80",onClick:n=>{n.stopPropagation(),t==null||t()}}),s.jsxs("div",{className:"absolute inset-0 flex items-center justify-center p-4",onClick:n=>{n.target===n.currentTarget&&(t==null||t())},children:[s.jsx("img",{src:e,alt:"Imagen",className:"max-w-full max-h-full rounded shadow-2xl"}),s.jsx("button",{"aria-label":"Cerrar",onClick:n=>{n.stopPropagation(),t==null||t()},className:"absolute top-4 right-4 rounded-full bg-white/90 hover:bg-white border px-3 py-1",children:""})]})]}):null}function qr({figura:e,compact:t=!1,featured:n=!1,showVisibilityControl:r=!1,onToggleDisponible:l,showOwnerActions:a=!1,onEdit:i,onDelete:o,seguimientoCount:c=0}){const{id:u,nombre:p,descripcion:d,categoria:g,escala:j,estado:v,precio:w,disponible:E,fecha_publicacion:h,imagenes:f=[],destacado:x}=e||{},y=m.useMemo(()=>(f||[]).map(Q=>Q==null?void 0:Q.url).filter(Boolean),[f]),[S,b]=m.useState(0),[_,L]=m.useState(0),[M,N]=m.useState(null),[O,H]=m.useState(0),D=m.useRef(null),[B,K]=m.useState(null),Z=Me(),fe=y.length>0,k=fe?Ce(y[S]):"https://via.placeholder.com/800x600?text=Figura",{isFavorito:F,toggle:C}=Xr(),{isAuthenticated:z,usuario:R}=Xe(),V=z&&(R==null?void 0:R.id)&&(e==null?void 0:e.usuario_id)&&Number(R.id)===Number(e.usuario_id),U=z&&!V&&F(u),[G,$]=m.useState(Number(c||0));m.useEffect(()=>{$(Number(c||0))},[c]);const W=async()=>{var Q;try{if(!u){$(0);return}const ie=await Ka(u);ie!=null&&ie.ok&&$(Number(((Q=ie.data)==null?void 0:Q.count)||0))}catch{$(ie=>Math.max(0,Number(ie||0)))}},he=Q=>{D.current&&clearTimeout(D.current),N(Ce(Q)),H(1),requestAnimationFrame(()=>H(0)),D.current=setTimeout(()=>{N(null),H(0),D.current=null},350)},lt=Q=>{var sn;(sn=Q==null?void 0:Q.stopPropagation)==null||sn.call(Q);const ie=y[S];L(S),b(jn=>{const P=(jn-1+y.length)%Math.max(y.length,1);return he(ie),P})},Y=Q=>{var sn;(sn=Q==null?void 0:Q.stopPropagation)==null||sn.call(Q);const ie=y[S];L(S),b(jn=>{const P=(jn+1)%Math.max(y.length,1);return he(ie),P})},ge=Number(w);h&&new Date(h).toLocaleDateString("es-ES");const je=n?"h-72 sm:h-80 lg:h-[22rem]":t?"h-48 sm:h-56 lg:h-64":"h-56 sm:h-72 lg:h-80",Ne=t?"p-2.5":"p-3",Ft=t?"text-base":"text-lg",mt=t?"line-clamp-1":"line-clamp-2",pt=t?"text-lg":"text-xl",wn=Q=>{const ie=(Q||"").toString().trim().toLowerCase();return ie==="vendido"?"Vendida":ie==="en negociacin"?"En Negociacin":ie==="disponible"?"Disponible":Q||""};return s.jsxs("div",{className:"relative h-full flex flex-col rounded-lg border bg-white shadow-md hover:shadow-lg transition-shadow overflow-hidden cursor-pointer",onClick:()=>Z(`/producto/${u}`),role:"button",tabIndex:0,onKeyDown:Q=>{Q.key==="Enter"&&Z(`/producto/${u}`)},children:[s.jsxs("div",{className:"relative",children:[x&&s.jsxs("span",{className:"absolute left-2 top-2 inline-flex items-center gap-1 rounded-md bg-[#FECE00] text-black text-xs font-semibold px-2 py-1 shadow",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"h-4 w-4",children:s.jsx("path",{d:"M12 2l3 7h7l-5.5 4.5L18 22l-6-4-6 4 1.5-8.5L2 9h7l3-7z"})}),"Destacado"]}),s.jsx("img",{src:k,alt:p,className:`${je} w-full object-cover transition ${n?"":"sm:cursor-zoom-in sm:hover:opacity-95"}`,onClick:n?void 0:Q=>{Q.stopPropagation(),window.innerWidth>=640?K(k):Z(`/producto/${u}`)}}),fe&&y.length>1&&M&&s.jsx("img",{src:M,alt:p,className:`absolute inset-0 ${je} w-full object-cover pointer-events-none transition-opacity duration-300 ease-in-out`,style:{opacity:O}}),fe&&y.length>1&&s.jsxs(s.Fragment,{children:[s.jsx("button",{"aria-label":"Anterior",onClick:lt,className:"hidden md:inline-flex absolute left-2 top-1/2 -translate-y-1/2 rounded-full bg-white/80 hover:bg-white border px-2 py-1 text-gray-700",children:""}),s.jsx("button",{"aria-label":"Siguiente",onClick:Y,className:"hidden md:inline-flex absolute right-2 top-1/2 -translate-y-1/2 rounded-full bg-white/80 hover:bg-white border px-2 py-1 text-gray-700",children:""}),s.jsx("div",{className:"hidden md:flex absolute bottom-2 left-0 right-0 justify-center gap-1",children:y.map((Q,ie)=>s.jsx("span",{className:`h-2 w-2 rounded-full ${ie===S?"bg-brand":"bg-white/70 border"}`},ie))})]}),s.jsx("div",{className:"sm:hidden",children:s.jsx("span",{className:"absolute left-2 bottom-2 h-9 min-w-[2.25rem] inline-flex items-center justify-center rounded-full bg-brand text-white text-xs font-bold px-3 shadow",children:Xn(ge)})})]}),s.jsxs("div",{className:`hidden sm:grid ${Ne} gap-2 flex-1`,children:[s.jsx("h3",{className:`${Ft} font-semibold line-clamp-2`,children:p}),s.jsx("p",{className:`text-sm text-gray-600 ${mt}`,children:d}),s.jsxs("div",{className:"mt-1 grid grid-cols-2 gap-x-4 gap-y-1 text-xs text-gray-700",children:[s.jsxs("span",{children:[s.jsx("span",{className:"font-semibold",children:"Categora:"})," ",g]}),s.jsxs("span",{children:[s.jsx("span",{className:"font-semibold",children:"Estado:"})," ",wn(v)]}),s.jsxs("span",{children:[s.jsx("span",{className:"font-semibold",children:"Escala:"})," ",j]})]}),s.jsxs("div",{className:"flex items-center justify-between mt-2",children:[s.jsx("p",{className:`${pt} font-bold text-brand`,children:Xn(ge)}),s.jsxs("div",{className:"flex items-center gap-2",children:[String(v).toLowerCase()==="vendido"?s.jsx("span",{className:"text-xs text-gray-500",children:"Vendida  no visible"}):r&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-xs text-gray-700",children:"Visible"}),s.jsx("button",{type:"button",role:"switch","aria-checked":!!E,onClick:Q=>{Q.stopPropagation(),l==null||l(e)},className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${E?"bg-brand":"bg-gray-300"}`,children:s.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white shadow transition-transform ${E?"translate-x-5":"translate-x-1"}`})})]}),a&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{type:"button","aria-label":"Destacar",title:"Destacar",onClick:Q=>{Q.stopPropagation(),Z(`/destacar/${u}`)},className:"inline-flex items-center justify-center h-8 w-8 rounded-full border text-[#FECE00] hover:bg-yellow-50 focus:outline-none focus:ring-2 focus:ring-yellow-300",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"h-4 w-4",children:s.jsx("path",{d:"M12 2l3 7h7l-5.5 4.5L18 22l-6-4-6 4 1.5-8.5L2 9h7l3-7z"})})}),s.jsx("button",{type:"button","aria-label":"Editar",title:"Editar",onClick:Q=>{Q.stopPropagation(),i==null||i(e)},className:"inline-flex items-center justify-center h-8 w-8 rounded-full border text-yellow-500 hover:text-yellow-600 hover:bg-yellow-50 focus:outline-none focus:ring-2 focus:ring-yellow-300",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"h-4 w-4",children:[s.jsx("path",{d:"M12 20h9"}),s.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 1 1 3 3L7 19l-4 1 1-4 12.5-12.5z"})]})}),s.jsx("button",{type:"button","aria-label":"Eliminar",title:"Eliminar",onClick:Q=>{Q.stopPropagation(),o==null||o(e)},className:"inline-flex items-center justify-center h-8 w-8 rounded-full border text-red-600 hover:text-red-700 hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-red-300",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"h-4 w-4",children:s.jsx("path",{d:"M9 3h6l1 2h5v2H3V5h5l1-2zm-1 6h8l-1 10H9L8 9z"})})})]})]})]})]}),!a&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"absolute top-2 right-2 sm:hidden",children:s.jsx("span",{className:"inline-flex items-center justify-center h-8 min-w-[2rem] rounded-full bg-white text-black text-sm font-extrabold px-3 border-2 border-[#FECE00]",children:G})}),s.jsx("div",{className:"absolute bottom-2 right-2 sm:hidden",children:V?s.jsx("span",{className:"inline-flex items-center justify-center h-8 w-8 rounded-full bg-blue-600 text-white text-xs font-semibold pointer-events-none",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"h-4 w-4",children:s.jsx("path",{d:"M6 2a2 2 0 00-2 2v18l8-4 8 4V4a2 2 0 00-2-2H6z"})})}):U?s.jsxs("button",{type:"button","aria-label":"Quitar de seguimiento",title:"Quitar de seguimiento",onClick:async Q=>{Q.stopPropagation(),await C(e)==="removed"&&await W()},className:"inline-flex items-center gap-1.5 rounded-md bg-green-600 text-white text-xs font-medium px-3 py-1 hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-green-400",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"h-3.5 w-3.5",children:s.jsx("path",{d:"M6 2a2 2 0 00-2 2v18l8-4 8 4V4a2 2 0 00-2-2H6z"})}),s.jsx("span",{children:"Aadido"})]}):s.jsx("button",{type:"button","aria-label":"Aadir a seguimiento",title:"Aadir a seguimiento",onClick:async Q=>{if(Q.stopPropagation(),!z){Z("/login");return}await C(e)==="added"&&await W()},className:"inline-flex items-center justify-center h-8 w-8 rounded-full border bg-white text-gray-900 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-brand",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"h-4 w-4",children:s.jsx("path",{d:"M6 2a2 2 0 00-2 2v18l8-4 8 4V4a2 2 0 00-2-2H6z"})})})}),s.jsxs("div",{className:"hidden sm:flex absolute top-2 right-2 items-center gap-1.5",children:[V?s.jsx("span",{className:"inline-flex items-center justify-center h-8 w-8 rounded-full bg-blue-600 text-white text-xs font-semibold pointer-events-none",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"h-4 w-4",children:s.jsx("path",{d:"M6 2a2 2 0 00-2 2v18l8-4 8 4V4a2 2 0 00-2-2H6z"})})}):U?s.jsxs("button",{type:"button","aria-label":"Quitar de seguimiento",title:"Quitar de seguimiento",onClick:async Q=>{Q.stopPropagation(),await C(e)==="removed"&&await W()},className:"inline-flex items-center gap-1.5 rounded-md bg-green-600 text-white text-xs font-medium px-3 py-1 hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-green-400",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"h-3.5 w-3.5",children:s.jsx("path",{d:"M6 2a2 2 0 00-2 2v18l8-4 8 4V4a2 2 0 00-2-2H6z"})}),s.jsx("span",{children:"Aadido"})]}):s.jsx("button",{type:"button","aria-label":"Aadir a seguimiento",title:"Aadir a seguimiento",onClick:async Q=>{if(Q.stopPropagation(),!z){Z("/login");return}await C(e)==="added"&&await W()},className:"inline-flex items-center justify-center h-8 w-8 rounded-full border bg-white text-gray-900 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-brand",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"h-4 w-4",children:s.jsx("path",{d:"M6 2a2 2 0 00-2 2v18l8-4 8 4V4a2 2 0 00-2-2H6z"})})}),s.jsx("span",{className:"inline-flex items-center justify-center h-12 min-w-[3rem] rounded-full bg-white text-black text-lg font-extrabold px-4 border-2 border-[#FECE00]",children:G})]})]}),B&&s.jsx(Kd,{src:Ce(B),onClose:()=>K(null)})]})}function ng({items:e=[],perPage:t,autoAdvanceMs:n=5e3}){const[r,l]=m.useState(1),[a,i]=m.useState({});m.useEffect(()=>{const v=()=>{const w=window.innerWidth;w<640?l(1):w<768?l(2):w<1024?l(3):l(4)};return v(),window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[]),m.useEffect(()=>{const v=Array.isArray(e)?e.map(E=>E==null?void 0:E.id).filter(Boolean):[];if(!v.length){i({});return}let w=!0;return(async()=>{try{const E=await wl(v);w&&(E!=null&&E.ok)&&typeof E.data=="object"&&i(E.data)}catch{w&&i({})}})(),()=>{w=!1}},[e]);const o=t??r,c=m.useMemo(()=>{const v=[];for(let w=0;w<e.length;w+=o)v.push(e.slice(w,w+o));return v},[e,o]),[u,p]=m.useState(0),d=m.useRef(!1);m.useEffect(()=>{if(c.length<=1)return;const v=setInterval(()=>{d.current||p(w=>(w+1)%c.length)},n);return()=>clearInterval(v)},[c.length,n]);const g=()=>p(v=>(v-1+c.length)%c.length),j=()=>p(v=>(v+1)%c.length);return!e||e.length===0?null:s.jsxs("div",{className:"rounded-lg bg-[#FECE00]/80 p-4",onMouseEnter:()=>d.current=!0,onMouseLeave:()=>d.current=!1,children:[s.jsxs("div",{className:"relative overflow-hidden",children:[s.jsx("div",{className:"flex transition-transform duration-500 ease-out",style:{transform:`translateX(-${u*100}%)`},children:c.map((v,w)=>s.jsx("div",{className:"min-w-full",children:s.jsx("div",{className:"grid gap-8 items-stretch px-2",style:{gridTemplateColumns:`repeat(${o}, minmax(0, 1fr))`},children:v.map(E=>s.jsx("div",{className:"shadow-md hover:shadow-lg rounded-lg transition-shadow",children:s.jsx(qr,{figura:E,featured:!0,seguimientoCount:Number((a==null?void 0:a[E.id])||0)})},E.id))})},w))}),c.length>1&&s.jsxs(s.Fragment,{children:[s.jsx("button",{type:"button",onClick:g,"aria-label":"Anterior",className:"absolute left-2 top-1/2 -translate-y-1/2 bg-black/30 hover:bg-black/50 text-white rounded-full w-8 h-8 flex items-center justify-center",children:""}),s.jsx("button",{type:"button",onClick:j,"aria-label":"Siguiente",className:"absolute right-2 top-1/2 -translate-y-1/2 bg-black/30 hover:bg-black/50 text-white rounded-full w-8 h-8 flex items-center justify-center",children:""})]})]}),c.length>1&&s.jsx("div",{className:"mt-4 flex items-center justify-center gap-2",children:c.map((v,w)=>s.jsx("button",{type:"button","aria-label":`Ir a pgina ${w+1}`,onClick:()=>p(w),className:`h-2 w-2 rounded-full ${w===u?"bg-black":"bg-black/30"}`},w))})]})}function rg(){const[e,t]=m.useState([]),[n,r]=m.useState(!0),[l,a]=m.useState([]),[i]=m.useState(12);m.useRef(null);const[o,c]=m.useState(!1);m.useEffect(()=>{document.title="FiguMarket - Inicio"},[]),m.useEffect(()=>{let y=!0;return Jr().then(S=>{y&&S.ok&&t(S.data),y&&r(!1)}),Ki().then(S=>{y&&S.ok&&a(Array.isArray(S.data)?S.data:[])}),()=>{y=!1}},[]),m.useEffect(()=>{const y=()=>c(window.innerWidth>=768);return y(),window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]);const u=m.useMemo(()=>{const y=_=>{const L=_==null?void 0:_.disponible;if(typeof L=="boolean")return L;if(typeof L=="number")return L!==0;const M=String(L??"").trim().toLowerCase();return M?!["false","0","no","off"].includes(M):!0},b=[...Array.isArray(e)?e.filter(_=>String((_==null?void 0:_.estado)||"").toLowerCase()!=="vendido"&&y(_)):[]];return b.sort((_,L)=>{const M=new Date((_==null?void 0:_.fecha_publicacion)||0).getTime();return new Date((L==null?void 0:L.fecha_publicacion)||0).getTime()-M}),b},[e]),p=m.useMemo(()=>u.slice(0,i),[u,i]),[d,g]=m.useState({});m.useEffect(()=>{const y=p.map(b=>b.id);if(!y.length){g({});return}let S=!0;return(async()=>{try{const b=await wl(y);S&&(b!=null&&b.ok)&&typeof b.data=="object"&&g(b.data)}catch{S&&g({})}})(),()=>{S=!1}},[p]);const j=m.useMemo(()=>{const y=Array.isArray(e)?e:[],S=_=>String(_||"").toLowerCase(),b=_=>{const L=_==null?void 0:_.disponible;if(typeof L=="boolean")return L;if(typeof L=="number")return L!==0;const M=String(L??"").trim().toLowerCase();return M?!["false","0","no","off"].includes(M):!0};return y.filter(_=>!!_.destacado&&S(_.estado)!=="vendido"&&b(_))},[e]),v=m.useMemo(()=>l.slice(0,12),[l]),[w,E]=m.useState([0,1,2]),[h,f]=m.useState(null),x=m.useRef(!1);return m.useEffect(()=>{const y=v.length;if(y===0){E([]);return}const S=[0,1,2].filter(b=>b<y);E(b=>b.length?b.map((_,L)=>_<y?_:L<S.length?S[L]:0):S)},[v]),m.useEffect(()=>{if(v.length<=3)return;const y=setInterval(()=>{if(x.current)return;const S=Math.floor(Math.random()*Math.min(3,w.length||3)),b=w[S],_=Array.from({length:v.length},(N,O)=>O),L=_.filter(N=>!w.includes(N)),M=(L.length?L:_.filter(N=>N!==b))[Math.floor(Math.random()*(L.length?L.length:Math.max(_.length-1,1)))];f(S),setTimeout(()=>{E(N=>{const O=[...N];return O[S]=M,O}),f(null)},1e3)},4e3);return()=>clearInterval(y)},[v,w]),s.jsxs("section",{children:[j.length>0&&s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"mb-1 text-sm font-semibold text-gray-700",children:"Novedades Proximas Figuras"}),s.jsxs("h2",{className:"text-3xl font-bold flex items-center gap-2",children:[s.jsx("span",{children:"Figuras destacadas"}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"h-5 w-5 text-[#FECE00]",children:s.jsx("path",{d:"M12 2l3 7h7l-5.5 4.5L18 22l-6-4-6 4 1.5-8.5L2 9h7l3-7z"})})]}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Explora las ltimas figuras destacadas."}),s.jsx("div",{className:"mt-4",children:s.jsx(ng,{items:j,autoAdvanceMs:5e3})})]}),!n&&s.jsxs("div",{className:"mt-32 mb-32 grid grid-cols-1 sm:grid-cols-3 gap-6",children:[s.jsx(Qe,{to:"/catalogo?categoria=marvel",className:"relative overflow-hidden h-24 sm:h-28 rounded-xl border shadow bg-[#ED1D24] hover:brightness-95 focus:outline-none focus:ring-2 focus:ring-[#ED1D24] transition-transform duration-200 ease-out hover:-translate-y-1 hover:shadow-lg","aria-label":"Marvel",children:s.jsx("img",{src:"/marvel.svg",alt:"Marvel",className:"absolute inset-0 w-full h-full object-contain",loading:"lazy"})}),s.jsx(Qe,{to:"/catalogo?categoria=dc",className:"relative overflow-hidden h-24 sm:h-28 rounded-xl border shadow bg-white hover:brightness-95 focus:outline-none focus:ring-2 focus:ring-black transition-transform duration-200 ease-out hover:-translate-y-1 hover:shadow-lg","aria-label":"DC",children:s.jsx("img",{src:"/dc.svg",alt:"DC",className:"absolute inset-0 w-full h-full object-contain p-2",loading:"lazy"})}),s.jsx(Qe,{to:"/catalogo?categoria=star%20wars",className:"relative overflow-hidden h-24 sm:h-28 rounded-xl border shadow bg-black hover:brightness-95 focus:outline-none focus:ring-2 focus:ring-black transition-transform duration-200 ease-out hover:-translate-y-1 hover:shadow-lg","aria-label":"Star Wars",children:s.jsx("img",{src:"/star-wars.svg",alt:"Star Wars",className:"absolute inset-0 w-full h-full object-contain p-2",loading:"lazy"})})]}),v.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("h2",{className:"text-3xl font-bold",children:"Novedades Proximas Figuras"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Proximas figuras"}),s.jsx("div",{className:"mt-4 rounded-lg border bg-white p-4",onMouseEnter:()=>x.current=!0,onMouseLeave:()=>x.current=!1,children:s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 items-stretch",children:Array.from({length:Math.min(3,v.length)}).map((y,S)=>{const b=v[w[S]??S]||{},_=(b==null?void 0:b.titulo)||(b==null?void 0:b.title)||(b==null?void 0:b.nombre)||"Sin ttulo",L=(b==null?void 0:b.resumen)||(b==null?void 0:b.descripcion)||(b==null?void 0:b.description)||"",M=(b==null?void 0:b.imagen)||(b==null?void 0:b.imagen_url)||(b==null?void 0:b.image)||(b==null?void 0:b.cover)||"",N=(b==null?void 0:b.url)||(b==null?void 0:b.link)||"";return s.jsx("div",{className:`transition-opacity duration-1000 ease-in-out ${h===S?"opacity-0":"opacity-100"}`,children:s.jsxs("article",{className:"rounded-lg border shadow-sm overflow-hidden h-full min-h-[360px] sm:min-h-[420px] lg:min-h-[480px]",children:[s.jsx("div",{className:"h-48 sm:h-64 lg:h-72 w-full bg-gray-200 bg-center bg-cover",style:{backgroundImage:M?`url(${Ce(M)||M})`:"none"},children:!M&&s.jsx("div",{className:"h-full w-full flex items-center justify-center text-gray-400",children:"Sin imagen"})}),s.jsxs("div",{className:"p-4 flex flex-col",children:[s.jsx("h3",{className:"text-base font-semibold line-clamp-2",children:_}),L&&s.jsx("p",{className:"mt-1 text-sm text-gray-600 line-clamp-3",children:L}),N&&s.jsx("a",{href:N,target:"_blank",rel:"noreferrer",className:"mt-3 inline-flex items-center gap-2 h-10 rounded-md px-3 border hover:bg-gray-100 w-full justify-center sm:w-auto",children:"Leer ms"})]})]})},S)})})})]}),n?s.jsx("div",{className:"mt-6 grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 sm:gap-6 bg-white/50 rounded-xl p-2","aria-busy":"true","aria-live":"polite",style:o?{backgroundImage:"url('/fondo.png')",backgroundAttachment:"fixed",backgroundPosition:"center center",backgroundRepeat:"no-repeat",backgroundSize:"240px"}:void 0,children:Array.from({length:12}).map((y,S)=>s.jsxs("div",{className:"h-full flex flex-col rounded-lg border bg-white shadow-md overflow-hidden animate-pulse",children:[s.jsx("div",{className:"h-48 sm:h-56 lg:h-64 w-full bg-gray-200"}),s.jsxs("div",{className:"p-4",children:[s.jsx("div",{className:"h-4 w-11/12 bg-gray-200 rounded"}),s.jsx("div",{className:"mt-2 h-3 w-8/12 bg-gray-200 rounded"}),s.jsx("div",{className:"mt-4 h-6 w-32 bg-gray-200 rounded"})]})]},S))}):s.jsxs(s.Fragment,{children:[s.jsx("h1",{className:"mt-6 text-3xl font-bold",children:"ltimas figuras"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Explora las ltimas figuras publicadas."}),p.length===0?s.jsx("p",{className:"mt-6 text-gray-600",children:"No hay figuras para mostrar."}):s.jsx("div",{className:"mt-6 grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 sm:gap-6 bg-white/50 rounded-xl p-2",style:o?{backgroundImage:"url('/fondo.png')",backgroundAttachment:"fixed",backgroundPosition:"center center",backgroundRepeat:"no-repeat",backgroundSize:"240px"}:void 0,children:p.map(y=>s.jsx(qr,{figura:y,seguimientoCount:Number((d==null?void 0:d[y.id])||0),featured:!0},y.id))}),s.jsx("div",{className:"mt-8 flex justify-center",children:s.jsx(Qe,{to:"/catalogo",className:"inline-flex items-center justify-center h-12 px-6 rounded-lg bg-white text-black border-2 border-black font-bold shadow-md hover:bg-[#FECE00] hover:text-black hover:border-black hover:shadow-lg transition-colors transition-shadow duration-200 focus:outline-none focus:ring-2 focus:ring-black",children:"Explorar ms"})})]})]})}function sg({opciones:e,filtros:t,onToggle:n,onReset:r,precioMinBase:l,precioMaxBase:a,onChangePrecio:i,onChangeFecha:o}){const[c,u]=m.useState(!1),p=({title:d,field:g,values:j})=>s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:d}),s.jsx("div",{className:"flex flex-wrap gap-2",children:j.map(v=>{const w=Array.isArray(t[g])?t[g].includes(v.value):t[g]===v.value;return s.jsx("button",{onClick:()=>n(g,v.value),className:`px-3 py-1 rounded-md border text-sm ${w?"bg-black text-white border-black":"bg-white text-gray-700 hover:bg-gray-100"}`,title:v.label,children:v.label},v.value)})})]});return s.jsxs("aside",{className:"md:sticky md:top-[72px] self-start w-full md:w-[260px]",children:[s.jsxs("div",{className:"md:hidden mb-3 flex items-center justify-between",children:[s.jsx("h2",{className:"text-base font-bold",children:"Filtros"}),s.jsxs("button",{onClick:()=>u(d=>!d),className:"inline-flex items-center gap-2 rounded-md border px-3 py-1 text-sm",children:[s.jsx("span",{children:c?"Ocultar":"Mostrar"}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"h-4 w-4",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})]})]}),s.jsxs("div",{className:`rounded-lg border bg-white p-4 md:max-h-[calc(100vh-72px)] md:overflow-y-auto ${c?"":"hidden md:block"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-base font-bold",children:"Filtros"}),s.jsx("button",{onClick:r,className:"text-sm text-brand hover:text-brand-dark",children:"Limpiar"})]}),s.jsx(p,{title:"Escala",field:"escala",values:e.escalas}),s.jsx(p,{title:"Categora",field:"categoria",values:e.categorias}),s.jsx(p,{title:"Estado",field:"estado",values:e.estados}),s.jsx(p,{title:"Estado de figura",field:"estado_figura",values:e.estadosFigura}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Precio"}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:(e.precios||[]).map(d=>{const g=t.precioRango===d.value;return s.jsx("button",{onClick:()=>n("precioRango",g?null:d.value),className:`px-3 py-1 rounded-md border text-sm ${g?"bg-black text-white border-black":"bg-white text-gray-700 hover:bg-gray-100"}`,children:d.label},d.value)})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600 mb-1",children:[s.jsxs("span",{children:["Mn: ",Math.max(1,Math.floor(t.precioMin??l)),""]}),s.jsxs("span",{children:["Mx: ",(()=>{const d=Math.ceil(t.precioMax??a);return d>=500?"500+ ":`${d}`})()]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"range",min:1,max:500,step:1,value:Math.min(500,Math.max(1,Math.floor(t.precioMin??l))),onChange:d=>{const g=Math.max(1,Math.floor(Number(d.target.value))),j=Math.min(500,Math.ceil(t.precioMax??a)),v=Math.min(g,j);i(v,j)},className:"w-full"}),s.jsx("input",{type:"range",min:1,max:500,step:1,value:Math.min(500,Math.ceil(t.precioMax??a)),onChange:d=>{const g=Math.min(500,Math.ceil(Number(d.target.value))),j=Math.max(1,Math.floor(t.precioMin??l)),v=Math.max(g,j);i(j,v)},className:"w-full"})]}),s.jsx("p",{className:"mt-2 text-xs text-gray-600",children:"Selecciona un rango personalizado o usa los botones."})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Fecha de publicacin"}),s.jsx("input",{type:"date",value:t.fechaDia??"",onChange:d=>o(d.target.value||null),className:"w-full rounded-md border px-3 py-2 shadow-sm focus:outline-none focus:ring-2 focus:ring-brand"})]})]})]})}function lg(){m.useEffect(()=>{document.title="FiguMarket - Catlogo"},[]);const[e,t]=m.useState([]),[n,r]=m.useState(!0),[l,a]=m.useState({escala:[],categoria:[],estado:[],estado_figura:[],precioRango:null,precioMin:null,precioMax:null,fecha:null,fechaDia:null}),{search:i}=jt(),[o,c]=m.useState(null),[u,p]=m.useState(null),[d,g]=m.useState(0),j=24,[v,w]=m.useState(0),[E,h]=m.useState(!1),[f,x]=m.useState(!0),y=m.useRef(null),[S,b]=m.useState({min_precio:null,max_precio:null,meses:[]}),[_,L]=m.useState(!1);m.useEffect(()=>{window.scrollTo(0,0)},[]);const[M,N]=m.useState({}),O=m.useRef(!1),H=C=>{const z={limit:j,offset:C};if(Array.isArray(l.escala)&&l.escala.length&&(z.escala=l.escala),Array.isArray(l.categoria)&&l.categoria.length&&(z.categoria=l.categoria),Array.isArray(l.estado)&&l.estado.length&&(z.estado=l.estado),Array.isArray(l.estado_figura)&&l.estado_figura.length&&(z.estado_figura=l.estado_figura),typeof l.precioRango=="string"){const R=l.precioRango;if(R.endsWith("+")){const V=parseFloat(R.replace("+",""));isNaN(V)||(z.precioMin=V)}else if(R.includes("-")){const[V,U]=R.split("-"),G=parseFloat(V),$=parseFloat(U);isNaN(G)||(z.precioMin=G),isNaN($)||(z.precioMax=$)}}else if(typeof l.precioMin=="number"&&(z.precioMin=l.precioMin),typeof l.precioMax=="number"){const R=l.precioMax>=500?void 0:l.precioMax;typeof R=="number"&&(z.precioMax=R)}return typeof l.fechaDia=="string"&&l.fechaDia?z.fechaDia=l.fechaDia:typeof l.fecha=="string"&&l.fecha&&(z.fecha=l.fecha),o&&(z.ordenPrecio=o),u&&(z.ordenFecha=u),z},D=async C=>{if(O.current)return;O.current=!0;const z=await Jr(H(C));if(z!=null&&z.ok){const R=Array.isArray(z.data)?z.data:[];t(U=>{const G=new Set(U.map(W=>W.id)),$=R.filter(W=>!G.has(W.id));return[...U,...$]}),w(C+R.length),x(R.length===j);const V=R.map(U=>U.id);V.length&&wl(V).then(U=>{U!=null&&U.ok&&typeof U.data=="object"&&N(G=>({...G,...U.data}))}).catch(()=>{})}else x(!1);O.current=!1};m.useEffect(()=>{let C=!0;return(async()=>{const z=V=>new Promise(U=>setTimeout(U,V));let R=!1;for(let V=0;V<30;V++){const U=await Hh();if(U!=null&&U.ok){C&&(b(U.data||{min_precio:null,max_precio:null,meses:[]}),L(!0)),R=!0;break}await z(2e3)}R&&(await D(0),C&&r(!1))})(),()=>{C=!1}},[]),m.useEffect(()=>{if(n)return;(async()=>{const z=document.documentElement.scrollHeight,R=window.innerHeight;f&&!E&&z<=R+100&&(h(!0),await D(v),h(!1))})()},[n,f,v]),m.useEffect(()=>{const C=()=>{g(window.innerWidth>=768?142:0)};return C(),window.addEventListener("resize",C),()=>window.removeEventListener("resize",C)},[]),m.useEffect(()=>{const z=(new URLSearchParams(i).get("categoria")||"").toLowerCase();z&&a(R=>({...R,categoria:[z]}))},[i]);const B=m.useMemo(()=>{const C=ge=>Array.from(new Set(ge.filter(Boolean))),z=[{value:"1:10",label:"1:10"},{value:"1:4",label:"1:4"},{value:"1:12",label:"1:12"},{value:"1:6",label:"1:6"},{value:"otros",label:"Otros"}],R=[{value:"anime",label:"Anime"},{value:"peliculas",label:"Pelculas"},{value:"marvel",label:"Marvel"},{value:"dc",label:"DC"},{value:"videojuegos",label:"Videojuegos"},{value:"comics",label:"Cmics"},{value:"star wars",label:"Star Wars"},{value:"otros",label:"Otros"}],V=[{value:"disponible",label:"Disponible"},{value:"en negociacin",label:"En negociacin"}],U=[{value:"sin abrir",label:"Sin abrir"},{value:"como nueva",label:"Como nueva"},{value:"en buen estado",label:"En buen estado"},{value:"en mal estado",label:"En mal estado"}];let G=[];const $=parseFloat(S.min_precio||"0"),W=parseFloat(S.max_precio||"0");if(!isNaN($)&&!isNaN(W)&&W>0){const je=(W-$)/5||W;for(let Ne=0;Ne<5;Ne++){const Ft=$+Ne*je,mt=Ne===4?W:$+(Ne+1)*je,pt=Math.floor(Ft),wn=Math.ceil(mt);G.push({value:`${pt}-${wn}`,label:`${pt} - ${wn}`})}G=C(G.map(Ne=>Ne.label)).map(Ne=>{const[Ft,mt]=Ne.replace("","").split(" - ").map(pt=>parseFloat(pt));return{value:`${Ft}-${mt}`,label:Ne}})}G.push({value:"500+",label:"500+ "});const he=(S.meses||[]).map(ge=>{const[je,Ne]=String(ge).split("-"),mt=new Date(parseInt(je),parseInt(Ne)-1,1).toLocaleDateString("es-ES",{month:"long",year:"numeric"}),pt=mt.charAt(0).toUpperCase()+mt.slice(1);return{value:ge,label:pt}}).sort((ge,je)=>ge.value<je.value?1:-1);return{escalas:z,categorias:R,estados:V,estadosFigura:U,precios:G,fechas:he,precioMinBase:1,precioMaxBase:500}},[S]),K=m.useMemo(()=>e,[e]);m.useEffect(()=>{t([]),w(0),x(!0),r(!0),(async()=>(await D(0),r(!1)))()},[l,o,u]),m.useEffect(()=>{if(n)return;const C=y.current;if(!C)return;const z=new IntersectionObserver(R=>{R[0].isIntersecting&&f&&!E&&!O.current&&(h(!0),(async()=>(await D(v),h(!1)))())},{root:null,rootMargin:"600px 0px",threshold:0});return z.observe(C),()=>z.disconnect()},[f,E,v,n]);const Z=(C,z)=>{const R=["escala","categoria","estado","estado_figura"];a(V=>{if(R.includes(C)){const U=Array.isArray(V[C])?V[C]:[],$=U.includes(z)?U.filter(W=>W!==z):[...U,z];return{...V,[C]:$}}return{...V,[C]:z}})},fe=()=>a({escala:[],categoria:[],estado:[],estado_figura:[],precioRango:null,precioMin:null,precioMax:null,fecha:null,fechaDia:null}),k=(C,z)=>{a(R=>({...R,precioMin:C,precioMax:z,precioRango:null}))},F=C=>{a(z=>({...z,fechaDia:C,fecha:null}))};return s.jsx("section",{children:s.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-[260px_1fr] gap-6",children:[s.jsx("div",{children:s.jsx(sg,{opciones:B,filtros:l,onToggle:Z,onReset:fe,precioMinBase:B.precioMinBase,precioMaxBase:B.precioMaxBase,onChangePrecio:k,onChangeFecha:F})}),s.jsxs("div",{children:[s.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[s.jsxs("button",{type:"button","aria-pressed":!!o,onClick:()=>{c(C=>C==="desc"?"asc":"desc"),p(null)},className:`inline-flex items-center gap-2 rounded-md border px-3 py-2 text-sm focus:outline-none focus-visible:ring-2 focus-visible:ring-brand ${o?"bg-brand text-white hover:opacity-90 border-brand":"bg-white text-gray-700 hover:bg-gray-50"}`,title:"Ordenar por precio",children:[s.jsx("span",{className:"h-4 w-4 inline-flex items-center justify-center text-current font-semibold",children:""}),o==="asc"?s.jsxs("span",{className:"inline-flex items-center gap-1",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"h-4 w-4",children:s.jsx("path",{d:"M12 19l-5-5h10l-5 5z"})}),s.jsx("span",{children:"Ms baratas"})]}):s.jsxs("span",{className:"inline-flex items-center gap-1",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"h-4 w-4",children:s.jsx("path",{d:"M12 5l5 5H7l5-5z"})}),s.jsx("span",{children:"Ms caras"})]})]}),s.jsxs("button",{type:"button","aria-pressed":!!u,onClick:()=>{p(C=>C==="oldest"?"newest":"oldest"),c(null)},className:`inline-flex items-center gap-2 rounded-md border px-3 py-2 text-sm focus:outline-none focus-visible:ring-2 focus-visible:ring-brand ${u?"bg-brand text-white hover:opacity-90 border-brand":"bg-white text-gray-700 hover:bg-gray-50"}`,title:"Ordenar por fecha",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"h-4 w-4",children:[s.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),s.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),s.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),s.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),u==="oldest"?s.jsxs("span",{className:"inline-flex items-center gap-1",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"h-4 w-4",children:s.jsx("path",{d:"M12 19l-5-5h10l-5 5z"})}),s.jsx("span",{children:"Ms antiguas"})]}):s.jsxs("span",{className:"inline-flex items-center gap-1",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"h-4 w-4",children:s.jsx("path",{d:"M12 5l5 5H7l5-5z"})}),s.jsx("span",{children:"Ms recientes"})]})]})]}),n?s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 sm:gap-6 bg-white/70 rounded-xl p-2","aria-busy":"true","aria-live":"polite",style:{backgroundImage:"url('/fondo.png')",backgroundAttachment:"fixed",backgroundPosition:`${d?`calc(50% + ${d}px)`:"50%"} center`,backgroundRepeat:"no-repeat",backgroundSize:"240px"},children:Array.from({length:8}).map((C,z)=>s.jsxs("div",{className:"rounded-lg border bg-white p-3 animate-pulse",children:[s.jsx("div",{className:"h-40 w-full bg-gray-200 rounded"}),s.jsx("div",{className:"mt-3 h-4 w-3/4 bg-gray-200 rounded"}),s.jsx("div",{className:"mt-2 h-3 w-1/2 bg-gray-200 rounded"}),s.jsx("div",{className:"mt-4 h-6 w-24 bg-gray-200 rounded"})]},z))}):K.length===0&&!f&&v===0?s.jsx("p",{className:"text-gray-600",children:"No hay figuras para mostrar."}):s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 sm:gap-6 bg-white/70 rounded-xl p-2",style:{backgroundImage:"url('/fondo.png')",backgroundAttachment:"fixed",backgroundPosition:`${d?`calc(50% + ${d}px)`:"50%"} center`,backgroundRepeat:"no-repeat",backgroundSize:"240px"},children:[K.map(C=>s.jsx(qr,{figura:C,seguimientoCount:Number((M==null?void 0:M[C.id])||0)},C.id)),E&&f&&Array.from({length:8}).map((C,z)=>s.jsxs("div",{className:"rounded-lg border bg-white p-3 animate-pulse",children:[s.jsx("div",{className:"h-40 w-full bg-gray-200 rounded"}),s.jsx("div",{className:"mt-3 h-4 w-3/4 bg-gray-200 rounded"}),s.jsx("div",{className:"mt-2 h-3 w-1/2 bg-gray-200 rounded"}),s.jsx("div",{className:"mt-4 h-6 w-24 bg-gray-200 rounded"})]},`sk-${z}`)),s.jsx("div",{ref:y,className:"col-span-full h-1"})]})]})]})})}const ag=e=>te("/api/imagenes",{method:"POST",body:e}),ig=e=>te(`/api/imagenes/${e}`,{method:"DELETE"});function og(){var jn;const{id:e}=Wi(),t=Me(),[n,r]=m.useState(null),[l,a]=m.useState(null),[i,o]=m.useState(0),{isFavorito:c,toggle:u}=Xr(),{usuario:p,isAuthenticated:d}=Xe(),[g,j]=m.useState(!1),[v,w]=m.useState(""),[E,h]=m.useState(!1),[f,x]=m.useState(null),[y,S]=m.useState([]),b=m.useRef(null),_=5,[L,M]=m.useState(""),[N,O]=m.useState(null),[H,D]=m.useState(0),[B,K]=m.useState(null),[Z,fe]=m.useState("");m.useEffect(()=>{document.title=n!=null&&n.nombre?`FiguMarket - ${n.nombre}`:"FiguMarket - Producto"},[n==null?void 0:n.nombre]),m.useEffect(()=>{let P=!0;return Hr(e).then(T=>{var ee;if(P)if(T.ok)r(T.data),M("");else{r(null);const X=typeof T.error=="string"?T.error:((ee=T.error)==null?void 0:ee.message)||"No se pudo cargar la figura.";M(X)}}).catch(T=>{P&&(r(null),M("Error de red al cargar la figura."),console.error(T))}),()=>{P=!1}},[e]),m.useEffect(()=>{n&&(x({nombre:n.nombre||"",descripcion:n.descripcion||"",categoria:n.categoria||"",escala:n.escala||"",estado:n.estado||"",estado_figura:n.estado_figura||"en buen estado",precio:n.precio||"",disponible:!!n.disponible}),typeof window<"u"&&new URLSearchParams(window.location.search).get("edit")==="1"&&d&&(p==null?void 0:p.id)===n.usuario_id&&h(!0))},[n,d,p]),m.useEffect(()=>{(async()=>{try{if(n!=null&&n.usuario_id){const T=await yl(n.usuario_id);T!=null&&T.ok&&O(T.data)}}catch(T){console.error("No se pudo cargar el vendedor",T)}})()},[n==null?void 0:n.usuario_id]),m.useEffect(()=>{const P=n==null?void 0:n.destacado_fin;if(P){const T=new Date(P).getTime();K(isNaN(T)?null:T)}else K(null)},[n==null?void 0:n.destacado_fin]),m.useEffect(()=>{const P=Number(B||0);if(!P||P<=Date.now()){fe("");return}const T=X=>{const Se=Math.max(0,Math.floor(X/1e3)),qe=Math.floor(Se/86400),rr=Math.floor(Se%86400/3600),jl=Math.floor(Se%3600/60),Nn=Se%60,Gd=qe>0?`${qe}d `:"",Yd=String(rr).padStart(2,"0"),Jd=String(jl).padStart(2,"0"),Xd=String(Nn).padStart(2,"0");return`${Gd}${Yd}:${Jd}:${Xd}`};fe(T(P-Date.now()));const ee=setInterval(()=>{const X=Date.now();P<=X?(clearInterval(ee),fe(""),(async()=>{try{const Se=await In(Number(e),{destacado:!1,destacado_fin:null,destacado_inicio:null});Se!=null&&Se.ok&&r(qe=>qe&&{...qe,destacado:!1,destacado_fin:null,destacado_inicio:null})}catch{}K(null)})()):fe(T(P-X))},1e3);return()=>clearInterval(ee)},[B,e]),m.useEffect(()=>{let P=!0;return(async()=>{var ee;try{if(!(n!=null&&n.id)){D(0);return}const X=await Ka(n.id);P&&(X!=null&&X.ok)&&D(Number(((ee=X.data)==null?void 0:ee.count)||0))}catch{P&&D(0)}})(),()=>{P=!1}},[n==null?void 0:n.id]);const k=async()=>{var P;try{if(!(n!=null&&n.id)){D(0);return}const T=await Ka(n.id);T!=null&&T.ok&&D(Number(((P=T.data)==null?void 0:P.count)||0))}catch{D(T=>Math.max(0,Number(T||0)))}},F=m.useMemo(()=>(n==null?void 0:n.imagenes)||[],[n]),C=m.useMemo(()=>F.map(P=>P==null?void 0:P.url).filter(Boolean),[F]);m.useEffect(()=>{o(0)},[n==null?void 0:n.id]);const z=C.length?Ce(C[i]):"https://via.placeholder.com/800x600?text=Figura",R=(F.length||0)+(y.length||0),V=R<_;if(L)return s.jsx("section",{className:"p-4",children:s.jsx("p",{className:"text-red-600",children:typeof L=="string"?L:(L==null?void 0:L.message)||"No se pudo cargar la figura."})});if(!n)return s.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 p-4 animate-pulse",children:[s.jsx("div",{className:"relative",children:s.jsx("div",{className:"w-full h-64 md:h-96 rounded-lg border bg-gray-200"})}),s.jsxs("div",{children:[s.jsx("div",{className:"h-8 w-2/3 bg-gray-200 rounded"}),s.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[s.jsx("div",{className:"h-6 w-6 rounded-full bg-gray-200"}),s.jsx("div",{className:"h-4 w-32 bg-gray-200 rounded"})]}),s.jsxs("div",{className:"mt-3 space-y-2",children:[s.jsx("div",{className:"h-4 w-full bg-gray-200 rounded"}),s.jsx("div",{className:"h-4 w-5/6 bg-gray-200 rounded"}),s.jsx("div",{className:"h-4 w-4/6 bg-gray-200 rounded"})]}),s.jsx("div",{className:"mt-4 h-7 w-32 bg-gray-200 rounded"}),s.jsx("div",{className:"mt-3 h-6 w-48 bg-gray-200 rounded"}),s.jsxs("div",{className:"mt-4 flex gap-2",children:[s.jsx("div",{className:"h-10 w-32 bg-gray-200 rounded"}),s.jsx("div",{className:"h-10 w-32 bg-gray-200 rounded"})]})]})]});const U=d&&!(d&&(p==null?void 0:p.id)===n.usuario_id)&&c(n.id),G=n.usuario_id,$=d&&(p==null?void 0:p.id)===G,W=d&&((p==null?void 0:p.rol)==="admin"||(p==null?void 0:p.role)==="admin"),he=!!(n!=null&&n.destacado),lt=["disponible","en negociacin","vendido"],Y=P=>(P||"").toString().trim().toLowerCase(),ge=P=>{const T=Y(P);return T==="vendido"?"bg-red-100 text-red-800 border border-red-200":T==="en negociacin"?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-green-100 text-green-800 border border-green-200"},je=P=>{const T=Y(P);return T==="vendido"?"Vendida":T==="en negociacin"?"En Negociacin":T==="disponible"?"Disponible":P||""},Ne=async P=>{if($)try{const T={estado:P};P==="vendido"&&(T.disponible=!1),P==="disponible"&&(T.disponible=!0);const ee=await In(n.id,T);ee!=null&&ee.ok&&(r(X=>({...X,estado:P,...P==="vendido"?{disponible:!1}:P==="disponible"?{disponible:!0}:{}})),x(X=>X&&{...X,estado:P,...P==="vendido"?{disponible:!1}:P==="disponible"?{disponible:!0}:{}}))}catch(T){console.error("No se pudo cambiar el estado",T)}},Ft=async()=>{if($)try{if(Y(n.estado)==="vendido")return;const P=!(n!=null&&n.disponible),T=await In(n.id,{disponible:P});T!=null&&T.ok&&(r(ee=>({...ee,disponible:P})),x(ee=>ee&&{...ee,disponible:P}))}catch(P){console.error("No se pudo cambiar la visibilidad",P)}},mt=async P=>{const T=Array.from(P.target.files||[]),ee=Math.max(0,_-(F.length||0)-y.length),Se=T.slice(0,ee).map(qe=>new Promise((rr,jl)=>{const Nn=new FileReader;Nn.onload=()=>rr(Nn.result),Nn.onerror=jl,Nn.readAsDataURL(qe)}));try{const qe=await Promise.all(Se);S(rr=>[...rr,...qe])}catch(qe){console.error("No se pudieron leer nuevas imgenes",qe)}},pt=P=>{S(T=>T.filter((ee,X)=>X!==P))},wn=async P=>{if(!(P!=null&&P.id))return;const T=await ig(P.id);(T!=null&&T.ok||(T==null?void 0:T.status)===204)&&r(ee=>({...ee,imagenes:(ee.imagenes||[]).filter(X=>X.id!==P.id)}))},Q=async()=>{const P=["nombre","descripcion","categoria","escala","estado","estado_figura","precio","disponible"],T={};if(P.forEach(X=>{f&&n&&f[X]!==n[X]&&(T[X]=f[X])}),Object.keys(T).length>0){const X=await In(n.id,T);X!=null&&X.ok||console.error("No se pudo actualizar la figura",X==null?void 0:X.error)}for(const X of y){const Se=await ag({figura_id:n.id,url:X});Se!=null&&Se.ok||console.error("No se pudo crear imagen",Se==null?void 0:Se.error)}const ee=await Hr(e);ee!=null&&ee.ok&&(r(ee.data),h(!1),S([]))},ie=async()=>{if(!d){t("/login");return}const P=`Hola, me interesa tu figura "${n.nombre}". Est disponible?`;w(P),j(!0)},sn=async()=>{if(!(!($||W)||!window.confirm("Deseas eliminar esta figura? Esta accin no se puede deshacer.")))try{const T=await Bd(n.id);T!=null&&T.ok||(T==null?void 0:T.status)===204?window.location.href="/catalogo":alert((T==null?void 0:T.error)||"No se pudo eliminar la figura.")}catch(T){console.error("Error al eliminar la figura",T),alert("Error al eliminar la figura.")}};return s.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"relative w-full h-[75vh] sm:h-96 md:h-[32rem] rounded-lg border overflow-hidden",children:[s.jsx("img",{src:z,alt:n.nombre,className:"absolute inset-0 w-full h-full object-contain md:object-cover bg-black/5 cursor-zoom-in",onClick:()=>a(z)}),he&&s.jsxs("span",{className:"absolute left-2 top-2 inline-flex items-center gap-1 rounded-md bg-[#FECE00] text-black text-xs font-semibold px-2 py-1 shadow",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"h-4 w-4",children:s.jsx("path",{d:"M12 2l3 7h7l-5.5 4.5L18 22l-6-4-6 4 1.5-8.5L2 9h7l3-7z"})}),"Destacado"]}),C.length>1&&s.jsxs(s.Fragment,{children:[s.jsx("button",{type:"button","aria-label":"Anterior",onClick:()=>o(P=>(P-1+C.length)%C.length),className:"absolute left-2 top-1/2 -translate-y-1/2 rounded-full bg-white/80 hover:bg-white border px-2 py-1 text-gray-700",children:""}),s.jsx("button",{type:"button","aria-label":"Siguiente",onClick:()=>o(P=>(P+1)%C.length),className:"absolute right-2 top-1/2 -translate-y-1/2 rounded-full bg-white/80 hover:bg-white border px-2 py-1 text-gray-700",children:""}),s.jsx("div",{className:"hidden md:flex absolute bottom-2 left-0 right-0 justify-center gap-1",children:C.map((P,T)=>s.jsx("span",{className:`h-2 w-2 rounded-full ${T===i?"bg-brand":"bg-white/70 border"}`},T))})]}),d&&(p==null?void 0:p.id)===(n==null?void 0:n.usuario_id)&&!he&&s.jsx("div",{className:"md:hidden absolute bottom-2 left-2 right-2 z-10",children:s.jsxs("button",{type:"button",onClick:()=>t(`/destacar/${n.id}`),className:"w-full inline-flex items-center justify-center gap-2 h-12 rounded-lg bg-[#FECE00] text-black font-bold shadow-md hover:shadow-lg hover:brightness-95 focus:outline-none focus:ring-2 focus:ring-[#FECE00] text-base px-4","aria-label":"Destacar figura",title:"Destacar figura",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"h-5 w-5",children:s.jsx("path",{d:"M12 2l3 7h7l-5.5 4.5L18 22l-6-4-6 4 1.5-8.5L2 9h7l3-7z"})}),s.jsx("span",{children:"Destacar"})]})}),d&&(p==null?void 0:p.id)===(n==null?void 0:n.usuario_id)&&he&&Z&&s.jsx("div",{className:"md:hidden absolute bottom-2 left-2 right-2 z-10",children:s.jsxs("span",{className:"w-full inline-flex items-center justify-center gap-2 h-12 rounded-lg bg-black text-white font-bold shadow-md text-base px-4",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"h-5 w-5",children:[s.jsx("circle",{cx:"12",cy:"12",r:"10"}),s.jsx("path",{d:"M12 6v6l4 2"})]}),s.jsxs("span",{children:["Queda ",Z]})]})}),s.jsxs("div",{className:"absolute right-2 top-2 flex items-center gap-1.5",children:[$&&s.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-md bg-blue-600 text-white text-xs font-medium px-3 py-1 pointer-events-none",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"h-3.5 w-3.5",children:s.jsx("path",{d:"M6 2a2 2 0 00-2 2v18l8-4 8 4V4a2 2 0 00-2-2H6z"})}),s.jsx("span",{children:"Publicada"})]}),!$&&s.jsx(s.Fragment,{children:U?s.jsxs("button",{type:"button","aria-label":"Quitar de seguimiento",title:"Quitar de seguimiento",onClick:async P=>{P.stopPropagation(),await u(n)==="removed"&&await k()},className:"hidden sm:inline-flex items-center gap-1.5 rounded-md bg-green-600 text-white text-xs font-medium px-3 py-1 hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-green-400",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"h-3.5 w-3.5",children:s.jsx("path",{d:"M6 2a2 2 0 00-2 2v18l8-4 8 4V4a2 2 0 00-2-2H6z"})}),s.jsx("span",{children:"Aadido"})]}):s.jsx("button",{type:"button","aria-label":"Aadir a seguimiento",title:"Aadir a seguimiento",onClick:async P=>{if(P.stopPropagation(),!d){t("/login");return}await u(n)==="added"&&await k()},className:"hidden sm:inline-flex items-center justify-center h-8 w-8 rounded-full border bg-white/80 text-gray-600 shadow hover:bg-white hover:scale-105 transition focus:outline-none focus:ring-2 focus:ring-brand",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"h-5 w-5",children:s.jsx("path",{d:"M6 2a2 2 0 00-2 2v18l8-4 8 4V4a2 2 0 00-2-2H6z"})})})}),s.jsx("span",{className:"ml-1 inline-flex items-center justify-center h-8 min-w-[2rem] sm:h-12 sm:min-w-[3rem] rounded-full bg-white text-black text-sm sm:text-lg font-extrabold px-3 sm:px-4 border-2 border-[#FECE00]",children:H})]}),!$&&s.jsx("div",{className:"absolute right-2 bottom-2 sm:hidden",children:U?s.jsxs("button",{type:"button","aria-label":"Quitar de seguimiento",title:"Quitar de seguimiento",onClick:async P=>{P.stopPropagation(),await u(n)==="removed"&&await k()},className:"inline-flex items-center gap-1.5 rounded-md bg-green-600 text-white text-xs font-medium px-3 py-1 hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-green-400",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"h-3.5 w-3.5",children:s.jsx("path",{d:"M6 2a2 2 0 00-2 2v18l8-4 8 4V4a2 2 0 00-2-2H6z"})}),s.jsx("span",{children:"Aadido"})]}):s.jsx("button",{type:"button","aria-label":"Aadir a seguimiento",title:"Aadir a seguimiento",onClick:async P=>{if(P.stopPropagation(),!d){t("/login");return}await u(n)==="added"&&await k()},className:"inline-flex items-center justify-center h-8 w-8 rounded-full border bg-white/80 text-gray-600 shadow hover:bg-white hover:scale-105 transition focus:outline-none focus:ring-2 focus:ring-brand",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"h-5 w-5",children:s.jsx("path",{d:"M6 2a2 2 0 00-2 2v18l8-4 8 4V4a2 2 0 00-2-2H6z"})})})})]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:n.nombre}),s.jsxs("div",{className:"mt-2 flex items-center gap-2 text-sm text-gray-600",children:[s.jsx("img",{src:Ce(N==null?void 0:N.foto_perfil)||"/default-avatar.svg",alt:"Foto de vendedor",className:"h-6 w-6 rounded-full object-cover border",onError:P=>{P.currentTarget.src="/default-avatar.svg"}}),s.jsxs("span",{children:["Publicado por ",(N==null?void 0:N.nombre)||"Usuario"]})]}),s.jsx("p",{className:"mt-2 text-gray-700",children:n.descripcion}),s.jsxs("div",{className:"mt-2 text-sm text-gray-700 flex flex-wrap gap-4",children:[s.jsxs("span",{children:[s.jsx("span",{className:"font-semibold",children:"Categora:"})," ",(n.categoria||"").charAt(0).toUpperCase()+(n.categoria||"").slice(1)]}),s.jsxs("span",{children:[s.jsx("span",{className:"font-semibold",children:"Escala:"})," ",n.escala]}),s.jsxs("span",{children:[s.jsx("span",{className:"font-semibold",children:"Estado de figura:"})," ",(n.estado_figura||"").charAt(0).toUpperCase()+(n.estado_figura||"").slice(1)]})]}),s.jsx("p",{className:"mt-4 text-2xl font-bold text-brand",children:Xn(Number(n.precio))}),s.jsxs("div",{className:"mt-3",children:[s.jsx("h3",{className:"text-sm font-semibold",children:"Estado de la publicacin"}),s.jsx("div",{className:"mt-2",children:s.jsx("span",{className:`inline-flex items-center rounded-md px-2 py-1 text-xs font-semibold ${ge(n.estado)}`,children:je(n.estado)})}),$&&s.jsx("ul",{className:"mt-3 flex flex-wrap gap-2",children:lt.map(P=>{const T=Y(n.estado)===Y(P),ee=`inline-flex items-center rounded-md px-2 py-1 text-xs border ${ge(P)}`;return s.jsx("li",{children:s.jsx("button",{type:"button",className:`${ee} ${T?"ring-1 ring-offset-1 ring-black/10":"opacity-90 hover:opacity-100"}`,onClick:()=>Ne(P),title:`Marcar como ${je(P)}`,children:je(P)})},P)})}),$&&s.jsx("p",{className:"mt-1 text-xs text-gray-600",children:"Solo t puedes cambiar el estado."}),$&&s.jsxs("div",{className:"mt-4 flex items-center gap-3",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"Visible en catlogo"}),Y(n.estado)==="vendido"?s.jsx("span",{className:"text-xs text-gray-500",children:"Vendida  no visible"}):s.jsx("button",{type:"button",role:"switch","aria-checked":!!(n!=null&&n.disponible),onClick:P=>{P.stopPropagation(),Ft()},className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${n!=null&&n.disponible?"bg-brand":"bg-gray-300"}`,children:s.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white shadow transition-transform ${n!=null&&n.disponible?"translate-x-5":"translate-x-1"}`})})]})]}),($||W)&&s.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-3",children:[$&&!he&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{type:"button",onClick:P=>{P.stopPropagation(),t(`/destacar/${n.id}`)},className:"inline-flex items-center gap-2 h-12 w-full sm:w-auto justify-center rounded-md border px-4 bg-[#FECE00] text-black font-semibold hover:brightness-95 focus:outline-none focus:ring-2 focus:ring-[#FECE00]","aria-label":"Destacar figura",title:"Destacar figura",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"h-4 w-4",children:s.jsx("path",{d:"M12 2l3 7h7l-5.5 4.5L18 22l-6-4-6 4 1.5-8.5L2 9h7l3-7z"})}),s.jsx("span",{children:"Destacar"})]}),s.jsx(qt,{className:"gap-2 w-full sm:w-auto h-12 justify-center",onClick:P=>{P.stopPropagation(),h(T=>!T)},children:E?"Cancelar edicin":"Editar figura"})]}),$&&he&&s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"hidden sm:inline-flex items-center gap-2 h-12 sm:w-auto justify-center rounded-md border px-4 bg-black text-white font-semibold",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"h-4 w-4",children:[s.jsx("circle",{cx:"12",cy:"12",r:"10"}),s.jsx("path",{d:"M12 6v6l4 2"})]}),s.jsxs("span",{children:["Queda ",Z]})]}),s.jsx(qt,{className:"gap-2 w-full sm:w-auto h-12 justify-center",onClick:P=>{P.stopPropagation(),h(T=>!T)},children:E?"Cancelar edicin":"Editar figura"})]}),s.jsxs("button",{type:"button",className:"inline-flex items-center gap-2 h-12 w-full sm:w-auto justify-center rounded-md border px-4 bg-red-600 text-white hover:bg-red-700",onClick:P=>{P.stopPropagation(),sn()},children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"h-4 w-4",children:s.jsx("path",{d:"M3 6h18M8 6V4h8v2M10 11v6M14 11v6M6 6l1 14a2 2 0 002 2h6a2 2 0 002-2l1-14"})}),s.jsx("span",{children:"Eliminar figura"})]})]}),s.jsx("div",{className:"mt-6",children:!$&&s.jsxs("button",{className:"inline-flex items-center gap-2 h-10 rounded-md border px-3 hover:bg-brand hover:text-white",onClick:()=>ie(),children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"h-4 w-4",children:s.jsx("path",{d:"M21 15a2 2 0 01-2 2h-4l-3 3-3-3H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v9z"})}),s.jsx("span",{children:"Enviar mensaje"})]})}),$&&E&&s.jsxs("div",{className:"mt-6 space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Editar detalles"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-600",children:"Nombre"}),s.jsx("input",{type:"text",className:"mt-1 w-full rounded-md border px-3 py-2",value:(f==null?void 0:f.nombre)||"",onChange:P=>x(T=>({...T,nombre:P.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-600",children:"Precio ()"}),s.jsx("input",{type:"number",step:"0.01",className:"mt-1 w-full rounded-md border px-3 py-2",value:(f==null?void 0:f.precio)||"",onChange:P=>x(T=>({...T,precio:P.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-600",children:"Categora"}),s.jsxs("select",{className:"mt-1 w-full rounded-md border px-3 py-2",value:(f==null?void 0:f.categoria)||"",onChange:P=>x(T=>({...T,categoria:P.target.value})),children:[s.jsx("option",{value:"anime",children:"Anime"}),s.jsx("option",{value:"peliculas",children:"Pelculas"}),s.jsx("option",{value:"marvel",children:"Marvel"}),s.jsx("option",{value:"dc",children:"DC"}),s.jsx("option",{value:"videojuegos",children:"Videojuegos"}),s.jsx("option",{value:"comics",children:"Cmics"}),s.jsx("option",{value:"star wars",children:"Star Wars"}),s.jsx("option",{value:"otros",children:"Otros"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-600",children:"Escala"}),s.jsxs("select",{className:"mt-1 w-full rounded-md border px-3 py-2",value:(f==null?void 0:f.escala)||"",onChange:P=>x(T=>({...T,escala:P.target.value})),children:[s.jsx("option",{value:"1:10",children:"1:10"}),s.jsx("option",{value:"1:4",children:"1:4"}),s.jsx("option",{value:"1:12",children:"1:12"}),s.jsx("option",{value:"1:6",children:"1:6"}),s.jsx("option",{value:"otros",children:"Otros"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-600",children:"Estado de figura"}),s.jsxs("select",{className:"mt-1 w-full rounded-md border px-3 py-2",value:(f==null?void 0:f.estado_figura)||"",onChange:P=>x(T=>({...T,estado_figura:P.target.value})),children:[s.jsx("option",{value:"sin abrir",children:"Sin abrir"}),s.jsx("option",{value:"como nueva",children:"Como nueva"}),s.jsx("option",{value:"en buen estado",children:"En buen estado"}),s.jsx("option",{value:"en mal estado",children:"En mal estado"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-600",children:"Estado"}),s.jsxs("select",{className:"mt-1 w-full rounded-md border px-3 py-2",value:(f==null?void 0:f.estado)||"",onChange:P=>x(T=>({...T,estado:P.target.value})),children:[s.jsx("option",{value:"disponible",children:"Disponible"}),s.jsx("option",{value:"en negociacin",children:"En negociacin"}),s.jsx("option",{value:"vendido",children:"Vendido"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"Visible en catlogo"}),Y(n.estado)==="vendido"?s.jsx("span",{className:"text-xs text-gray-500",children:"Vendida  no visible"}):s.jsx("button",{type:"button",role:"switch","aria-checked":!!(f!=null&&f.disponible),onClick:()=>x(P=>({...P,disponible:!P.disponible})),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${f!=null&&f.disponible?"bg-brand":"bg-gray-300"}`,children:s.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white shadow transition-transform ${f!=null&&f.disponible?"translate-x-5":"translate-x-1"}`})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-600",children:"Descripcin"}),s.jsx("textarea",{className:"mt-1 w-full rounded-md border px-3 py-2",rows:4,value:(f==null?void 0:f.descripcion)||"",onChange:P=>x(T=>({...T,descripcion:P.target.value}))})]}),s.jsxs("h3",{className:"text-lg font-semibold",children:["Fotos (",R,"/",_,")"]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Mximo 5 fotos por publicacin."}),((jn=n.imagenes)==null?void 0:jn.length)>0&&s.jsx("div",{className:"mt-2 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:n.imagenes.map(P=>s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:Ce(P.url),alt:"foto",className:"h-28 w-full object-cover rounded border"}),s.jsx("button",{type:"button",onClick:()=>wn(P),className:"absolute top-1 right-1 rounded bg-red-600 text-white text-xs px-2 py-1",children:"Eliminar"})]},P.id))}),y.length>0&&s.jsx("div",{className:"mt-2 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:y.map((P,T)=>s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:P,alt:`nueva ${T}`,className:"h-28 w-full object-cover rounded border"}),s.jsx("button",{type:"button",onClick:()=>pt(T),className:"absolute top-1 right-1 rounded bg-gray-800 text-white text-xs px-2 py-1",children:"Quitar"})]},T))}),s.jsxs("div",{className:"mt-2",children:[s.jsx("input",{ref:b,type:"file",multiple:!0,accept:"image/*,.webp",onChange:mt,disabled:!V,className:"hidden"}),s.jsxs("button",{type:"button",disabled:!V,onClick:()=>{var P;return(P=b.current)==null?void 0:P.click()},className:`inline-flex items-center gap-2 h-10 rounded-lg px-4 font-semibold shadow-md focus:outline-none focus:ring-2 ${V?"bg-brand text-white hover:shadow-lg hover:opacity-95 focus:ring-brand":"bg-gray-300 text-gray-600 cursor-not-allowed"}`,children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"h-5 w-5",children:s.jsx("path",{d:"M4 7a2 2 0 012-2h2l1-1h6l1 1h2a2 2 0 012 2v10a2 2 0 01-2 2H6a2 2 0 01-2-2V7zm8 2a4 4 0 100 8 4 4 0 000-8z"})}),"Aadir fotos"]}),!V&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:"Has alcanzado el mximo de 5 fotos."})]}),s.jsx("div",{className:"mt-4",children:s.jsx(qt,{type:"button",onClick:P=>{P.stopPropagation(),Q()},children:"Guardar cambios"})})]})]}),l&&s.jsx(Kd,{src:l,onClose:()=>a(null)}),g&&Bi.createPortal(s.jsx(Vd,{onClose:()=>j(!1),iniciarConUsuario:G,iniciarConFigura:n==null?void 0:n.id,prefillTexto:v}),document.body)]})}function cg(){const{usuario:e,isAuthenticated:t,logout:n}=Xe(),r=Me(),[l,a]=m.useState(null),[i,o]=m.useState([]),[c,u]=m.useState(!0),[p,d]=m.useState(!0);m.useEffect(()=>{document.title="FiguMarket - Mi perfil"},[]);const g=m.useMemo(()=>{const j=Array.isArray(i)?[...i]:[],v=w=>!!(w!=null&&w.destacado);return j.sort((w,E)=>{const h=v(w)?1:0,f=v(E)?1:0;if(h!==f)return f-h;const x=new Date((w==null?void 0:w.fecha_publicacion)||0).getTime();return new Date((E==null?void 0:E.fecha_publicacion)||0).getTime()-x}),j},[i]);return m.useEffect(()=>{let j=!0;return t&&(e!=null&&e.id)&&(yl(e.id).then(v=>{j&&(v.ok&&a(v.data),u(!1))}),Jr().then(v=>{if(j){if(v.ok){const w=(v.data||[]).filter(E=>(E==null?void 0:E.usuario_id)===e.id);o(w)}d(!1)}})),()=>{j=!1}},[t,e]),t?s.jsxs("section",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Mi perfil"}),c?s.jsxs("div",{className:"mt-4 rounded-xl border bg-white/70 p-5 animate-pulse",children:[s.jsxs("div",{className:"grid grid-cols-[112px_1fr] sm:grid-cols-[128px_1fr] gap-6 w-full",children:[s.jsx("div",{className:"h-28 w-28 sm:h-32 sm:w-32 rounded-full bg-gray-200"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"h-7 w-full bg-gray-200 rounded"}),s.jsx("div",{className:"h-5 w-3/4 bg-gray-200 rounded"}),s.jsx("div",{className:"h-5 w-2/3 bg-gray-100 rounded"}),s.jsx("div",{className:"h-4 w-3/4 bg-gray-100 rounded"})]})]}),s.jsxs("div",{className:"mt-5 flex items-center gap-3",children:[s.jsx("div",{className:"h-11 w-56 bg-gray-200 rounded"}),s.jsx("div",{className:"h-10 w-40 bg-gray-200 rounded"})]})]}):l?s.jsxs("div",{className:"mt-4 rounded-lg border bg-white p-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("img",{src:Ce(l.foto_perfil)||"/default-avatar.svg",alt:"Foto de perfil",className:"h-16 w-16 rounded-full object-cover border",onError:j=>{j.currentTarget.src="/default-avatar.svg"}}),s.jsxs("div",{children:[s.jsx("p",{className:"text-lg font-semibold",children:l.nombre}),s.jsx("p",{className:"text-gray-600",children:l.email}),l.fecha_registro&&s.jsxs("p",{className:"text-xs text-gray-500",children:["Registro: ",new Date(l.fecha_registro).toLocaleDateString()]})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsxs("a",{href:"/perfil/editar",className:"inline-flex items-center gap-2 rounded-md border-2 border-brand text-brand px-3 py-1.5 font-semibold hover:bg-brand hover:text-white shadow-sm hover:shadow-md focus:outline-none focus:ring-2 focus:ring-brand focus:ring-offset-1",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"h-4 w-4",children:[s.jsx("path",{d:"M12 20h9"}),s.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 1 1 3 3L7 19l-4 1 1-4 12.5-12.5z"})]}),"Editar perfil"]}),s.jsx("div",{className:"mt-3 md:hidden",children:s.jsxs("button",{type:"button",onClick:()=>{n(),r("/")},className:"inline-flex items-center gap-2 h-10 rounded-md border px-3 bg-red-600 text-white hover:bg-red-700",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"h-5 w-5",children:s.jsx("path",{d:"M16 17v2H4V5h12v2h2V5a2 2 0 00-2-2H4a2 2 0 00-2 2v14a2 2 0 002 2h12a2 2 0 002-2v-2h-2zm-1-6l-4-4v3H20v2H11v3l4-4z"})}),"Cerrar sesin"]})})]})]}):s.jsx("p",{className:"mt-2 text-gray-600",children:"No se pudo cargar el perfil."}),s.jsxs("div",{className:"mt-8",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Mis figuras publicadas"}),p?s.jsx("div",{className:"mt-4 bg-white/70 rounded-xl p-3 space-y-4",children:Array.from({length:8}).map((j,v)=>s.jsx("div",{className:"rounded-lg border bg-white p-4 animate-pulse",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"h-24 w-24 sm:h-28 sm:w-28 bg-gray-200 rounded"}),s.jsxs("div",{className:"flex-1 space-y-3",children:[s.jsx("div",{className:"h-5 w-3/4 bg-gray-200 rounded"}),s.jsx("div",{className:"h-4 w-1/2 bg-gray-100 rounded"}),s.jsx("div",{className:"h-10 w-40 bg-gray-200 rounded"})]})]})},v))}):i.length===0?s.jsx("p",{className:"mt-2 text-gray-600",children:"No tienes figuras publicadas."}):s.jsx("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 sm:gap-6",children:g.map(j=>s.jsx("div",{className:"space-y-2",children:s.jsx(qr,{figura:j,showVisibilityControl:!0,onToggleDisponible:async v=>{const w=!v.disponible,E=await In(v.id,{disponible:w});E!=null&&E.ok&&o(h=>h.map(f=>f.id===v.id?{...f,disponible:w}:f))},showOwnerActions:!0,onEdit:v=>{window.location.href=`/producto/${v.id}?edit=1`},onDelete:async v=>{if(!confirm("Seguro que deseas eliminar esta figura? Esta accin no se puede deshacer."))return;const E=await Bd(v.id);E!=null&&E.ok||(E==null?void 0:E.status)===204?o(h=>h.filter(f=>f.id!==v.id)):alert("No se pudo eliminar la figura.")}})},j.id))})]})]}):s.jsx("p",{children:"Debes iniciar sesin para ver tu perfil."})}function ug(){const e=Me(),{usuario:t,isAuthenticated:n,refrescarUsuario:r}=Xe(),[l,a]=m.useState(null),[i,o]=m.useState(""),[c,u]=m.useState(""),[p,d]=m.useState(""),[g,j]=m.useState(null),v=m.useRef(null),[w,E]=m.useState(""),[h,f]=m.useState(""),[x,y]=m.useState(!1);if(m.useEffect(()=>{document.title="FiguMarket - Editar perfil"},[]),m.useEffect(()=>{let b=!0;return n&&(t!=null&&t.id)&&yl(t.id).then(_=>{var L,M,N;b&&_.ok&&(a(_.data),o(((L=_.data)==null?void 0:L.nombre)||""),u(((M=_.data)==null?void 0:M.email)||""),d(((N=_.data)==null?void 0:N.foto_perfil)||""))}),()=>{b=!1}},[n,t]),!n)return s.jsx("p",{children:"Debes iniciar sesin para editar tu perfil."});const S=async b=>{var M;if(b.preventDefault(),f(""),y(!0),g){const N=await Kh(t.id,g);if(N.ok)d(((M=N.data)==null?void 0:M.foto_perfil)||p);else{y(!1),f(N.error||"No se pudo subir la foto");return}}const _={nombre:i,email:c};w&&(_.contrasena=w);const L=await Qh(t.id,_);y(!1),L.ok?(await(r==null?void 0:r()),e("/perfil")):f(L.error||"No se pudo actualizar el perfil")};return s.jsxs("section",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Editar perfil"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Actualiza tu informacin personal."}),s.jsx("div",{className:"mt-4 rounded-lg border bg-white p-4",children:s.jsxs("form",{onSubmit:S,className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("img",{src:g?URL.createObjectURL(g):Ce(p)||"/default-avatar.svg",alt:"Foto de perfil",className:"h-16 w-16 rounded-full object-cover border",onError:b=>{b.currentTarget.src="/default-avatar.svg"}}),s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium",children:"Foto de perfil"}),s.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[s.jsx("input",{ref:v,type:"file",accept:"image/*",className:"hidden",onChange:b=>{var _;return j(((_=b.target.files)==null?void 0:_[0])||null)}}),s.jsxs("button",{type:"button",onClick:()=>{var b;return(b=v.current)==null?void 0:b.click()},className:"inline-flex items-center gap-2 h-10 rounded-lg bg-brand text-white px-4 font-semibold shadow-md hover:shadow-lg hover:opacity-95 focus:outline-none focus:ring-2 focus:ring-brand",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"h-5 w-5",children:s.jsx("path",{d:"M4 7a2 2 0 012-2h2l1-1h6l1 1h2a2 2 0 012 2v10a2 2 0 01-2 2H6a2 2 0 01-2-2V7zm8 2a4 4 0 100 8 4 4 0 000-8z"})}),"Subir foto"]}),g&&s.jsx("span",{className:"text-xs text-gray-600",children:g.name})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Formatos soportados: JPG, PNG, WEBP."})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium",children:"Nombre"}),s.jsx("input",{value:i,onChange:b=>o(b.target.value),className:"mt-1 w-full rounded border px-3 py-2"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium",children:"Email"}),s.jsx("input",{type:"email",value:c,onChange:b=>u(b.target.value),className:"mt-1 w-full rounded border px-3 py-2"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium",children:"Contrasea (opcional)"}),s.jsx("input",{type:"password",value:w,onChange:b=>E(b.target.value),className:"mt-1 w-full rounded border px-3 py-2",placeholder:"Dejar vaco para no cambiar"})]}),h&&s.jsx("p",{className:"text-red-600 text-sm",children:h}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{type:"submit",disabled:x,className:"rounded-md border px-3 py-2 hover:bg-brand hover:text-white disabled:opacity-50",children:x?"Guardando...":"Guardar cambios"}),s.jsx(Qe,{to:"/perfil",className:"rounded-md border px-3 py-2 hover:bg-gray-100",children:"Cancelar"})]})]})})]})}function dg(){const e=Me(),{login:t,isAuthenticated:n}=Xe(),[r,l]=m.useState(""),[a,i]=m.useState(""),[o,c]=m.useState(""),[u,p]=m.useState(!1);m.useEffect(()=>{document.title="FiguMarket - Iniciar sesin"},[]);const d=async g=>{if(g.preventDefault(),c(""),!r||!a){c("Email y contrasea son obligatorios");return}p(!0);const j=await t({email:r,password:a});p(!1),j.ok?e("/perfil"):c(j.error||"Credenciales invlidas")};return n?s.jsx("p",{children:"Ya has iniciado sesin."}):s.jsxs("section",{className:"max-w-md mx-auto",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Iniciar sesin"}),s.jsxs("form",{onSubmit:d,className:"mt-6 grid gap-4",children:[o&&s.jsx("p",{className:"text-red-600",children:o}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-600",children:"Email"}),s.jsx("input",{type:"email",className:"mt-1 w-full rounded-md border px-3 py-2",value:r,onChange:g=>l(g.target.value),placeholder:"tu@email.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-600",children:"Contrasea"}),s.jsx("input",{type:"password",className:"mt-1 w-full rounded-md border px-3 py-2",value:a,onChange:g=>i(g.target.value),placeholder:""})]}),s.jsx(qt,{type:"submit",disabled:u,children:u?"Entrando...":"Entrar"})]}),s.jsxs("p",{className:"mt-4 text-sm",children:["No tienes cuenta? ",s.jsx(Qe,{to:"/registro",className:"text-brand hover:text-brand-dark",children:"Regstrate"})]})]})}function fg(){const e=Me(),[t,n]=m.useState(""),[r,l]=m.useState(""),[a,i]=m.useState(""),[o,c]=m.useState(!1),[u,p]=m.useState(""),[d,g]=m.useState(!1);m.useEffect(()=>{document.title="FiguMarket - Crear cuenta"},[]);const j=async v=>{v.preventDefault(),p("");const w=/.+@.+\..+/.test(r);if(!t||!r||!a){p("Todos los campos son obligatorios");return}if(!w){p("Por favor, introduce un email vlido");return}if(a.length<8){p("La contrasea debe tener al menos 8 caracteres");return}if(!o){p("Debes aceptar los trminos y condiciones para registrarte");return}g(!0);const E=await Wh({nombre:t,email:r,contrasena:a,rol:"usuario"});g(!1),E.ok?e("/login"):p(E.error||"No se pudo registrar el usuario")};return s.jsxs("section",{className:"max-w-md mx-auto",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Crear cuenta"}),s.jsxs("form",{onSubmit:j,className:"mt-6 grid gap-4",children:[u&&s.jsx("p",{className:"text-red-600",children:u}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-600",children:"Nombre"}),s.jsx("input",{type:"text",className:"mt-1 w-full rounded-md border px-3 py-2",value:t,onChange:v=>n(v.target.value),placeholder:"Tu nombre"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-600",children:"Email"}),s.jsx("input",{type:"email",className:"mt-1 w-full rounded-md border px-3 py-2",value:r,onChange:v=>l(v.target.value),placeholder:"tu@email.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-600",children:"Contrasea"}),s.jsx("input",{type:"password",className:"mt-1 w-full rounded-md border px-3 py-2",value:a,onChange:v=>i(v.target.value),placeholder:""})]}),s.jsxs("div",{className:"mt-2 flex items-start gap-2",children:[s.jsx("input",{id:"terminos",type:"checkbox",className:"mt-1 h-4 w-4",checked:o,onChange:v=>c(v.target.checked)}),s.jsxs("label",{htmlFor:"terminos",className:"text-sm text-gray-700",children:["He ledo y acepto los"," ",s.jsx("a",{href:"/terminos",target:"_blank",rel:"noopener noreferrer",className:"text-brand hover:text-brand-dark underline",children:"trminos y condiciones"}),"."]})]}),s.jsx(qt,{type:"submit",disabled:d,children:d?"Creando...":"Registrarme"})]}),s.jsxs("p",{className:"mt-4 text-sm",children:["Ya tienes cuenta? ",s.jsx(Qe,{to:"/login",className:"text-brand hover:text-brand-dark",children:"Inicia sesin"})]})]})}function mg(){return m.useEffect(()=>{document.title="FiguMarket - 404"},[]),s.jsxs("section",{className:"text-center",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"404 - Pgina no encontrada"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"La ruta solicitada no existe."}),s.jsx(Qe,{to:"/",className:"mt-6 inline-block text-brand hover:text-brand-dark",children:"Volver al inicio"})]})}function pg(){const[e]=Ad(),t=(e.get("q")||"").trim(),[n,r]=m.useState([]),[l,a]=m.useState(!0),[i,o]=m.useState({});m.useEffect(()=>{document.title=t?`FiguMarket - Bsqueda: ${t}`:"FiguMarket - Bsqueda"},[t]),m.useEffect(()=>{let u=!0;return Jr().then(p=>{u&&p.ok&&r(p.data||[]),u&&a(!1)}),()=>{u=!1}},[]);const c=m.useMemo(()=>{const u=t.toLowerCase();if(!u)return[];const p=d=>{const g=d==null?void 0:d.disponible;if(typeof g=="boolean")return g;if(typeof g=="number")return g!==0;const j=String(g??"").trim().toLowerCase();return j?!["false","0","no","off"].includes(j):!0};return(n||[]).filter(d=>{const g=((d==null?void 0:d.nombre)||"").toLowerCase(),j=((d==null?void 0:d.descripcion)||"").toLowerCase();return(g.includes(u)||j.includes(u))&&p(d)})},[n,t]);return m.useEffect(()=>{if(l)return;const u=c.map(d=>d.id);if(!u.length){o({});return}let p=!0;return(async()=>{try{const d=await wl(u);p&&(d!=null&&d.ok)&&typeof d.data=="object"&&o(d.data)}catch{p&&o({})}})(),()=>{p=!1}},[c,l]),s.jsxs("section",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Resultados de bsqueda"}),s.jsxs("p",{className:"mt-2 text-gray-600",children:['Trmino: "',t,'"']}),l&&s.jsx("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 bg-white/70 rounded-xl p-2","aria-busy":"true","aria-live":"polite",children:Array.from({length:8}).map((u,p)=>s.jsxs("div",{className:"rounded-lg border bg-white p-3 animate-pulse",children:[s.jsx("div",{className:"h-40 w-full bg-gray-200 rounded"}),s.jsx("div",{className:"mt-3 h-4 w-3/4 bg-gray-200 rounded"}),s.jsx("div",{className:"mt-2 h-3 w-1/2 bg-gray-200 rounded"}),s.jsx("div",{className:"mt-4 h-6 w-24 bg-gray-200 rounded"})]},p))}),!l&&t&&c.length===0&&s.jsx("p",{className:"mt-6 text-gray-600",children:"No hay resultados para tu bsqueda."}),!l&&c.length>0&&s.jsx("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:c.map(u=>s.jsx(qr,{figura:u,seguimientoCount:Number((i==null?void 0:i[u.id])||0)},u.id))})]})}function hg(){const{usuario:e,isAuthenticated:t}=Xe(),n=Me(),[r,l]=m.useState(""),[a,i]=m.useState(""),[o,c]=m.useState(""),[u,p]=m.useState("1:12"),[d,g]=m.useState(""),[j,v]=m.useState(!0),[w,E]=m.useState("en buen estado"),[h,f]=m.useState([]),[x,y]=m.useState([]),S=m.useRef(null),[b,_]=m.useState(!1),[L,M]=m.useState(""),N=m.useMemo(()=>x,[x]);m.useEffect(()=>{document.title="FiguMarket - Vender"},[]);const O=async D=>{const B=Array.from(D.target.files||[]);f(B);const K=B.map(Z=>new Promise((fe,k)=>{const F=new FileReader;F.onload=()=>fe(F.result),F.onerror=k,F.readAsDataURL(Z)}));try{const Z=await Promise.all(K);y(Z)}catch(Z){console.error(Z),M("No se pudieron leer las imgenes seleccionadas")}},H=async D=>{var Z;if(D.preventDefault(),M(""),!t||!(e!=null&&e.id)){M("Debes iniciar sesin para publicar una figura.");return}if(!r.trim()||!d){M("Por favor, completa al menos nombre y precio.");return}const B={usuario_id:e.id,nombre:r.trim(),descripcion:a.trim(),categoria:(o||"").trim()||"otros",escala:(u||"").trim()||"1:12",estado:"disponible",estado_figura:w||"en buen estado",precio:String(Number(d)).replace(",","."),disponible:!!j,fecha_publicacion:new Date().toISOString(),imagenes:N};_(!0);const K=await Vh(B);_(!1),K.ok?n(`/producto/${(Z=K.data)==null?void 0:Z.id}`):M(K.error||"No se pudo publicar la figura")};return s.jsxs("section",{className:"max-w-3xl mx-auto px-4",children:[s.jsx("h1",{className:"text-2xl font-bold text-center sm:text-left",children:"Publicar nueva figura"}),!t&&s.jsxs("p",{className:"mt-3 text-sm",children:["Debes iniciar sesin para publicar. ",s.jsx(Qe,{to:"/login",className:"text-brand hover:text-brand-dark",children:"Ir a login"})]}),s.jsx("div",{className:"mt-4 rounded-lg border bg-white p-4 sm:p-6 shadow-sm",children:s.jsxs("form",{onSubmit:H,className:"grid gap-4",children:[L&&s.jsx("p",{className:"text-red-600",children:L}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-600",children:"Nombre"}),s.jsx("input",{type:"text",className:"mt-1 w-full rounded-md border px-3 py-2",value:r,onChange:D=>l(D.target.value),placeholder:"Ej. Batman Premium 1:6"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-600",children:"Descripcin"}),s.jsx("textarea",{className:"mt-1 w-full rounded-md border px-3 py-2",rows:4,value:a,onChange:D=>i(D.target.value),placeholder:"Detalles del estado, caja, accesorios..."})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-600",children:"Categora"}),s.jsxs("select",{className:"mt-1 w-full rounded-md border px-3 py-2",value:o,onChange:D=>c(D.target.value),children:[s.jsx("option",{value:"anime",children:"Anime"}),s.jsx("option",{value:"peliculas",children:"Pelculas"}),s.jsx("option",{value:"marvel",children:"Marvel"}),s.jsx("option",{value:"dc",children:"DC"}),s.jsx("option",{value:"videojuegos",children:"Videojuegos"}),s.jsx("option",{value:"comics",children:"Cmics"}),s.jsx("option",{value:"star wars",children:"Star Wars"}),s.jsx("option",{value:"otros",children:"Otros"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-600",children:"Escala"}),s.jsxs("select",{className:"mt-1 w-full rounded-md border px-3 py-2",value:u,onChange:D=>p(D.target.value),children:[s.jsx("option",{value:"1:10",children:"1:10"}),s.jsx("option",{value:"1:4",children:"1:4"}),s.jsx("option",{value:"1:12",children:"1:12"}),s.jsx("option",{value:"1:6",children:"1:6"}),s.jsx("option",{value:"otros",children:"Otros"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-600",children:"Estado de figura"}),s.jsxs("select",{className:"mt-1 w-full rounded-md border px-3 py-2",value:w,onChange:D=>E(D.target.value),children:[s.jsx("option",{value:"sin abrir",children:"Sin abrir"}),s.jsx("option",{value:"como nueva",children:"Como nueva"}),s.jsx("option",{value:"en buen estado",children:"En buen estado"}),s.jsx("option",{value:"en mal estado",children:"En mal estado"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-600",children:"Precio ()"}),s.jsx("input",{type:"number",step:"0.01",className:"mt-1 w-full rounded-md border px-3 py-2",value:d,onChange:D=>g(D.target.value),placeholder:"Ej. 149.99"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"Visible en catlogo"}),s.jsx("button",{type:"button",role:"switch","aria-checked":j,onClick:()=>v(D=>!D),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${j?"bg-brand":"bg-gray-300"}`,children:s.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white shadow transition-transform ${j?"translate-x-5":"translate-x-1"}`})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-600",children:"Fotos"}),s.jsx("input",{ref:S,type:"file",multiple:!0,accept:"image/*,.webp",onChange:O,className:"hidden"}),s.jsxs("div",{className:"mt-1 flex items-center justify-center sm:justify-start gap-3",children:[s.jsxs("button",{type:"button",onClick:()=>{var D;return(D=S.current)==null?void 0:D.click()},className:"inline-flex items-center gap-2 h-10 rounded-lg bg-brand text-white px-4 font-semibold shadow-md hover:shadow-lg hover:opacity-95 focus:outline-none focus:ring-2 focus:ring-brand",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"h-5 w-5",children:s.jsx("path",{d:"M4 7a2 2 0 012-2h2l1-1h6l1 1h2a2 2 0 012 2v10a2 2 0 01-2 2H6a2 2 0 01-2-2V7zm8 2a4 4 0 100 8 4 4 0 000-8z"})}),s.jsx("span",{children:"Subir fotos"})]}),h.length>0&&s.jsxs("span",{className:"text-xs text-gray-600",children:[h.length," archivo(s) seleccionados"]})]}),N.length>0&&s.jsx("div",{className:"mt-3 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:N.map((D,B)=>s.jsx("img",{src:D,alt:`preview ${B}`,className:"h-28 w-full object-cover rounded border"},B))})]}),s.jsx("div",{className:"mt-2 flex justify-center",children:s.jsx(qt,{type:"submit",disabled:b||!t,children:b?"Publicando...":"Publicar Figura"})})]})})]})}function gg(){return m.useEffect(()=>{document.title="FiguMarket - Trminos y condiciones"},[]),s.jsxs("section",{className:"max-w-3xl mx-auto px-4 py-8",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Trminos y condiciones"}),s.jsxs("p",{className:"mt-2 text-gray-700",children:["ltima actualizacin: ",new Date().toLocaleDateString()]}),s.jsxs("div",{className:"mt-6 space-y-6 text-gray-800",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold",children:"1. Introduccin"}),s.jsx("p",{className:"mt-2",children:"Estos Trminos y condiciones regulan el uso de la plataforma FiguMarket, incluyendo la compra, venta y publicacin de figuras, as como la comunicacin entre usuarios. Al registrarte y utilizar el servicio aceptas estas condiciones."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold",children:"2. Registro y cuentas"}),s.jsxs("ul",{className:"mt-2 list-disc pl-5 space-y-1",children:[s.jsx("li",{children:"Debes proporcionar informacin veraz y completa."}),s.jsx("li",{children:"Eres responsable de mantener segura tu cuenta y credenciales."}),s.jsx("li",{children:"El uso de la plataforma debe cumplir las leyes aplicables."})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold",children:"3. Publicacin y venta de productos"}),s.jsxs("ul",{className:"mt-2 list-disc pl-5 space-y-1",children:[s.jsx("li",{children:"Publica nicamente productos permitidos y que poseas legalmente."}),s.jsx("li",{children:"La informacin (descripcin, precio, estado) debe ser fiel y no engaosa."}),s.jsx("li",{children:"Las imgenes deben representar el producto real y respetar derechos de autor."}),s.jsx("li",{children:"Est prohibido publicar material ilegal, ofensivo o fraudulento."})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold",children:"4. Comunicacin entre usuarios"}),s.jsxs("ul",{className:"mt-2 list-disc pl-5 space-y-1",children:[s.jsx("li",{children:"Mantn un trato respetuoso y no acoses ni insultes."}),s.jsx("li",{children:"No compartas datos personales de terceros sin su consentimiento."}),s.jsx("li",{children:"Evita spam, phishing y cualquier conducta engaosa."})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold",children:"5. Transacciones y precios"}),s.jsxs("ul",{className:"mt-2 list-disc pl-5 space-y-1",children:[s.jsx("li",{children:"Los precios deben expresarse de forma clara y en la moneda indicada."}),s.jsx("li",{children:"Las transacciones deben realizarse conforme a la normativa vigente."}),s.jsx("li",{children:"FiguMarket puede moderar o retirar publicaciones que incumplan estas condiciones."})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold",children:"6. Contenido prohibido"}),s.jsx("p",{className:"mt-2",children:"Se prohbe, sin limitacin: productos falsificados, robados, material que promueva odio o violencia, pornografa, incitacin a actividades ilegales y cualquier contenido que infrinja derechos de propiedad intelectual."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold",children:"7. Responsabilidad y garantas"}),s.jsxs("ul",{className:"mt-2 list-disc pl-5 space-y-1",children:[s.jsx("li",{children:"FiguMarket no garantiza la calidad, seguridad o legalidad de los productos publicados por los usuarios."}),s.jsx("li",{children:"Los acuerdos de compraventa se realizan entre usuarios; la plataforma acta como intermediaria tecnolgica."}),s.jsx("li",{children:"FiguMarket no se hace responsable por prdidas derivadas de transacciones entre usuarios."})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold",children:"8. Moderacin y sanciones"}),s.jsx("p",{className:"mt-2",children:"Nos reservamos el derecho de suspender o eliminar cuentas y publicaciones que incumplan estos Trminos, y de comunicar a las autoridades conductas ilcitas."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold",children:"9. Propiedad intelectual"}),s.jsx("p",{className:"mt-2",children:"El contenido de la plataforma (marca, diseo y software) pertenece a FiguMarket. Los usuarios conservan los derechos sobre sus imgenes y descripciones, garantizando que tienen permiso para publicarlas."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold",children:"10. Privacidad y datos"}),s.jsx("p",{className:"mt-2",children:"El tratamiento de datos personales se realiza conforme a la normativa aplicable. No compartas informacin sensible en las conversaciones. Consulta tambin la poltica de privacidad, cuando est disponible."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold",children:"11. Seguridad"}),s.jsxs("ul",{className:"mt-2 list-disc pl-5 space-y-1",children:[s.jsx("li",{children:"No intentes vulnerar la seguridad de la plataforma."}),s.jsx("li",{children:"Reporta fallos o vulnerabilidades responsables a FiguMarket."})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold",children:"12. Cambios en los Trminos"}),s.jsx("p",{className:"mt-2",children:"Podremos actualizar estos Trminos. Te notificaremos cambios relevantes; el uso continuado implica aceptacin de la versin vigente."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold",children:"13. Contacto"}),s.jsx("p",{className:"mt-2",children:"Para consultas o reportes, utiliza el apartado de mensajes de la plataforma o el formulario de contacto, cuando est habilitado."})]})]})]})}function xg(){const{favoritos:e,toggle:t}=Xr(),n=Me(),[r,l]=m.useState([]),[a,i]=m.useState(!1);m.useEffect(()=>{document.title="FiguMarket - Seguimientos"},[]);const o=d=>n(`/producto/${d}`),c=d=>(d||"").toString().trim().toLowerCase(),u=d=>{const g=c(d);return g?g.includes("vendid")?"bg-red-100 text-red-800 border border-red-200":g.includes("negoci")?"bg-yellow-100 text-yellow-800 border border-yellow-200":(g.includes("dispon"),"bg-green-100 text-green-800 border border-green-200"):"bg-gray-100 text-gray-700 border border-gray-200"};m.useEffect(()=>{let d=!0;return(async()=>{if(!e||e.length===0){d&&l([]);return}i(!0);try{const v=(await Promise.all(e.map(w=>Hr(w.id).catch(()=>({ok:!1}))))).map((w,E)=>w!=null&&w.ok&&w.data?w.data:e[E]);d&&l(v)}finally{d&&i(!1)}})(),()=>{d=!1}},[e]);const p=m.useMemo(()=>r&&r.length>0?r:e,[r,e]);return s.jsxs("section",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"En seguimiento"}),a?s.jsx("div",{className:"mt-6 w-full bg-white",children:Array.from({length:Math.max(3,Math.min(8,(e||[]).length||5))}).map((d,g)=>s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[160px_1fr] md:grid-cols-[200px_2fr_260px] gap-4 md:gap-6 p-4 items-start border-b last:border-b-0 animate-pulse",children:[s.jsx("div",{className:"h-24 w-[160px] md:h-28 md:w-[200px] rounded border bg-gray-200"}),s.jsxs("div",{className:"min-w-0 space-y-2",children:[s.jsx("div",{className:"h-5 w-2/3 bg-gray-200 rounded"}),s.jsx("div",{className:"h-4 w-5/6 bg-gray-200 rounded"}),s.jsx("div",{className:"h-4 w-4/6 bg-gray-200 rounded"}),s.jsx("div",{className:"h-6 w-24 bg-gray-300 rounded mt-2"}),s.jsxs("div",{className:"flex gap-2 mt-3",children:[s.jsx("div",{className:"h-8 w-28 bg-gray-200 rounded"}),s.jsx("div",{className:"h-8 w-36 bg-gray-200 rounded"})]})]}),s.jsx("div",{className:"flex flex-col items-end gap-2",children:s.jsx("div",{className:"h-7 w-28 bg-gray-200 rounded"})})]},g))}):!p||p.length===0?s.jsx("p",{className:"mt-4 text-gray-600",children:"No tienes figuras en seguimiento."}):s.jsx("div",{className:"mt-6 w-full bg-white",children:p.map(d=>{var w,E;const g=Ce((E=(w=d==null?void 0:d.imagenes)==null?void 0:w[0])==null?void 0:E.url)||"https://via.placeholder.com/160x120?text=Figura",j=Number((d==null?void 0:d.precio)||0),v=typeof(d==null?void 0:d.estado)=="string"&&d.estado.trim()?d.estado:null;return s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[160px_1fr] md:grid-cols-[200px_2fr_260px] gap-4 md:gap-6 p-4 items-start border-b last:border-b-0",children:[s.jsx("button",{className:"relative",onClick:()=>o(d.id),children:s.jsx("img",{src:g,alt:d.nombre,loading:"lazy",className:"h-32 w-full sm:h-28 sm:w-[200px] object-contain rounded border bg-white p-1",onError:h=>{h.currentTarget.src="https://via.placeholder.com/200x150?text=Figura"}})}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("h3",{className:"text-base font-semibold",children:d.nombre}),d.descripcion&&s.jsx("p",{className:"hidden md:block text-sm text-gray-600",children:d.descripcion}),s.jsx("p",{className:"mt-2 text-base text-brand font-semibold",children:Xn(j)}),s.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[s.jsx(qt,{variant:"outline",onClick:()=>o(d.id),children:"Ver detalle"}),s.jsx(qt,{variant:"secondary",onClick:()=>t(d),children:"Quitar seguimiento"})]})]}),s.jsx("div",{className:"mt-2 md:mt-0 flex items-end justify-end md:flex-col gap-2",children:s.jsx("span",{className:`inline-flex items-center rounded-md px-3 py-1 text-sm font-semibold ${u(v)}`,children:v||"Actualizando"})})]},d.id)})})]})}function vg(){const{isAuthenticated:e,usuario:t}=Xe(),n=Me(),{search:r}=jt(),l=new URLSearchParams(r).get("edit"),[a,i]=m.useState([]),[o,c]=m.useState({titulo:"",resumen:"",descripcion:"",imagen:"",url:""}),[u,p]=m.useState(!1),[d,g]=m.useState(""),[j,v]=m.useState(!0),[w,E]=m.useState(null),[h,f]=m.useState({}),[x,y]=m.useState(null);m.useEffect(()=>{document.title="FiguMarket - Admin noticias"},[]),m.useEffect(()=>{if(!e||(t==null?void 0:t.rol)!=="admin"){n("/");return}(async()=>{const M=await Ki();if(M.ok){const N=M.data,O=Array.isArray(N)?N:Array.isArray(N==null?void 0:N.items)?N.items:Array.isArray(N==null?void 0:N.data)?N.data:[];i(O);const H={};for(const D of O)H[D.id]={titulo:D.titulo||"",resumen:D.resumen||"",imagen:D.imagen||"",url:D.url||""};f(H)}v(!1),l&&(E(Number(l)),setTimeout(()=>{const N=document.getElementById(`news-${l}`);if(N){N.scrollIntoView({behavior:"smooth",block:"center"});const O=N.querySelector("input");O&&O.focus()}},100),setTimeout(()=>E(null),4e3))})()},[e,t,n]);const S=M=>c(N=>({...N,[M.target.name]:M.target.value})),b=async M=>{M.preventDefault(),p(!0),g("");const N={...o},O=await Wd(N);if(p(!1),!O.ok){g(typeof O.error=="string"?O.error:"Error al crear");return}i(H=>[O.data,...H]),c({titulo:"",resumen:"",descripcion:"",imagen:"",url:""})},_=async(M,N)=>{y(M);try{const O=await tg(M,N);if(!O.ok){alert(typeof O.error=="string"?O.error:"No se pudo actualizar");return}i(H=>H.map(D=>D.id===M?O.data:D)),f(H=>{var D,B,K,Z,fe,k,F,C;return{...H,[M]:{titulo:((D=O.data)==null?void 0:D.titulo)||((B=H[M])==null?void 0:B.titulo)||"",resumen:((K=O.data)==null?void 0:K.resumen)||((Z=H[M])==null?void 0:Z.resumen)||"",imagen:((fe=O.data)==null?void 0:fe.imagen)||((k=H[M])==null?void 0:k.imagen)||"",url:((F=O.data)==null?void 0:F.url)||((C=H[M])==null?void 0:C.url)||""}}})}finally{y(null)}},L=async M=>{if(!confirm("Eliminar esta noticia?"))return;if(!(await Qd(M)).ok){alert("No se pudo eliminar");return}i(O=>O.filter(H=>H.id!==M))};return s.jsxs("section",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Administracin de noticias"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Publica, edita y elimina noticias para el slider."}),s.jsxs("form",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-3",onSubmit:b,children:[s.jsx("input",{name:"titulo",value:o.titulo,onChange:S,placeholder:"Ttulo",className:"border rounded px-3 py-2",required:!0}),s.jsx("input",{name:"resumen",value:o.resumen,onChange:S,placeholder:"Resumen",className:"border rounded px-3 py-2"}),s.jsx("input",{name:"imagen",value:o.imagen,onChange:S,placeholder:"URL de imagen",className:"border rounded px-3 py-2"}),s.jsx("input",{name:"url",value:o.url,onChange:S,placeholder:"Enlace externo (opcional)",className:"border rounded px-3 py-2"}),s.jsx("textarea",{name:"descripcion",value:o.descripcion,onChange:S,placeholder:"Descripcin",className:"border rounded px-3 py-2 md:col-span-2",rows:3}),s.jsxs("div",{className:"md:col-span-2 flex items-center gap-3",children:[s.jsx("button",{type:"submit",disabled:u,className:"inline-flex items-center h-10 rounded-md px-4 bg-brand text-white disabled:opacity-50",children:u?"Publicando...":"Publicar noticia"}),d&&s.jsx("span",{className:"text-red-600 text-sm",children:d})]})]}),s.jsx("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:j?Array.from({length:6}).map((M,N)=>s.jsxs("article",{className:"rounded-lg border overflow-hidden animate-pulse",children:[s.jsx("div",{className:"h-36 bg-gray-200"}),s.jsxs("div",{className:"p-3 space-y-2",children:[s.jsx("div",{className:"h-4 w-3/4 bg-gray-200 rounded"}),s.jsx("div",{className:"h-3 w-2/3 bg-gray-100 rounded"}),s.jsx("div",{className:"h-3 w-1/2 bg-gray-100 rounded"}),s.jsx("div",{className:"h-8 w-full bg-gray-200 rounded"})]})]},N)):a.length===0?s.jsx("p",{className:"text-gray-600",children:"No hay noticias publicadas."}):a.map(M=>{var N,O,H,D;return s.jsxs("article",{id:`news-${M.id}`,className:`rounded-lg border overflow-hidden ${w===M.id?"ring-2 ring-brand":""}`,children:[s.jsx("div",{className:"h-36 bg-center bg-cover",style:{backgroundImage:M.imagen?`url(${M.imagen})`:"none"}}),s.jsxs("div",{className:"p-3",children:[s.jsx("input",{className:"w-full border rounded px-2 py-1 font-semibold",value:((N=h[M.id])==null?void 0:N.titulo)??"",onChange:B=>f(K=>({...K,[M.id]:{...K[M.id]||{},titulo:B.target.value}})),onBlur:B=>_(M.id,{titulo:B.target.value})}),s.jsx("textarea",{className:"mt-2 w-full border rounded px-2 py-1 text-sm",value:((O=h[M.id])==null?void 0:O.resumen)??"",onChange:B=>f(K=>({...K,[M.id]:{...K[M.id]||{},resumen:B.target.value}})),onBlur:B=>_(M.id,{resumen:B.target.value})}),s.jsx("input",{className:"mt-2 w-full border rounded px-2 py-1 text-sm",value:((H=h[M.id])==null?void 0:H.imagen)??"",onChange:B=>f(K=>({...K,[M.id]:{...K[M.id]||{},imagen:B.target.value}})),onBlur:B=>_(M.id,{imagen:B.target.value}),placeholder:"URL imagen"}),s.jsx("input",{className:"mt-2 w-full border rounded px-2 py-1 text-sm",value:((D=h[M.id])==null?void 0:D.url)??"",onChange:B=>f(K=>({...K,[M.id]:{...K[M.id]||{},url:B.target.value}})),onBlur:B=>_(M.id,{url:B.target.value}),placeholder:"URL externa"}),s.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[s.jsx("a",{href:M.url||"#",target:"_blank",rel:"noreferrer",className:"text-blue-600 text-sm hover:underline",children:M.url?"Ver":"Sin enlace"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>_(M.id,h[M.id]||{titulo:M.titulo,resumen:M.resumen,imagen:M.imagen,url:M.url}),disabled:x===M.id,className:"inline-flex items-center h-8 rounded-md px-3 border bg-brand text-white hover:opacity-90 disabled:opacity-50",children:x===M.id?"Guardando":"Guardar"}),s.jsx("button",{onClick:()=>L(M.id),className:"inline-flex items-center h-8 rounded-md px-3 border hover:bg-red-600 hover:text-white",children:"Eliminar"})]})]})]})]},M.id)})})]})}function yg(){const{isAuthenticated:e,usuario:t}=Xe(),n=!!t&&(t==null?void 0:t.rol)==="admin",r=Me(),[l,a]=m.useState([]),[i,o]=m.useState(!0),[c,u]=m.useState(""),[p,d]=m.useState(!1),[g,j]=m.useState({titulo:"",resumen:"",descripcion:"",imagen:"",url:""});m.useEffect(()=>{document.title="FiguMarket - Noticias",(async()=>{var x;const f=await Ki();if(f.ok){const y=f.data,S=Array.isArray(y)?y:Array.isArray(y==null?void 0:y.items)?y.items:Array.isArray(y==null?void 0:y.data)?y.data:[];a(S)}else{const y=typeof f.error=="string"?f.error:((x=f.error)==null?void 0:x.message)||"No se pudieron cargar las noticias";u(y)}o(!1)})()},[]);const v=h=>j(f=>({...f,[h.target.name]:h.target.value})),w=async h=>{var f;if(h.preventDefault(),!!n){d(!0);try{const x=await Wd(g);if(x.ok)a(y=>[x.data,...y]),j({titulo:"",resumen:"",descripcion:"",imagen:"",url:""});else{const y=typeof x.error=="string"?x.error:((f=x.error)==null?void 0:f.message)||"No se pudo publicar la noticia";u(y)}}finally{d(!1)}}},E=async h=>{var y;if(!n||!window.confirm("Eliminar esta noticia?"))return;const x=await Qd(h);if(!x.ok){const S=typeof x.error=="string"?x.error:((y=x.error)==null?void 0:y.message)||"No se pudo eliminar";alert(S);return}a(S=>S.filter(b=>b.id!==h))};return s.jsxs("section",{className:"mx-auto max-w-6xl px-4",children:[s.jsxs("header",{className:"text-center",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Noticias"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Actualizaciones y novedades del mundo de las figuras."})]}),n&&s.jsxs("form",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-3",onSubmit:w,children:[s.jsx("input",{name:"titulo",value:g.titulo,onChange:v,placeholder:"Ttulo",className:"border rounded px-3 py-2",required:!0}),s.jsx("input",{name:"resumen",value:g.resumen,onChange:v,placeholder:"Resumen",className:"border rounded px-3 py-2"}),s.jsx("input",{name:"imagen",value:g.imagen,onChange:v,placeholder:"URL de imagen",className:"border rounded px-3 py-2"}),s.jsx("input",{name:"url",value:g.url,onChange:v,placeholder:"Enlace externo (opcional)",className:"border rounded px-3 py-2"}),s.jsx("textarea",{name:"descripcion",value:g.descripcion,onChange:v,placeholder:"Descripcin",className:"border rounded px-3 py-2 md:col-span-2",rows:3}),s.jsxs("div",{className:"md:col-span-2 flex items-center gap-3",children:[s.jsx("button",{type:"submit",disabled:p,className:"inline-flex items-center h-10 rounded-md px-4 bg-brand text-white disabled:opacity-50",children:p?"Publicando...":"Publicar noticia"}),c&&s.jsx("span",{className:"text-red-600 text-sm",children:c})]})]}),c&&s.jsx("div",{className:"mt-6 rounded-md border border-red-200 bg-red-50 text-red-700 p-3",children:typeof c=="string"?c:String(c)}),s.jsx("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i?Array.from({length:6}).map((h,f)=>s.jsxs("article",{className:"rounded-xl border overflow-hidden shadow-sm animate-pulse",children:[s.jsx("div",{className:"h-48 sm:h-40 bg-gray-200"}),s.jsxs("div",{className:"p-4 space-y-3",children:[s.jsx("div",{className:"h-5 w-3/4 bg-gray-200 rounded"}),s.jsx("div",{className:"h-4 w-2/3 bg-gray-100 rounded"}),s.jsx("div",{className:"h-4 w-1/2 bg-gray-100 rounded"})]})]},f)):!Array.isArray(l)||l.length===0?s.jsx("p",{className:"text-gray-600",children:"No hay noticias publicadas todava."}):l.map(h=>s.jsxs("article",{className:"group relative rounded-xl border overflow-hidden shadow-sm hover:shadow-md transition bg-white",children:[s.jsx("div",{className:"h-48 sm:h-40 bg-center bg-cover",style:{backgroundImage:(()=>{const f=(h==null?void 0:h.imagen)||(h==null?void 0:h.imagen_url)||(h==null?void 0:h.image)||"",x=typeof f=="string"?Ce(f)||f:"";return x?`url(${x})`:"none"})()},children:!h.imagen&&s.jsx("div",{className:"h-full w-full flex items-center justify-center bg-gray-100 text-gray-400",children:"Sin imagen"})}),s.jsxs("div",{className:"p-4",children:[s.jsx("h2",{className:"text-lg font-semibold line-clamp-2",children:h.titulo}),h.resumen&&s.jsx("p",{className:"mt-2 text-sm text-gray-600 line-clamp-3",children:h.resumen}),s.jsx("div",{className:"mt-4 flex items-center justify-between",children:h.url?s.jsxs("a",{href:h.url,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 h-10 rounded-md px-3 border hover:bg-gray-100 w-full justify-center sm:w-auto",children:[s.jsx("span",{children:"Leer ms"}),s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"h-4 w-4",children:[s.jsx("path",{d:"M14 3h7v7h-2V6.414l-8.293 8.293-1.414-1.414L17.586 5H14V3z"}),s.jsx("path",{d:"M5 5h7v2H7v10h10v-5h2v7H5V5z"})]})]}):s.jsx("span",{className:"text-sm text-gray-400",children:"Sin enlace externo"})}),n&&s.jsxs("div",{className:"absolute bottom-3 right-3 flex items-center gap-2",children:[s.jsx("button",{type:"button","aria-label":"Editar",title:"Editar",onClick:f=>{f.stopPropagation(),r(`/admin/noticias?edit=${h.id}`)},className:"inline-flex items-center justify-center h-8 w-8 rounded-full border text-yellow-500 hover:text-yellow-600 hover:bg-yellow-50 focus:outline-none focus:ring-2 focus:ring-yellow-300",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"h-4 w-4",children:[s.jsx("path",{d:"M12 20h9"}),s.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 1 1 3 3L7 19l-4 1 1-4 12.5-12.5z"})]})}),s.jsx("button",{type:"button","aria-label":"Eliminar",title:"Eliminar",onClick:f=>{f.stopPropagation(),E(h.id)},className:"inline-flex items-center justify-center h-8 w-8 rounded-full border text-red-600 hover:text-red-700 hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-red-300",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"h-4 w-4",children:s.jsx("path",{d:"M9 3h6l1 2h5v 2H3V5h5l1-2zm-1 6h8l-1 10H9L8 9z"})})})]})]})]},h.id))})]})}const wg=[{key:"3d",titulo:"Destacado 3 das",precio:4.99,descripcion:"Tu figura aparece en Figuras destacadas durante 3 das."},{key:"15d",titulo:"Destacado 15 das",precio:14.99,descripcion:"Mayor visibilidad por 15 das en la seccin destacada."},{key:"90d",titulo:"Destacado 3 meses",precio:29.99,descripcion:"Mxima exposicin durante 90 das, ideal para ventas prolongadas."}];function jg(){const{id:e}=Wi(),t=Me();return m.useEffect(()=>{document.title="FiguMarket - Destacar figura"},[]),s.jsxs("section",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Destacar figura"}),s.jsxs("p",{className:"mt-2 text-gray-600",children:["Elige el plan de visibilidad para tu figura (ID ",e,"). Este flujo es ficticio para demostrar el proceso completo."]}),s.jsx("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-3 gap-6",children:wg.map(n=>s.jsxs("div",{className:"rounded-lg border bg-white shadow-sm p-4 flex flex-col",children:[s.jsx("h2",{className:"text-lg font-semibold",children:n.titulo}),s.jsx("p",{className:"mt-1 text-sm text-gray-600",children:n.descripcion}),s.jsx("p",{className:"mt-3 text-2xl font-bold text-brand",children:Xn(n.precio)}),s.jsxs("ul",{className:"mt-3 text-sm text-gray-700 list-disc list-inside space-y-1",children:[s.jsx("li",{children:"Aparece al inicio en Figuras destacadas."}),s.jsx("li",{children:"Distintivo visual de Destacado en la tarjeta."}),s.jsx("li",{children:"Sin cargos reales: demostracin TFG."})]}),s.jsx("button",{className:"mt-4 inline-flex items-center justify-center rounded-md border px-3 py-2 hover:bg-brand hover:text-white",onClick:()=>t(`/destacar/${e}/checkout?plan=${n.key}`),children:"Continuar"})]},n.key))})]})}const fc={"3d":{label:"3 das",days:3,price:4.99},"15d":{label:"15 das",days:15,price:14.99},"90d":{label:"3 meses",days:90,price:29.99}};function Ng(){const{id:e}=Wi(),[t]=Ad(),n=t.get("plan")||"3d",r=fc[n]||fc["3d"],[l,a]=m.useState("tarjeta"),[i,o]=m.useState({nombre:"",numero:"",caducidad:"",cvv:"",paypalEmail:""}),c=Me();m.useEffect(()=>{document.title="FiguMarket - Checkout destacar"},[]);const u=m.useMemo(()=>({id:e,planKey:n,precio:r.price,duracion:r.label}),[e,n,r]),p=async d=>{d.preventDefault();try{const g=new Date,j=new Date(g.getTime()+r.days*24*60*60*1e3),v={destacado:!0,destacado_inicio:g.toISOString(),destacado_fin:j.toISOString()},w=await In(Number(e),v);if(!w.ok){alert(typeof w.error=="string"?w.error:"No se pudo actualizar la figura como destacada");return}alert(`Pago completado. La figura ${e} ahora es destacada (${r.label}).`),c(`/producto/${e}`)}catch{alert("Error de red al marcar la figura como destacada")}};return s.jsxs("section",{className:"max-w-xl mx-auto px-4",children:[s.jsx("h1",{className:"text-2xl font-bold text-center sm:text-left",children:"Checkout de destacado"}),s.jsx("p",{className:"mt-2 text-gray-600 text-center sm:text-left",children:"Completa los datos de pago (simulado) para destacar tu figura."}),s.jsxs("div",{className:"mt-4 rounded-lg border bg-white p-4 sm:p-6 text-center sm:text-left",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 rounded-md bg-black text-white px-3 py-1 text-xs font-semibold",children:[s.jsx("span",{children:u.duracion}),s.jsx("span",{className:"opacity-80",children:""}),s.jsx("span",{children:Xn(u.precio)})]}),s.jsxs("p",{className:"mt-3 text-sm",children:["Figura ID: ",s.jsx("span",{className:"font-semibold",children:e})]})]}),s.jsxs("form",{className:"mt-6 grid gap-4",onSubmit:p,children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Mtodo de pago"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("button",{type:"button",onClick:()=>a("tarjeta"),className:`inline-flex items-center justify-center gap-2 rounded-md border px-3 py-2 text-sm ${l==="tarjeta"?"bg-brand text-white border-brand":"bg-white text-gray-700 hover:bg-gray-50"}`,children:[s.jsxs("span",{className:"inline-flex items-center gap-1",children:[s.jsx("img",{src:"https://cdn.simpleicons.org/visa",alt:"Visa",className:"h-4 w-4"}),s.jsx("img",{src:"https://cdn.simpleicons.org/mastercard",alt:"Mastercard",className:"h-4 w-4"})]}),s.jsx("span",{children:"Tarjeta"})]}),s.jsxs("button",{type:"button",onClick:()=>a("paypal"),className:`inline-flex items-center justify-center gap-2 rounded-md border px-3 py-2 text-sm ${l==="paypal"?"bg-brand text-white border-brand":"bg-white text-gray-700 hover:bg-gray-50"}`,children:[s.jsx("img",{src:"https://cdn.simpleicons.org/paypal",alt:"PayPal",className:"h-4 w-4"}),s.jsx("span",{children:"PayPal"})]})]})]}),l==="tarjeta"?s.jsxs("div",{className:"rounded-lg border bg-white p-4 sm:p-6 grid gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm",children:"Nombre del titular"}),s.jsx("input",{className:"mt-1 w-full rounded-md border px-3 py-2",value:i.nombre,onChange:d=>o({...i,nombre:d.target.value}),placeholder:"Nombre Apellidos"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm",children:"Nmero de tarjeta"}),s.jsx("input",{className:"mt-1 w-full rounded-md border px-3 py-2",value:i.numero,onChange:d=>o({...i,numero:d.target.value}),placeholder:"1234 5678 9012 3456"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm",children:"Caducidad"}),s.jsx("input",{className:"mt-1 w-full rounded-md border px-3 py-2",value:i.caducidad,onChange:d=>o({...i,caducidad:d.target.value}),placeholder:"MM/AA"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm",children:"CVV"}),s.jsx("input",{className:"mt-1 w-full rounded-md border px-3 py-2",value:i.cvv,onChange:d=>o({...i,cvv:d.target.value}),placeholder:"123"})]})]})]}):s.jsxs("div",{className:"rounded-lg border bg-white p-4 sm:p-6 grid gap-3",children:[s.jsx("label",{className:"block text-sm",children:"Email de PayPal"}),s.jsx("input",{className:"mt-1 w-full rounded-md border px-3 py-2",value:i.paypalEmail,onChange:d=>o({...i,paypalEmail:d.target.value}),placeholder:"usuario@correo.com"})]}),s.jsx("div",{className:"mt-2 flex",children:s.jsx("button",{type:"submit",className:"w-full inline-flex items-center justify-center h-12 rounded-lg px-4 bg-[#FECE00] text-black font-bold shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-[#FECE00]",children:"Pagar y destacar"})})]})]})}function bg(){return m.useEffect(()=>{document.title="FiguMarket - Aviso legal"},[]),s.jsxs("section",{className:"container-base py-10",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Aviso legal y Trminos"}),s.jsx("p",{className:"mt-4 text-sm text-gray-700",children:"Este portal de compraventa de figuras de segunda mano ofrece un espacio para publicar, descubrir y contactar entre usuarios. Al utilizar el sitio, aceptas nuestras condiciones de uso y te comprometes a cumplir las normas de convivencia y publicacin."}),s.jsxs("ul",{className:"mt-6 space-y-2 text-sm text-gray-700",children:[s.jsx("li",{children:"Responsabilidad de contenidos: cada usuario es responsable de lo que publica."}),s.jsx("li",{children:"Propiedad intelectual: respeta marcas, imgenes y derechos de terceros."}),s.jsx("li",{children:"Prohibiciones: no se permite contenido ilegal, engaoso o ofensivo."}),s.jsx("li",{children:"Moderacin: podemos retirar anuncios que incumplan las normas."})]})]})}function kg(){return m.useEffect(()=>{document.title="FiguMarket - Privacidad"},[]),s.jsxs("section",{className:"container-base py-10",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Poltica de privacidad"}),s.jsx("p",{className:"mt-4 text-sm text-gray-700",children:"En FiguMarket cuidamos tus datos. Recogemos la informacin necesaria para gestionar tu cuenta y tus publicaciones, y la usamos para mejorar tu experiencia."}),s.jsxs("ul",{className:"mt-6 space-y-2 text-sm text-gray-700",children:[s.jsx("li",{children:"Datos recogidos: nombre, email, telfono (opcional), anuncios publicados."}),s.jsx("li",{children:"Finalidad: gestin de usuarios, comunicacin y seguridad."}),s.jsx("li",{children:"Conservacin: el tiempo necesario para prestar el servicio."}),s.jsx("li",{children:"Derechos: acceso, rectificacin, cancelacin y oposicin."})]})]})}function Sg(){return m.useEffect(()=>{document.title="FiguMarket - Cookies"},[]),s.jsxs("section",{className:"container-base py-10",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Poltica de cookies"}),s.jsx("p",{className:"mt-4 text-sm text-gray-700",children:"Usamos cookies para recordar tus preferencias, mantener tu sesin activa y analizar el uso del sitio. Puedes configurar las cookies desde tu navegador."}),s.jsxs("ul",{className:"mt-6 space-y-2 text-sm text-gray-700",children:[s.jsx("li",{children:"Cookies esenciales: necesarias para el funcionamiento bsico."}),s.jsx("li",{children:"Cookies de rendimiento: ayudan a mejorar la experiencia."}),s.jsx("li",{children:"Cookies de terceros: integraciones como analtica o redes sociales."})]})]})}function Eg(){return m.useEffect(()=>{document.title="FiguMarket - Quines somos"},[]),s.jsxs("section",{className:"container-base py-10",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Quines somos"}),s.jsx("p",{className:"mt-4 text-sm text-gray-700",children:"Somos un equipo de coleccionistas que cre FiguMarket para facilitar el intercambio de figuras de segunda mano. Nuestro objetivo es que encontrar, publicar y vender sea simple, seguro y divertido."}),s.jsx("p",{className:"mt-3 text-sm text-gray-700",children:"Creemos en la comunidad y en dar una segunda vida a las piezas. Si quieres colaborar o tienes sugerencias, nos encantar escucharte!"})]})}function Cg(){return s.jsx(Ph,{children:s.jsx(yh,{children:s.jsxs(me,{path:"/",element:s.jsx(eg,{}),children:[s.jsx(me,{index:!0,element:s.jsx(rg,{})}),s.jsx(me,{path:"catalogo",element:s.jsx(lg,{})}),s.jsx(me,{path:"buscar",element:s.jsx(pg,{})}),s.jsx(me,{path:"producto/:id",element:s.jsx(og,{})}),s.jsx(me,{path:"seguimiento",element:s.jsx(mc,{children:s.jsx(xg,{})})}),s.jsx(me,{path:"vender",element:s.jsx(mc,{children:s.jsx(hg,{})})}),s.jsx(me,{path:"noticias",element:s.jsx(yg,{})}),s.jsx(me,{path:"admin/noticias",element:s.jsx(vg,{})}),s.jsx(me,{path:"terminos",element:s.jsx(gg,{})}),s.jsx(me,{path:"aviso-legal",element:s.jsx(bg,{})}),s.jsx(me,{path:"privacidad",element:s.jsx(kg,{})}),s.jsx(me,{path:"cookies",element:s.jsx(Sg,{})}),s.jsx(me,{path:"quienes-somos",element:s.jsx(Eg,{})}),s.jsx(me,{path:"perfil",element:s.jsx(cg,{})}),s.jsx(me,{path:"destacar/:id",element:s.jsx(jg,{})}),s.jsx(me,{path:"destacar/:id/checkout",element:s.jsx(Ng,{})}),s.jsx(me,{path:"perfil/editar",element:s.jsx(ug,{})}),s.jsx(me,{path:"login",element:s.jsx(dg,{})}),s.jsx(me,{path:"registro",element:s.jsx(fg,{})}),s.jsx(me,{path:"*",element:s.jsx(mg,{})})]})})})}function mc({children:e}){const{isAuthenticated:t}=Xe();return t?e:s.jsx(gh,{to:"/login",replace:!0})}const Pg=m.createContext(null);function _g({children:e}){const[t,n]=m.useState(!1),[r,l]=m.useState(["Anime","Videojuegos","Pelculas"]);m.useEffect(()=>{try{localStorage.removeItem("figumarket_carrito")}catch{}},[]);const a=m.useMemo(()=>({loading:t,setLoading:n,categorias:r,setCategorias:l}),[t,r]);return s.jsx(Pg.Provider,{value:a,children:e})}function Mg(){return s.jsx(_g,{children:s.jsx(Ih,{children:s.jsx(Xh,{children:s.jsx(Cg,{})})})})}const Lg=document.getElementById("root");Cd(Lg).render(s.jsx(kc.StrictMode,{children:s.jsx(Mg,{})}));
